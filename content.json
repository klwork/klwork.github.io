{"meta":{"title":"Klwork","subtitle":"ä¸“æ³¨äºå¿«ä¹çš„äº‹æƒ…","description":"klwork","author":"wangwei","url":"http://yoursite.com"},"pages":[{"title":"å…³äºæˆ‘","date":"2013-11-16T16:11:51.000Z","updated":"2019-02-17T06:18:52.848Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"ä¸ªäººç®€ä»‹æŠ€æœ¯ç”·ï¼Œæ¹˜äººï¼Œæ¼‚äºæ²ªï¼Œä¸é—²æ—¶é¼“æ£ä»£ç ï¼Œé—²æ—¶çœ‹å“²å­¦ï¼Œç®¡ç†ç±»ä¹¦ç±ã€‚å–œæ¬¢ç¾çš„ä¸œè¥¿ã€‚GithubæŠ€æœ¯åšå®¢ï¼šhttp://blog.klwork.com/GitHubï¼šhttps://github.com/klwork è”ç³»æ–¹å¼Email: wangwei_fir@126.com"},{"title":"æœ€è¿‘é¡¹ç›®","date":"2013-11-16T16:20:06.000Z","updated":"2018-02-27T15:51:52.728Z","comments":true,"path":"project/index.html","permalink":"http://yoursite.com/project/index.html","excerpt":"","text":""},{"title":"","date":"2018-12-26T02:33:52.251Z","updated":"2018-05-27T09:06:00.087Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":"tags | klwork sdfsdf èœå• æ ‡ç­¾ å…³äºæˆ‘ ä¸»é¡µ å½’æ¡£ æ ‡ç­¾ å…³äº akka apex bigdata book cassandra clojure drill druid dubbo elasticsearch etl geode graph hadoop hbase ignite java jvm kafka midd ops redis rocketmq scala spark storm timeseries work æµå¤„ç† BIG(DATA) ä¸“æ³¨å¿«ä¹çš„äº‹æƒ… ä¸“æ³¨å¿«ä¹çš„äº‹æƒ… ä¸»é¡µ å½’æ¡£ æ ‡ç­¾ å…³äº 2015-12-02 tags .article-meta { display: none; } #container .article .article-title { padding-right: 0; } .article-header { padding: 0; padding-top: 26px; border-left: none; text-align: center; } .article-header:hover { border-left: none; } .article-title { font-size: 1.6em } .article-meta { display: none; } .article-entry hr { margin: 0; } #container .article-info-post.article-info { display: none; } #container .article .article-title { padding: 0; } Source25akka1bigdata30book1cassandra5etl1java1jvm1kafka8language3midd3mq11notebook1scala1spark2storm1tool2translate4wiki2work23 akka apex bigdata book cassandra clojure drill druid dubbo elasticsearch etl geode graph hadoop hbase ignite java jvm kafka midd ops redis rocketmq scala spark storm timeseries work æµå¤„ç† .category-list li{ display: inline-block; font-size: 1.2em; margin: 0 1em .5em 0; border: 1px solid lightgray; padding: 4px; } .category-list a { color: gray; } .category-list-item:hover a { color: gray; text-decoration: none; font-weight: bold; } .category-list-count { margin-left: 2px; font-size: .9em; } .article-entry ul li:before{ display: none; } .article-inner { text-align: center; } .tags { max-width: 40em; margin: 2em auto; margin-top: 0em; } .tags a { margin-right: 1em; line-height: 65px; border-bottom: 1px solid gray; white-space: nowrap; } .tags a:hover { font-style: italic; border-bottom: 2px solid black; text-decoration: none; } #count > span { margin: auto .2em; font-weight: bold; } å·²æœ‰document.write($(\".category-list-item\").length)ä¸ªåˆ†ç±»ï¼Œ å…±è®¡document.write($(\".tags > a\").length)ä¸ªæ ‡ç­¾ã€‚ $('#count').appendTo('.count'); &uarr; è¿™ä¹ˆé•¿çš„æ–‡ç« æˆ‘éƒ½è¯»å®Œäº†ï¼Œçœ‹èµ·æ¥ä½œè€…å†™çš„å¾ˆè¾›è‹¦å“‡ï¼ç»™ä½œè€…èµæ¯å’–å•¡å–ï¼Œæ”¯æŒä½œè€…ç»§ç»­å†™ä½œğŸ˜ document.getElementById('btn_donate').onclick = function(){ $('#donate_board').addClass('hidden'); $('#donate_guide').removeClass('hidden'); } window._bd_share_config={ \"common\":{\"bdSnsKey\":{},\"bdText\":\"\",\"bdMini\":\"2\",\"bdMiniList\":false,\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"24\"},\"share\":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)]; var duoshuoQuery = {short_name:\"klwork\"}; (function() { var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); })(); #scroll { display: none; } var yiliaConfig = { fancybox: true, mathjax: true, animate: true, isHome: false, isPost: false, isArchive: false, isTag: false, isCategory: false, open_in_new: false } &copy; 2017 ä¸“æ³¨å¿«ä¹çš„äº‹æƒ… Hexo Theme Yelee by MOxFIVE æœ¬ç«™åˆ°è®¿æ•°: , æœ¬é¡µé˜…è¯»é‡: var backgroundnum = 5; var backgroundimg = \"url(/background/bg-x.jpg)\".replace(/x/gi, Math.ceil(Math.random() * backgroundnum)); $(\"body\").css({\"background\": backgroundimg, \"background-attachment\": \"fixed\", \"background-size\": \"cover\"}); (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-80646710-1', 'auto'); ga('send', 'pageview'); MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ], processEscapes: true, skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'] } }); MathJax.Hub.Queue(function() { var all = MathJax.Hub.getAllJax(), i; for(i=0; i < all.length; i += 1) { all[i].SourceElement().parentNode.className += ' has-jax'; } });"}],"posts":[{"title":"æœºå™¨å­¦ä¹ 43æ¡å†›è§„","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ 43æ¡å†›è§„","date":"2019-01-24T00:00:00.000Z","updated":"2019-01-24T14:25:47.209Z","comments":true,"path":"2019/01/24/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ 43æ¡å†›è§„/","link":"","permalink":"http://yoursite.com/2019/01/24/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ 43æ¡å†›è§„/","excerpt":"","text":"æœ¬æ–‡è½¬è‡ªhttps://blog.csdn.net/qq_39871625/article/details/78029392åŸæ–‡æ ‡é¢˜&lt;&lt;æœºå™¨å­¦ä¹ æ³•åˆ™ï¼šï¼ˆè°·æ­Œï¼‰æœºå™¨å­¦ä¹ å·¥ç¨‹æœ€ä½³å®è·µï¼ˆè¯‘ï¼‰&gt;&gt; æ¦‚è§ˆè¦æ‰“é€ ä¼˜è´¨çš„äº§å“ï¼šè¯·æŠŠè‡ªå·±çœ‹æˆæ˜¯ä¸€ä½å‡ºè‰²çš„å·¥ç¨‹å¸ˆï¼Œè€Œä¸æ˜¯ä¸€ä½æœºå™¨å­¦ä¹ ä¸“å®¶ã€‚ å®é™…ä¸Šï¼Œæ‚¨å°†é¢ä¸´çš„å¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯å·¥ç¨‹é—®é¢˜ã€‚å³ä½¿åœ¨ä½¿ç”¨å‡ºè‰²çš„æœºå™¨å­¦ä¹ ä¸“å®¶æŒæ¡çš„æ‰€æœ‰èµ„æºçš„æƒ…å†µä¸‹ï¼Œå¤§å¤šæ•°æ”¶è·ä¹Ÿæ˜¯ç”±åˆé€‚çš„ç‰¹å¾ï¼ˆè€Œéç²¾ç¡®çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼‰å¸¦æ¥çš„ã€‚æ‰€ä»¥ï¼Œè¿›è¡Œæœºå™¨å­¦ä¹ çš„åŸºæœ¬æ–¹æ³•æ˜¯ï¼š ç¡®ä¿æœºå™¨å­¦ä¹ æµç¨‹ä»å¤´åˆ°å°¾éƒ½ç¨³å›ºå¯é ã€‚ ä»åˆ¶å®šåˆç†çš„ç›®æ ‡å¼€å§‹ã€‚ ä»¥ç®€å•çš„æ–¹å¼æ·»åŠ å¸¸è¯†æ€§ç‰¹å¾ã€‚ ç¡®ä¿æœºå™¨å­¦ä¹ æµç¨‹å§‹ç»ˆç¨³å›ºå¯é ã€‚ ä¸Šè¿°æ–¹æ³•å°†åœ¨é•¿æ—¶é—´å†…å–å¾—å¾ˆå¥½çš„æ•ˆæœã€‚åªè¦æ‚¨ä»ç„¶å¯ä»¥é€šè¿‡æŸç§ç®€å•çš„æŠ€å·§å–å¾—è¿›å±•ï¼Œå°±ä¸åº”è¯¥åç¦»ä¸Šè¿°æ–¹æ³•ã€‚å¢åŠ å¤æ‚æ€§ä¼šå‡ç¼“æœªæ¥ç‰ˆæœ¬çš„å‘å¸ƒã€‚ å½“æ‚¨å……åˆ†åˆ©ç”¨äº†æ‰€æœ‰çš„ç®€å•æŠ€å·§ï¼Œæˆ–è®¸å°±åˆ°äº†æ¢ç´¢æœºå™¨å­¦ä¹ æœ€å‰æ²¿æŠ€æœ¯çš„æ—¶å€™äº†ã€‚ æœ¬æ–‡æ¡£ç»“æ„å¦‚ä¸‹ï¼š ç¬¬ä¸€éƒ¨åˆ†å¯å¸®åŠ©æ‚¨äº†è§£æ„å»ºæœºå™¨å­¦ä¹ ç³»ç»Ÿçš„æ—¶æœºæ˜¯å¦å·²ç»æˆç†Ÿã€‚ ç¬¬äºŒéƒ¨åˆ†ä»‹ç»äº†å¦‚ä½•éƒ¨ç½²ç¬¬ä¸€ä¸ªæœºå™¨å­¦ä¹ æµç¨‹ã€‚ ç¬¬ä¸‰éƒ¨åˆ†ä»‹ç»äº†åœ¨å‘æœºå™¨å­¦ä¹ æµç¨‹æ·»åŠ æ–°ç‰¹å¾æ—¶å¦‚ä½•è¿›è¡Œå‘å¸ƒå’Œè¿­ä»£ã€å¦‚ä½•è¯„ä¼°æ¨¡å‹ï¼Œä»¥åŠå¦‚ä½•åº”å¯¹è®­ç»ƒ-åº”ç”¨åå·®ã€‚ æœ€åä¸€éƒ¨åˆ†ä»‹ç»äº†å½“æ‚¨è¾¾åˆ°ç¨³å®šé˜¶æ®µæ—¶è¯¥æ€ä¹ˆåšã€‚ æœºå™¨å­¦ä¹ ä¹‹å‰Rule #1: Donâ€™t be afraid to launch a product without machine learning. è§„åˆ™1ï¼šä¸è¦å®³æ€•ä¸Šçº¿æ²¡æœ‰æœºå™¨å­¦ä¹ çš„äº§å“ã€‚ä¸­å¿ƒæ€æƒ³ä¸€å¥è¯æ¦‚æ‹¬ï¼šIf you think that machine learning will give you a 100% boost, then a heuristic will get you 50% of the way there. Rule #2: First, design and implement metrics. è§„åˆ™2ï¼šåœ¨åŠ¨æ‰‹ä¹‹å‰å…ˆè®¾è®¡å’Œå®ç°è¯„ä»·æŒ‡æ ‡ã€‚åœ¨æ„å»ºå…·ä½“çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿä¹‹å‰ï¼Œé¦–å…ˆåœ¨å½“å‰ç³»ç»Ÿä¸­è®°å½•å°½é‡è¯¦ç»†çš„å†å²ä¿¡æ¯ï¼Œç•™å¥½ç‰¹å¾æ•°æ®ã€‚è¿™æ ·ä¸ä»…èƒ½å¤Ÿç•™å¥½ç‰¹å¾æ•°æ®ï¼Œè¿˜èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬éšæ—¶äº†è§£ç³»ç»Ÿçš„çŠ¶æ€ï¼Œä»¥åŠåšå„ç§æ”¹åŠ¨æ—¶ç³»ç»Ÿçš„å˜åŒ–ã€‚ Rule #3: Choose machine learning over a complex heuristic. è§„åˆ™3ï¼šä¸è¦ä½¿ç”¨è¿‡äºå¤æ‚çš„è§„åˆ™ç³»ç»Ÿï¼Œä½¿ç”¨æœºå™¨å­¦ä¹ ç³»ç»Ÿã€‚ç®€å•æ¥è®²ï¼Œå¤æ‚çš„è§„åˆ™ç³»ç»Ÿéš¾ä»¥ç»´æŠ¤ï¼Œä¸å¯æ‰©å±•ï¼Œè€Œæˆ‘ä»¬å¾ˆç®€å•å°±å¯ä»¥è½¬ä¸ºMLç³»ç»Ÿï¼Œå˜å¾—å¯ç»´æŠ¤å¯æ‰©å±•ã€‚ æœºå™¨å­¦ä¹ ç¬¬ä¸€é˜¶æ®µï¼šå·¥ä½œæµï¼ˆPipelineï¼‰ML Phase I: Your First Pipelineæ„å»ºç¬¬ä¸€ä¸ªMLç³»ç»Ÿæ—¶ï¼Œä¸€å®šè¦æ›´å¤šå…³æ³¨ç³»ç»Ÿæ¶æ„çš„å»ºè®¾ã€‚è™½ç„¶æœºå™¨å­¦ä¹ çš„ç®—æ³•ä»¤äººæ¿€åŠ¨ï¼Œä½†æ˜¯åŸºç¡€æ¶æ„ä¸ç»™åŠ›æ‰¾ä¸åˆ°é—®é¢˜æ—¶ä¼šä»¤äººæŠ“ç‹‚ã€‚ Rule #4: Keep the first model simple and get the infrastructure right. è§„åˆ™4ï¼šç¬¬ä¸€ä¸ªæ¨¡å‹è¦ç®€å•ï¼Œä½†æ˜¯æ¶æ„è¦æ­£ç¡®ã€‚ç¬¬ä¸€ç‰ˆæ¨¡å‹çš„æ ¸å¿ƒæ€æƒ³æ˜¯æŠ“ä½ä¸»è¦ç‰¹å¾ã€ä¸åº”ç”¨å°½é‡è´´åˆä»¥åŠå¿«é€Ÿä¸Šçº¿ã€‚ Rule #5: Test the infrastructure independently from the machine learning. è§„åˆ™5ï¼šç‹¬ç«‹äºæœºå™¨å­¦ä¹ æ¥æµ‹è¯•æ¶æ„æµç¨‹ã€‚ç¡®ä¿æ¶æ„æ˜¯å¯å•ç‹¬æµ‹è¯•çš„ï¼Œå°†ç³»ç»Ÿçš„è®­ç»ƒéƒ¨åˆ†è¿›è¡Œå°è£…ï¼Œä»¥ç¡®ä¿å…¶ä»–éƒ¨åˆ†éƒ½æ˜¯å¯æµ‹è¯•çš„ã€‚ç‰¹åˆ«æ¥è®²ï¼š æµ‹è¯•æ•°æ®æ˜¯å¦æ­£ç¡®è¿›å…¥è®­ç»ƒç®—æ³•ã€‚æ£€æŸ¥å…·ä½“çš„ç‰¹å¾å€¼æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚æµ‹è¯•å®éªŒç¯å¢ƒç»™å‡ºçš„é¢„æµ‹ç»“æœä¸çº¿ä¸Šé¢„æµ‹ç»“æœæ˜¯å¦ä¸€è‡´ã€‚Rule #6: Be careful about dropped data when copying pipelines. è§„åˆ™6ï¼šå¤åˆ¶pipelineæ—¶è¦æ³¨æ„ä¸¢å¼ƒçš„æ•°æ®ã€‚ä»ä¸€ä¸ªåœºæ™¯å¤åˆ¶æ•°æ®åˆ°å¦ä¸€ä¸ªåœºæ™¯æ—¶ï¼Œè¦æ³¨æ„ä¸¤è¾¹å¯¹æ•°æ®çš„è¦æ±‚æ˜¯å¦ä¸€è‡´ï¼Œæ˜¯å¦æœ‰æ•°æ®ä¸¢å¤±çš„æƒ…å†µã€‚ Rule #7: Turn heuristics into features, or handle them externally. è§„åˆ™7ï¼šå°†å¯å‘è§„åˆ™è½¬åŒ–ä¸ºç‰¹å¾ï¼Œæˆ–è€…åœ¨å¤–éƒ¨å¤„ç†å®ƒä»¬ã€‚æœºå™¨å­¦ä¹ ç³»ç»Ÿè§£å†³çš„é—®é¢˜é€šå¸¸éƒ½ä¸æ˜¯æ–°é—®é¢˜ï¼Œè€Œæ˜¯å¯¹å·²æœ‰é—®é¢˜çš„è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚è¿™æ„å‘³ç€æœ‰å¾ˆå¤šå·²æœ‰çš„è§„åˆ™æˆ–è€…å¯å‘å¼è§„åˆ™å¯ä¾›ä½¿ç”¨ã€‚è¿™éƒ¨åˆ†ä¿¡æ¯åº”è¯¥è¢«å……åˆ†åˆ©ç”¨ï¼ˆä¾‹å¦‚åŸºäºè§„åˆ™çš„æ¨èæ’åºæ—¶ç”¨åˆ°çš„æ’åºè§„åˆ™ï¼‰ã€‚ä¸‹é¢æ˜¯å‡ ç§å¯å‘å¼è§„åˆ™å¯ä»¥è¢«ä½¿ç”¨çš„æ–¹å¼ï¼š ç”¨å¯å‘è§„åˆ™è¿›è¡Œé¢„å¤„ç†ã€‚å¦‚æœå¯å‘å¼è§„åˆ™éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥è¿™ä¹ˆç”¨ã€‚ä¾‹å¦‚åœ¨åƒåœ¾é‚®ä»¶è¯†åˆ«ä¸­ï¼Œå¦‚æœæœ‰å‘ä»¶äººå·²ç»è¢«æ‹‰é»‘äº†ï¼Œé‚£ä¹ˆå°±ä¸è¦å†å»å­¦â€œæ‹‰é»‘â€æ„å‘³ç€ä»€ä¹ˆï¼Œç›´æ¥æ‹‰é»‘å°±å¥½äº†ã€‚åˆ¶é€ ç‰¹å¾ã€‚å¯ä»¥è€ƒè™‘ä»å¯å‘å¼è§„åˆ™ç›´æ¥åˆ¶é€ ä¸€ä¸ªç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œä½ ä½¿ç”¨å¯å‘å¼è§„åˆ™æ¥è®¡ç®—queryçš„ç›¸å…³æ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠè¿™ä¸ªç›¸å…³æ€§å¾—åˆ†ä½œä¸ºç‰¹å¾ä½¿ç”¨ã€‚åé¢ä¹Ÿå¯ä»¥è€ƒè™‘å°†è®¡ç®—ç›¸å…³æ€§å¾—åˆ†çš„åŸå§‹æ•°æ®ä½œä¸ºç‰¹å¾ï¼Œä»¥æœŸè·å¾—æ›´å¤šçš„ä¿¡æ¯ã€‚æŒ–æ˜å¯å‘å¼è§„åˆ™çš„åŸå§‹è¾“å…¥ã€‚å¦‚æœæœ‰ä¸€ä¸ªappçš„è§„åˆ™å¯å‘å¼è§„åˆ™ç»¼åˆäº†ä¸‹è½½æ•°ã€æ ‡é¢˜æ–‡å­—é•¿åº¦ç­‰ä¿¡æ¯ï¼Œå¯ä»¥è€ƒè™‘å°†è¿™äº›åŸå§‹ä¿¡æ¯å•ç‹¬ä½œä¸ºç‰¹å¾ä½¿ç”¨ã€‚ä¿®æ”¹labelã€‚å½“ä½ è§‰å¾—å¯å‘å¼è§„åˆ™ä¸­åŒ…å«äº†æ ·æœ¬ä¸­æ²¡æœ‰åŒ…å«çš„ä¿¡æ¯æ—¶å¯ä»¥è¿™ä¹ˆç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³æœ€å¤§åŒ–ä¸‹è½½æ•°ï¼ŒåŒæ—¶è¿˜æƒ³è¦è¿½æ±‚ä¸‹è½½å†…å®¹çš„è´¨é‡ã€‚ä¸€ç§å¯è¡Œçš„æ–¹æ³•æ˜¯å°†labelä¹˜ä»¥appçš„å¹³å‡staræ•°ã€‚åœ¨ç”µå•†é¢†åŸŸï¼Œä¹Ÿå¸¸å¸¸ç”¨ç±»ä¼¼çš„æ–¹æ³•ï¼Œä¾‹å¦‚åœ¨ç‚¹å‡»ç‡é¢„ä¼°çš„é¡¹ç›®ä¸­ï¼Œå¯è€ƒè™‘å¯¹æœ€ç»ˆä¸‹å•çš„å•†å“æˆ–è€…é«˜è´¨é‡çš„å•†å“å¯¹åº”çš„æ ·æœ¬å¢åŠ æƒé‡ã€‚å·²æœ‰çš„å¯å‘å¼è§„åˆ™å¯ä»¥å¸®åŠ©æœºå™¨å­¦ä¹ ç³»ç»Ÿæ›´å¹³æ»‘çš„è¿‡æ¸¡ï¼Œä½†æ˜¯ä¹Ÿè¦è€ƒè™‘æ˜¯å¦æœ‰åŒç­‰æ•ˆæœæ›´ç®€å•çš„å®ç°æ–¹å¼ã€‚ æœºå™¨å­¦ä¹ ç¬¬ä¸€é˜¶æ®µï¼šç›‘æ§Monitoringæ¦‚æ‹¬æ¥è®²ï¼Œè¦ä¿æŒå¥½çš„ç›‘æ§ä¹ æƒ¯ï¼Œä¾‹å¦‚ä½¿æŠ¥è­¦æ˜¯å¯åº”å¯¹çš„ï¼Œä»¥åŠå»ºè®¾ä¸€ä¸ªDashboardé¡µé¢ã€‚ Rule #8: Know the freshness requirements of your system. è§„åˆ™8ï¼šäº†è§£ä½ ç³»ç»Ÿå¯¹æ–°é²œåº¦çš„è¦æ±‚ã€‚å¦‚æœæ¨¡å‹å»¶è¿Ÿä¸€å¤©æ›´æ–°ï¼Œä½ çš„ç³»ç»Ÿä¼šå—åˆ°å¤šå¤§çš„æ•ˆæœå½±å“ï¼Ÿå¦‚æœæ˜¯ä¸€å‘¨çš„å»¶è¿Ÿå‘¢ï¼Ÿæˆ–è€…æ›´ä¹…ï¼Ÿè¿™ä¸ªä¿¡æ¯å¯ä»¥è®©æˆ‘ä»¬æ’å¸ƒç›‘æ§çš„ä¼˜å…ˆçº§ã€‚å¦‚æœæ¨¡å‹ä¸€å¤©ä¸æ›´æ–°æ”¶å…¥å°±ä¼šä¸‹é™10%ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘è®©ä¸€ä¸ªå·¥ç¨‹å¸ˆå…¨å¤©å€™ç›‘æ§å®ƒã€‚äº†è§£ç³»ç»Ÿå¯¹æ–°é²œåº¦çš„è¦æ±‚æ˜¯å†³å®šå…·ä½“ç›‘æ§æ–¹æ¡ˆçš„ç¬¬ä¸€æ­¥ã€‚ Rule #9: Detect problems before exporting models. è§„åˆ™9ï¼šåœ¨æ¨¡å‹ä¸Šçº¿ä¹‹å‰æ£€æµ‹é—®é¢˜ã€‚æ¨¡å‹ä¸Šçº¿å‰ä¸€å®šè¦åšå®Œæ•´æ€§ã€æ­£ç¡®æ€§æ£€æŸ¥ï¼Œä¾‹å¦‚AUCã€Calibrationã€NEç­‰æŒ‡æ ‡çš„è®¡ç®—ç¡®è®¤ç­‰ã€‚å¦‚æœæ˜¯æ¨¡å‹ä¸Šçº¿å‰å‡ºäº†é—®é¢˜ï¼Œå¯ä»¥é‚®ä»¶é€šçŸ¥ï¼Œå¦‚æœæ˜¯ç”¨æˆ·æ­£åœ¨ä½¿ç”¨çš„æ¨¡å‹å‡ºäº†é—®é¢˜ï¼Œå°±éœ€è¦ç”µè¯é€šçŸ¥äº†ã€‚ Rule #10: Watch for silent failures. è§„åˆ™10ï¼šå…³æ³¨é™é»˜å¤±è´¥ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦ï¼Œè€Œåˆç»å¸¸å®¹æ˜“è¢«å¿½ç•¥çš„é—®é¢˜ã€‚æ‰€è°“çš„é™é»˜å¤±è´¥æŒ‡çš„æ˜¯å…¨éƒ¨æµç¨‹éƒ½æ­£å¸¸å®Œæˆï¼Œä½†æ˜¯èƒŒåä¾èµ–æ•°æ®å‡ºäº†é—®é¢˜ï¼Œå¯¼è‡´æ¨¡å‹æ•ˆæœé€æ­¥ä¸‹é™çš„é—®é¢˜ã€‚è¿™ç§é—®é¢˜åœ¨å…¶ä»–ç³»ç»Ÿä¸­å¹¶ä¸å¸¸å‡ºç°ï¼Œä½†æ˜¯åœ¨æœºå™¨å­¦ä¹ ç³»ç»Ÿä¸­å‡ºç°å‡ ç‡ä¼šæ¯”è¾ƒé«˜ã€‚ä¾‹å¦‚è®­ç»ƒä¾èµ–çš„æŸå¼ æ•°æ®è¡¨å¾ˆä¹…æ²¡æœ‰æ›´æ–°äº†ï¼Œæˆ–è€…è¡¨ä¸­çš„æ•°æ®å«ä¹‰å‘ç”Ÿäº†å˜åŒ–ç­‰ï¼Œå†æˆ–è€…æ•°æ®çš„è¦†ç›–åº¦å¿½ç„¶å˜å°‘ï¼Œéƒ½ä¼šå¯¹æ•ˆæœäº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚è§£å†³æ–¹æ³•æ˜¯æ˜¯å¯¹å…³é”®æ•°æ®çš„ç»Ÿè®¡ä¿¡æ¯è¿›è¡Œç›‘æ§ï¼Œå¹¶ä¸”å‘¨æœŸæ€§å¯¹å…³é”®æ•°æ®è¿›è¡Œäººå·¥æ£€æŸ¥ã€‚ Rule #11: Give feature column owners and documentation. è§„åˆ™11ï¼šç»™ç‰¹å¾ç»„åˆ†é…è´Ÿè´£äººï¼Œå¹¶è®°å½•æ–‡æ¡£ã€‚è¿™é‡Œçš„feature columnæŒ‡çš„æ˜¯ä¸€ä¸ªç‰¹å¾ç»„ï¼Œä¾‹å¦‚ç”¨æˆ·å¯èƒ½å±äºçš„å›½å®¶è¿™ç»„ç‰¹å¾å°±æ˜¯ä¸€ä¸ªfeature columnã€‚ å¦‚æœç³»ç»Ÿåºå¤§ï¼Œæ•°æ®ç¹å¤šï¼Œé‚£ä¹ˆçŸ¥é“æ¯ç»„æ•°æ®ç”±è°ç”Ÿæˆå°±å˜å¾—éå¸¸é‡è¦ã€‚è™½ç„¶æ•°æ®éƒ½æœ‰ç®€å•æè¿°ï¼Œä½†æ˜¯å…³äºç‰¹å¾çš„å…·ä½“è®¡ç®—é€»è¾‘ï¼Œæ•°æ®æ¥æºç­‰éƒ½éœ€è¦æ›´è¯¦ç»†çš„è®°å½•ã€‚ æœºå™¨å­¦ä¹ ç¬¬ä¸€é˜¶æ®µï¼šä¼˜åŒ–ç›®æ ‡Your Fist Objectiveobjectiveæ˜¯æ¨¡å‹è¯•å›¾ä¼˜åŒ–çš„å€¼ï¼Œè€ŒmetricæŒ‡çš„æ˜¯ä»»ä½•ç”¨æ¥è¡¡é‡ç³»ç»Ÿçš„å€¼ã€‚ Rule #12: Donâ€™t overthink which objective you choose to directly optimize. è§„åˆ™12ï¼šä¸è¦è¿‡äºçº ç»“è¯¥ä¼˜åŒ–å“ªä¸ªç›®æ ‡ã€‚æœºå™¨å­¦ä¹ ä¸Šçº¿çš„åˆæœŸï¼Œå³ä½¿ä½ åªä¼˜åŒ–ä¸€ä¸ªç›®æ ‡ï¼Œå¾ˆå¤šæŒ‡æ ‡ä¸€èˆ¬éƒ½ä¼šä¸€èµ·ä¸Šæ¶¨çš„ã€‚æ‰€ä»¥ä¸ç”¨å¤ªçº ç»“ç©¶ç«Ÿè¯¥ä¼˜åŒ–å“ªä¸ªã€‚ è™½ç„¶å¤§ä½¬è¿™ä¹ˆè¯´ï¼Œä½†æ˜¯åœ¨æˆ‘è‡ªå·±çš„å®è·µç»éªŒä¸­ï¼Œåªä¼˜åŒ–ä¸€ä¸ªç›®æ ‡ï¼Œç³»ç»Ÿçš„æ•´ä½“æ•ˆæœå´æœªå¿…ä¼šä¸Šæ¶¨ã€‚å…¸å‹çš„å¦‚æ¨èç³»ç»Ÿçš„CTRæ¨¡å‹ï¼Œä¸Šçº¿ä¹‹åCTRç¡®å®ä¼šæå‡ï¼Œä½†æ˜¯å¯¹åº”çš„CVRå¾ˆæœ‰å¯èƒ½ä¼šä¸‹é™ï¼Œè¿™æ—¶è¿˜éœ€è¦ä¸€ä¸ªCVRæ¨¡å‹ï¼Œä¸¤ä¸ªæ¨¡å‹åŒæ—¶ä½¿ç”¨æ‰èƒ½çœŸæ­£æå‡ç³»ç»Ÿæ•ˆæœã€‚ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸ºæ¯ä¸ªç›®æ ‡åªå…³æ³¨ç³»ç»Ÿæ•´ä¸ªè¿‡ç¨‹çš„ä¸€ä¸ªå­è¿‡ç¨‹ï¼Œè´ªå¿ƒåœ°å»ä¼˜åŒ–è¿™ä¸ªå­è¿‡ç¨‹ï¼Œä¸ä¸€å®šèƒ½å¤Ÿå¾—åˆ°å…¨å±€çš„æœ€ä¼˜è§£ï¼Œé€šå¸¸éœ€è¦æŠŠä¸»è¦çš„å‡ ä¸ªå­è¿‡ç¨‹éƒ½ä¼˜åŒ–ä¹‹åï¼Œæ‰èƒ½å–å¾—æ•´ä½“æ•ˆæœçš„æå‡ã€‚ Rule #13: Choose a simple, observable and attributable metric for your first objective. è§„åˆ™13ï¼šä¸ºä½ çš„ç¬¬ä¸€ä¸ªobjectiveé€‰æ‹©ä¸€ä¸ªç®€å•å¯è§‚æµ‹å¯å½’å› çš„metricã€‚objectiveåº”è¯¥æ˜¯ç®€å•å¯è¡¡é‡çš„ï¼Œå¹¶ä¸”æ˜¯metricçš„æœ‰æ•ˆä»£ç†ã€‚æœ€é€‚åˆè¢«å»ºæ¨¡çš„æ˜¯å¯ç›´æ¥è§‚æµ‹å¹¶è¢«å½’å› çš„è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š é“¾æ¥æ˜¯å¦è¢«ç‚¹å‡»ï¼Ÿè½¯ä»¶æ˜¯å¦è¢«ä¸‹è½½ï¼Ÿé‚®ä»¶æ˜¯å¦è¢«è½¬å‘ï¼Ÿâ€¦â€¦å°½é‡ä¸è¦åœ¨ç¬¬ä¸€æ¬¡å°±å»ºæ¨¡éç›´æ¥æ•ˆæœçš„è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š ç”¨æˆ·ç¬¬äºŒå¤©æ˜¯å¦ä¼šè®¿é—®ï¼Ÿç”¨æˆ·åœ¨ç½‘ç«™ä¸Šåœç•™äº†å¤šä¹…ï¼Ÿæ—¥æ´»ç”¨æˆ·æœ‰å¤šå°‘ï¼Ÿéç›´æ¥æŒ‡æ ‡æ˜¯å¾ˆå¥½çš„metricï¼Œå¯ä»¥ç”¨ABTestæ¥è¿›è¡Œè§‚æµ‹ï¼Œä½†ä¸é€‚åˆç”¨ä½œä¼˜åŒ–æŒ‡æ ‡ã€‚æ­¤å¤–ï¼Œåƒä¸‡ä¸è¦è¯•å›¾å­¦ä¹ ä»¥ä¸‹ç›®æ ‡ï¼š ç”¨æˆ·å¯¹äº§å“æ˜¯å¦æ»¡æ„ï¼Ÿç”¨æˆ·å¯¹ä½“éªŒæ˜¯å¦æ»¡æ„ï¼Ÿâ€¦â€¦è¿™äº›æŒ‡æ ‡éå¸¸é‡è¦ï¼Œä½†æ˜¯éå¸¸éš¾ä»¥å­¦ä¹ ã€‚åº”è¯¥ä½¿ç”¨ä¸€äº›ä»£ç†æŒ‡æ ‡æ¥å­¦ä¹ ï¼Œé€šè¿‡ä¼˜åŒ–ä»£ç†æŒ‡æ ‡æ¥ä¼˜åŒ–è¿™äº›éç›´æ¥æŒ‡æ ‡ã€‚ä¸ºäº†å…¬å¸çš„å‘å±•ç€æƒ³ï¼Œæœ€å¥½æœ‰äººå·¥æ¥è¿æ¥æœºå™¨å­¦ä¹ çš„å­¦ä¹ ç›®æ ‡å’Œäº§å“ä¸šåŠ¡ã€‚ Rule #14: Starting with an interpretable model makes debugging easier. è§„åˆ™14ï¼šä½¿ç”¨å¯è§£é‡Šæ€§å¼ºçš„æ¨¡å‹å¯é™ä½debugéš¾åº¦ã€‚ä¼˜å…ˆé€‰æ‹©é¢„æµ‹ç»“æœæœ‰æ¦‚ç‡å«ä¹‰ã€é¢„æµ‹è¿‡ç¨‹å¯è§£é‡Šçš„æ¨¡å‹ï¼Œå¯ä»¥æ›´å®¹æ˜“çš„ç¡®è®¤æ•ˆæœï¼Œdebugé—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨LRåšåˆ†ç±»ï¼Œé‚£ä¹ˆé¢„æµ‹è¿‡ç¨‹ä¸å¤–ä¹ä¸€äº›ç›¸ä¹˜å’Œç›¸åŠ ï¼Œå¦‚æœç‰¹å¾éƒ½åšäº†ç¦»æ•£åŒ–ï¼Œå°±åªæœ‰åŠ æ³•äº†ï¼Œè¿™æ ·å¾ˆå®¹æ˜“debugä¸€æ¡æ ·æœ¬çš„é¢„æµ‹å¾—åˆ†æ˜¯å¦‚ä½•è¢«è®¡ç®—å‡ºæ¥çš„ã€‚æ‰€ä»¥å‡ºäº†é—®é¢˜å¾ˆå®¹æ˜“debugã€‚ Rule #15: Separate Spam Filtering and Quality Ranking in a Policy Layer. è§„åˆ™15ï¼šå°†åƒåœ¾è¿‡æ»¤å’Œè´¨é‡æ’åºçš„å·¥ä½œåˆ†ç¦»ï¼Œæ”¾åˆ°ç­–ç•¥å±‚ï¼ˆpolicy layerï¼‰ã€‚æ’åºç³»ç»Ÿå·¥ä½œçš„ç¯å¢ƒä¸­æ•°æ®åˆ†å¸ƒæ˜¯ç›¸å¯¹é™æ€çš„ï¼Œå¤§å®¶ä¸ºäº†å¾—åˆ°æ›´å¥½çš„æ’åºï¼Œä¼šéµå®ˆç³»ç»Ÿåˆ¶å®šçš„è§„åˆ™ã€‚ä½†æ˜¯åƒåœ¾è¿‡æ»¤æ›´å¤šæ˜¯ä¸ªå¯¹æŠ—æ€§è´¨çš„å·¥ä½œï¼Œæ•°æ®åˆ†å¸ƒä¼šç»å¸¸å˜åŠ¨ã€‚æ‰€ä»¥ä¸åº”è¯¥è®©æ’åºç³»ç»Ÿå»å¤„ç†åƒåœ¾ä¿¡æ¯çš„è¿‡æ»¤ï¼Œè€Œæ˜¯åº”è¯¥æœ‰å•ç‹¬çš„ä¸€å±‚å»å¤„ç†åƒåœ¾ä¿¡æ¯ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§å¯ä»¥æ¨å¹¿çš„æ€æƒ³ï¼Œé‚£å°±æ˜¯ï¼šæ’åºå±‚åªåšæ’åºå±‚çš„äº‹æƒ…ï¼ŒèŒè´£å°½é‡å•ä¸€ï¼Œå…¶ä»–å·¥ä½œè®©æ¶æ„ä¸Šæ›´åˆé€‚çš„æ¨¡å—å»å¤„ç†ã€‚æ­¤å¤–ï¼Œä¸ºäº†æå‡æ¨¡å‹æ•ˆæœï¼Œåº”è¯¥æŠŠåƒåœ¾ä¿¡æ¯ä»è®­ç»ƒæ•°æ®ä¸­å»é™¤ã€‚ æœºå™¨å­¦ä¹ ç¬¬äºŒé˜¶æ®µï¼šç‰¹å¾å·¥ç¨‹ML Phase II: Feature Engineeringå‰é¢ç¬¬ä¸€é˜¶æ®µçš„é‡ç‚¹æ˜¯æŠŠæ•°æ®å–‚åˆ°å­¦ä¹ ç³»ç»Ÿä¸­ï¼Œæœ‰äº†åŸºç¡€çš„ç›‘æ§æŒ‡æ ‡ï¼Œæœ‰äº†åŸºç¡€çš„æ¶æ„ã€‚ç­‰è¿™ä¸€å¥—ç³»ç»Ÿå»ºç«‹èµ·æ¥åï¼Œç¬¬äºŒé˜¶æ®µå°±å¼€å§‹äº†ã€‚ æ•´ä½“æ¥è®²ï¼Œç¬¬äºŒé˜¶æ®µçš„æ ¸å¿ƒå·¥ä½œæ˜¯å°†å°½é‡å¤šçš„æœ‰æ•ˆç‰¹å¾åŠ å…¥åˆ°ç¬¬ä¸€ç‰ˆçš„ç³»ç»Ÿä¸­ï¼Œä¸€èˆ¬éƒ½å¯ä»¥å–å¾—æå‡ã€‚ Rule #16: Plan to launch and iterate. è§„åˆ™16ï¼šåšå¥½æŒç»­è¿­ä»£ä¸Šçº¿çš„å‡†å¤‡ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è¦æ·±åˆ»è®¤è¯†åˆ°ï¼Œç³»ç»Ÿä¼˜åŒ–æ°¸è¿œæ²¡æœ‰ç»ˆç‚¹ï¼Œæ‰€ä»¥ç³»ç»Ÿè®¾è®¡æ–¹é¢è¦å¯¹è¿­ä»£éå¸¸å‹å¥½ã€‚ä¾‹å¦‚å¢åŠ åˆ é™¤ç‰¹å¾æ˜¯å¦è¶³å¤Ÿç®€å•ï¼Œæ­£ç¡®æ€§éªŒè¯æ˜¯å¦è¶³å¤Ÿç®€å•ï¼Œæ¨¡å‹è¿­ä»£æ˜¯å¦å¯ä»¥å¹¶è¡Œè¿è¡Œï¼Œç­‰ç­‰ã€‚ è¿™è™½ç„¶ä¸æ˜¯ä¸€æ¡å…·ä½“å¯è¡ŒåŠ¨çš„ï¼ˆactionableï¼‰è§„åˆ™ï¼Œä½†æ˜¯è¿™ç§æ€æƒ³ä¸Šçš„å‡†å¤‡å¯¹æ•´ä¸ªç³»ç»Ÿçš„å¼€å‘å¾ˆæœ‰å¸®åŠ©ã€‚åªæœ‰çœŸæ­£æ·±åˆ»æ„è¯†åˆ°äº†ç³»ç»ŸæŒç»­è¿­ä»£ä¸Šçº¿çš„æœ¬è´¨ï¼Œæ‰ä¼šåœ¨è®¾è®¡åœ¨çº¿å’Œç¦»çº¿æ¶æ„æ—¶ä¸ºæŒç»­è¿­ä»£æœ€å¥½ç›¸åº”çš„è®¾è®¡ï¼Œå¹¶åšå¥½ç›¸åº”çš„å·¥å…·ï¼Œè€Œä¸æ˜¯åšä¸€é”¤å­ç³»ç»Ÿã€‚ Rule #17: Start with directly observed and reported features as opposed to learned features. è§„åˆ™17ï¼šä¼˜å…ˆä½¿ç”¨ç›´æ¥è§‚æµ‹æˆ–æ”¶é›†åˆ°çš„ç‰¹å¾ï¼Œè€Œä¸æ˜¯å­¦ä¹ å‡ºæ¥çš„ç‰¹å¾ã€‚æ‰€è°“å­¦ä¹ å‡ºæ¥çš„ç‰¹å¾ï¼ŒæŒ‡çš„æ˜¯ç”¨å¦å¤–çš„ç®—æ³•å­¦ä¹ å‡ºæ¥çš„ç‰¹å¾ï¼Œè€Œéå¯ä»¥ç›´æ¥è§‚æµ‹æˆ–æ”¶é›†åˆ°çš„ç®€å•ç‰¹å¾ã€‚å­¦ä¹ å‡ºæ¥çš„ç‰¹å¾ç”±äºå­˜åœ¨å¤–éƒ¨ä¾èµ–ï¼Œæˆ–è€…è®¡ç®—é€»è¾‘å¤æ‚ï¼Œä¸ä¸€å®šé€‚ç”¨äºä½ å½“å‰çš„æ¨¡å‹ï¼Œæ‰€ä»¥ç¨³å®šæ€§å’Œæœ‰æ•ˆæ€§ä¼šæœ‰é£é™©ã€‚è€Œç›´æ¥å¯è§‚æµ‹çš„ç‰¹å¾ç”±äºæ˜¯ç›¸å¯¹æ¯”è¾ƒå®¢è§‚çš„ï¼Œä¾èµ–è¾ƒå°‘çš„ï¼Œæ‰€ä»¥æ¯”è¾ƒç¨³å®šã€‚ Rule #18: Explore with features of content that generalize across contexts. è§„åˆ™18ï¼šæ¢ç´¢ä½¿ç”¨å¯ä»¥è·¨åœºæ™¯çš„å†…å®¹ç‰¹å¾ã€‚ä¸­å¿ƒæ€æƒ³æ˜¯åœ¨è¯´ï¼Œè¦å¤šåˆ©ç”¨å¯ä»¥åœ¨å¤šä¸ªåœºæ™¯ä¸‹ä½¿ç”¨çš„ç‰¹å¾ï¼Œä¾‹å¦‚å…¨å±€çš„ç‚¹å‡»ç‡ã€æµè§ˆé‡è¿™äº›ç‰¹å¾ï¼Œå¯ä»¥åœ¨å¤šä¸ªåœºæ™¯ä¸‹ä½œä¸ºç‰¹å¾ä½¿ç”¨ã€‚è¿™æ ·å¯ä»¥åœ¨ä¸€äº›å†·å¯åŠ¨æˆ–è€…ç¼ºä¹æœ‰æ•ˆç‰¹å¾çš„åœºæ™¯ä¸‹ä½œä¸ºç‰¹å¾ä½¿ç”¨ã€‚ Rule #19: Use very specific features when you can. è§„åˆ™19ï¼šå°½é‡ä½¿ç”¨éå¸¸å…·ä½“çš„ç‰¹å¾ã€‚å¦‚æœæ•°æ®é‡è¶³å¤Ÿå¤§ï¼Œé‚£ä¹ˆç›¸æ¯”å°‘æ•°å¤æ‚ç‰¹å¾ï¼Œä½¿ç”¨æµ·é‡ç®€å•ç‰¹å¾æ˜¯æ›´ç®€å•æœ‰æ•ˆçš„é€‰æ‹©ã€‚ æ‰€è°“éå¸¸å…·ä½“ï¼ŒæŒ‡çš„æ˜¯è¦†ç›–æ ·æœ¬é‡æ¯”è¾ƒå°‘çš„ç‰¹å¾ï¼Œä¾‹å¦‚æ–‡æ¡£çš„IDæˆ–è€…queryçš„IDç­‰ã€‚è¿™æ ·çš„ç‰¹å¾è™½ç„¶æ¯ä¸ªåªè¦†ç›–å¾ˆå°‘ä¸€éƒ¨åˆ†ç‰¹å¾ï¼Œä½†æ˜¯åªè¦è¿™ä¸€ç»„ç‰¹å¾æ•´ä½“èƒ½å¤Ÿè¦†ç›–ç‡æ¯”è¾ƒé«˜ï¼Œä¾‹å¦‚90%ï¼Œé‚£å°±æ˜¯OKçš„ã€‚è€Œä¸”è¿˜å¯ä»¥é€šè¿‡æ­£åˆ™åŒ–æ¥æ¶ˆé™¤è¦†ç›–ç‡è¿‡ä½æˆ–è€…ç›¸å…³æ€§å·®çš„ç‰¹å¾ã€‚è¿™ä¹Ÿæ˜¯å¤§å®¶éƒ½åçˆ±å¤§è§„æ¨¡IDç‰¹å¾çš„ä¸€ä¸ªåŸå› ï¼Œç°åœ¨å¾ˆå¤šå¤§å‚çš„æ’åºæ¨¡å‹ç‰¹å¾éƒ½å¤§é‡ä½¿ç”¨äº†å¤§è§„æ¨¡IDç‰¹å¾ã€‚ Rule #20: Combine and modify existing features to create new features in humanÂ­-understandable ways. è§„åˆ™20ï¼šç”¨äººç±»å¯ç†è§£çš„æ–¹å¼å¯¹å·²æœ‰ç‰¹å¾è¿›è¡Œç»„åˆã€ä¿®æ”¹æ¥å¾—åˆ°æ–°ç‰¹å¾ã€‚ç¦»æ•£åŒ–å’Œäº¤å‰æ˜¯æœ€å¸¸ç”¨çš„ä¸¤ç§ç‰¹å¾ä½¿ç”¨æ–¹å¼ã€‚å…¶æœ¬è´¨éƒ½æ˜¯ç”¨ç‰¹å¾å·¥ç¨‹çš„æ–¹å¼ï¼Œåœ¨ä¸æ”¹å˜ä½¿ç”¨æ¨¡å‹æœ¬èº«çš„æƒ…å†µä¸‹å¢åŠ æ¨¡å‹çš„éçº¿æ€§ã€‚è¿™ä¸¤ç§æ–¹æ³•æœ¬èº«æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå€¼å¾—ä¸€è‡´çš„æ˜¯ï¼Œåœ¨å¤§è§„æ¨¡IDç±»ç‰¹å¾çš„äº¤å‰æ—¶ï¼Œä¾‹å¦‚ä¸€æ®µæ˜¯queryé‡Œçš„å…³é”®è¯ï¼Œå¦ä¸€ç«¯æ˜¯æ–‡æ¡£é‡Œçš„å…³é”®è¯ï¼Œé‚£å°±ä¼šäº§ç”Ÿå¾ˆå¤§é‡çº§çš„äº¤å‰ç‰¹å¾ï¼Œè¿™æ—¶æœ‰ä¸¤ç§å¤„ç†æ–¹æ³•ï¼š ç‚¹ç§¯ã€‚å…¶å®è®¡ç®—queryå’Œæ–‡æ¡£å…±åŒåŒ…å«çš„å…³é”®è¯æ•°é‡ã€‚äº¤é›†ã€‚æ¯ä¸€ç»´ç‰¹å¾çš„å«ä¹‰æ˜¯æŸä¸ªè¯åŒæ—¶å‡ºç°åœ¨äº†queryå’Œæ–‡æ¡£ä¸­ï¼ŒåŒæ—¶å‡ºç°åˆ™è¯¥ç»´ç‰¹å¾ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚æ‰€è°“â€œäººç±»å¯ç†è§£çš„æ–¹å¼â€ï¼Œæˆ‘çš„ç†è§£å°±æ˜¯ç¦»æ•£åŒ–å’Œäº¤å‰è¦åŸºäºå¯¹ä¸šåŠ¡é€»è¾‘çš„ç†è§£ï¼Œä¸èƒ½ä¹±äº¤å‰ã€‚ Rule #21: The number of feature weights you can learn in a linear model is roughly proportional to the amount of data you have. è§„åˆ™21ï¼šçº¿æ€§æ¨¡å‹ä¸­å¯å­¦åˆ°çš„ç‰¹å¾æƒé‡æ•°é‡ï¼Œä¸è®­ç»ƒæ•°æ®çš„æ•°é‡å¤§ä½“æˆæ­£æ¯”ã€‚è¿™èƒŒåæœ‰å¤æ‚çš„ç»Ÿè®¡åŸç†åšæ”¯æ’‘ï¼Œä½†ä½ åªéœ€è¦çŸ¥é“ç»“è®ºå°±å¯ä»¥äº†ã€‚è¿™ä¸ªåŸåˆ™ç»™æˆ‘ä»¬çš„å¯ç¤ºï¼Œæ˜¯è¦æ ¹æ®æ•°æ®é‡æ¥é€‰æ‹©ç‰¹å¾çš„ç”Ÿæˆæ–¹å¼ï¼Œä¾‹å¦‚ï¼š å¦‚æœä½ çš„ç³»ç»Ÿæ˜¯ä¸€ä¸ªæœç´¢ç³»ç»Ÿï¼Œqueryå’Œæ–‡æ¡£ä¸­æœ‰ç™¾ä¸‡çº§çš„è¯ï¼Œä½†æ˜¯ä½ åªæœ‰åƒçº§åˆ«çš„æ ‡æ³¨æ ·æœ¬ã€‚é‚£ä½ å°±åˆ«ç”¨IDçº§å…³é”®è¯ç‰¹å¾äº†ï¼Œè€Œæ˜¯è¦è€ƒè™‘ç‚¹ç§¯ç±»ç‰¹å¾ï¼ŒæŠŠç‰¹å¾æ•°é‡æ§åˆ¶åœ¨å‡ åä¸ªè¿™ä¸ªçº§åˆ«ã€‚å¦‚æœä½ æ‹¥æœ‰ç™¾ä¸‡çº§æ ·æœ¬ï¼Œé‚£ä¹ˆå¯ä»¥å°†æ–‡æ¡£å’Œqueryçš„å…³é”®è¯è¿›è¡Œäº¤å‰ç‰¹å¾ï¼Œç„¶åç”¨æ­£åˆ™åŒ–è¿›è¡Œç‰¹å¾é€‰æ‹©ã€‚è¿™æ ·ä½ ä¼šå¾—åˆ°ç™¾ä¸‡çº§ç‰¹å¾ï¼Œä½†æ˜¯æ­£åˆ™åŒ–ä¹‹åä¼šæ›´å°‘ã€‚æ‰€ä»¥è¯´ï¼Œåƒä¸‡çº§æ ·æœ¬ï¼Œåä¸‡çº§ç‰¹å¾ã€‚å¦‚æœä½ æœ‰åäº¿çº§æˆ–è€…æ›´é«˜çº§åˆ«çš„æ ·æœ¬ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨queryå’Œæ–‡æ¡£çš„IDçº§ç‰¹å¾ï¼Œç„¶ååŠ ä¸Šç‰¹å¾é€‰æ‹©å’Œæ­£åˆ™åŒ–ã€‚åäº¿çº§æ ·æœ¬ï¼Œåƒä¸‡çº§ç‰¹å¾ã€‚æ€»ç»“èµ·æ¥å°±æ˜¯ï¼Œæ ¹æ®æ ·æœ¬å†³å®šç‰¹å¾ä½¿ç”¨æ–¹å¼ï¼Œæ ·æœ¬ä¸å¤Ÿå°±å¯¹ç‰¹å¾è¿›è¡Œé«˜å±‚æ¬¡æŠ½è±¡å¤„ç†ï¼ŒæŒ‡å¯¼å’Œæ ·æœ¬é‡çº§ç›¸åŒ¹é…ã€‚ Rule #22: Clean up features you are no longer using. è§„åˆ™22ï¼šæ¸…ç†ä¸å†ä½¿ç”¨çš„ç‰¹å¾ã€‚å¦‚æœæŸä¸ªç‰¹å¾å·²ç»æ²¡æœ‰ç”¨ï¼Œå¹¶ä¸”å®ƒä¸å…¶ä»–ç‰¹å¾çš„äº¤å‰ä¹Ÿå·²ç»æ²¡æœ‰ç”¨ï¼Œå°±åº”è¯¥å°†å…¶æ¸…ç†æ‰ï¼Œä¿æŒæ¶æ„çš„æ•´æ´æ€§ã€‚ åœ¨è€ƒè™‘æ·»åŠ æˆ–ä¿ç•™å“ªäº›ç‰¹å¾æ—¶ï¼Œéœ€è¦ç»Ÿè®¡ä¸€ä¸‹ç‰¹å¾çš„æ ·æœ¬è¦†ç›–ç‡ï¼Œä¾‹å¦‚ä¸€äº›æ•´ä½“è¦†ç›–ç‡å¾ˆä½çš„ä¸ªæ€§åŒ–feature columnï¼Œåªæœ‰å¾ˆå°‘ç”¨æˆ·èƒ½è¦†ç›–åˆ°ï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡è¿™ç»„ç‰¹å¾ä½œç”¨ä¸å¤§ã€‚ä½†å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæŸä¸ªç‰¹å¾è¦†ç›–ç‡å¾ˆä½ï¼Œä¾‹å¦‚åªæœ‰1%ï¼Œä½†æ˜¯å…¶åŒºåˆ†åº¦éå¸¸å¤§ï¼Œä¾‹å¦‚90%å–å€¼ä¸º1çš„æ ·æœ¬éƒ½æ˜¯æ­£æ ·æœ¬ï¼Œé‚£ä¹ˆ è¿™ä¸ªç‰¹å¾å°±å€¼å¾—åŠ å…¥æˆ–ä¿ç•™ã€‚ æœºå™¨å­¦ä¹ ç¬¬äºŒé˜¶æ®µï¼šç³»ç»Ÿçš„äººå·¥åˆ†æHuman Analysis of the Systemåœ¨æ›´è¿›ä¸€æ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›æœºå™¨å­¦ä¹ è¯¾ç¨‹ä¸Šä¸ä¼šæ•™ä½ çš„å†…å®¹ï¼šå¦‚ä½•è§‚å¯Ÿåˆ†ææ¨¡å‹ï¼Œå¹¶æ”¹è¿›å®ƒã€‚ç”¨ä½œè€…çš„è¯è¯´ï¼Œè¿™æ›´åƒæ˜¯ä¸€é—¨è‰ºæœ¯ ï¼Œä½†ä»ç„¶æœ‰ä¸€äº›è§„å¾‹å¯å¾ªã€‚ Rule #23: You are not a typical end user. è§„åˆ™23ï¼šä½ ä¸æ˜¯ä¸€ä¸ªå…¸å‹çš„ç»ˆç«¯ç”¨æˆ·ã€‚è¿™æ¡è§„åˆ™çš„ä¸­å¿ƒæ€æƒ³æ˜¯è¯´ï¼Œè™½ç„¶åƒè‡ªå·±çš„ç‹—é£Ÿæ˜¯å¿…è¦çš„ï¼Œä½†ä¹Ÿä¸è¦æ€»æ˜¯ä»å·¥ç¨‹å¸ˆçš„è§’åº¦æ¥è¡¡é‡æ¨¡å‹çš„å¥½åã€‚è¿™ä¸ä»…å¯èƒ½ä¸å€¼å½“ï¼Œè€Œä¸”å¯èƒ½çœ‹ä¸å‡ºé—®é¢˜ã€‚æ‰€è°“ä¸å€¼å½“ï¼Œæ˜¯å› ä¸ºå·¥ç¨‹å¸ˆçš„æ—¶é—´å¤ªè´µäº†ï¼Œè¿™ä¸ªå¤§å®¶éƒ½æ‡‚ï¼›è€Œæ‰€è°“çœ‹ä¸å‡ºé—®é¢˜ï¼Œæ˜¯å› ä¸ºå·¥ç¨‹å¸ˆè‡ªå·±çœ‹è‡ªå·±å¼€å‘çš„æ¨¡å‹ï¼Œå®¹æ˜“çœ‹ä¸å‡ºé—®é¢˜ï¼Œæ‰€è°“â€œä¸è¯†åºå±±çœŸé¢ç›®â€ã€‚ æ‰€ä»¥ä½œè€…è®¤ä¸ºåˆç†çš„æ–¹æ³•æ˜¯è®©çœŸæ­£çš„ç»ˆç«¯ç”¨æˆ·æ¥è¡¡é‡æ¨¡å‹æˆ–äº§å“çš„å¥½åã€‚è¦ä¹ˆé€šè¿‡çº¿ä¸ŠABTestï¼Œè¦ä¹ˆé€šè¿‡ä¼—åŒ…çš„æ–¹å¼æ¥åšã€‚ Rule #24: Measure the delta between models. è§„åˆ™24ï¼šç¦»çº¿è¡¡é‡æ¨¡å‹ä¹‹é—´çš„å·®å¼‚ã€‚åŸæ–‡æ²¡æœ‰è¯´æ˜¯ç¦»çº¿ï¼Œä½†æˆ‘é€šè¿‡ä¸Šä¸‹æ–‡ç†è§£ä»–è¯´çš„åº”è¯¥æ˜¯ç¦»çº¿ã€‚è¿™ä¸€æ¡è§„åˆ™è¯´çš„æ˜¯æ–°æ¨¡å‹åœ¨ä¸Šçº¿ä¹‹å‰ï¼Œéœ€è¦å…ˆå’Œè€æ¨¡å‹åšå·®å¼‚å¯¹æ¯”ã€‚æ‰€è°“å·®å¼‚å¯¹æ¯”ï¼ŒæŒ‡çš„æ˜¯å¯¹äºåŒæ ·çš„è¾“å…¥ï¼Œæ–°æ—§ä¸¤ä¸ªæ¨¡å‹ç»™å‡ºçš„ç»“æœæ˜¯å¦å·®å¼‚è¶³å¤Ÿå¤§ã€‚ä¾‹å¦‚å¯¹äºåŒä¸€ä¸ªqueryï¼Œä¸¤ä¸ªæ’åºæ¨¡å‹ç»™å‡ºçš„å·®å¼‚æ˜¯å¦è¶³å¤Ÿå¤§ã€‚å¦‚æœç¦»çº¿è®¡ç®—å‘ç°å·®å¼‚å¾ˆå°ï¼Œé‚£ä¹Ÿæ²¡å¿…è¦ä¸Šçº¿æµ‹è¯•äº†ï¼Œå› ä¸ºä¸Šçº¿åå·®å¼‚è‚¯å®šä¹Ÿå¤§ä¸äº†ã€‚å¦‚æœå·®å¼‚æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆè¿˜éœ€è¦çœ‹å·®å¼‚æ˜¯ä¸æ˜¯å¥½çš„å·®å¼‚ã€‚é€šè¿‡è§‚å¯Ÿå·®å¼‚å¯ä»¥å¾—çŸ¥æ–°æ¨¡å‹ç©¶ç«Ÿå¯¹æ•°æ®äº§ç”Ÿäº†ä»€ä¹ˆå½±å“ï¼Œè¿™ç§å½±å“æ˜¯å¥½æ˜¯åã€‚ å½“ç„¶ï¼Œè¿™ä¸€åˆ‡çš„å‰ææ˜¯ä½ éœ€è¦æœ‰ä¸€ä¸ªç¨³å®šçš„å¯¹æ¯”ç³»ç»Ÿï¼Œ èµ·ç ä¸€ä¸ªæ¨¡å‹å’Œä»–è‡ªå·±å¯¹æ¯”çš„è¯å·®å¼‚åº”è¯¥éå¸¸å°ï¼Œæœ€å¥½æ˜¯é›¶å·®å¼‚ã€‚ Rule #25: When choosing models, utilitarian performance trumps predictive power. è§„åˆ™25ï¼šå½“é€‰æ‹©æ¨¡å‹æ—¶ï¼Œå®ç”¨æ€§æŒ‡æ ‡æ¯”é¢„æµ‹èƒ½åŠ›æ›´é‡è¦ã€‚è¿™æ˜¯ä¸€æ¡å¾ˆæœ‰ç”¨çš„ç»éªŒã€‚è™½ç„¶æˆ‘ä»¬è®­ç»ƒæ¨¡å‹æ—¶objectiveä¸€èˆ¬éƒ½æ˜¯loglossï¼Œä¹Ÿå°±æ˜¯è¯´å®åœ¨è¿½æ±‚æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨ä¸Šå±‚åº”ç”¨ä¸­å´å¯èƒ½æœ‰å¤šç§ç”¨é€”ï¼Œä¾‹å¦‚å¯èƒ½ä¼šç”¨æ¥æ’åºï¼Œé‚£ä¹ˆè¿™æ—¶å…·ä½“çš„é¢„æµ‹èƒ½åŠ›å°±ä¸å¦‚æ’åºèƒ½åŠ›é‡è¦ï¼›å¦‚æœç”¨æ¥åˆ’å®šé˜ˆå€¼ç„¶åè·Ÿæ ¹æ®é˜ˆå€¼åˆ¤æ–­åƒåœ¾é‚®ä»¶ï¼Œé‚£ä¹ˆå‡†ç¡®ç‡å°±æ›´é‡è¦ã€‚å½“ç„¶å¤§å¤šæ•°æƒ…å†µä¸‹è¿™å‡ ä¸ªæŒ‡æ ‡æ˜¯ä¸€è‡´çš„ã€‚ é™¤äº†ä½œè€…è¯´çš„è¿™ä¸€ç‚¹ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬åœ¨è®­ç»ƒæ—¶å¯èƒ½ä¼šå¯¹æ ·æœ¬åšé‡‡æ ·ï¼Œå¯¼è‡´å¾—åˆ°çš„é¢„æµ‹å€¼æ•´ä½“åé«˜æˆ–åä½ã€‚å¦‚æœè¿™ä¸ªé¢„æµ‹å€¼æ˜¯ç”¨æ¥ç›´æ¥æ’åºçš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜åŒ–å…³ç³»ä¸å¤§ï¼Œä½†å¦‚æœæœ‰å…¶ä»–ç”¨å¤„ï¼Œä¾‹å¦‚å’Œå¦å¤–çš„å€¼ç›¸ä¹˜ï¼Œå…¸å‹çš„å¦‚å¹¿å‘Šåœºæ™¯ä¸‹çš„CTRbidï¼Œæˆ–è€…ç”µå•†æ¨èæ’åºä¸‹çš„CTRCVRï¼Œåœ¨è¿™ç±»åœºæ™¯ä¸‹ï¼Œé¢„æµ‹å€¼æœ¬èº«çš„å‡†ç¡®æ€§ä¹Ÿå¾ˆé‡è¦ï¼Œå°±éœ€è¦å¯¹å…¶è¿›è¡Œæ ¡å‡†ï¼ˆcalibrateï¼‰ï¼Œä½¿å…¶ä¸é‡‡æ ·å‰çš„æ ·æœ¬ç‚¹å‡»ç‡å¯¹é½ã€‚ Rule #26: Look for patterns in the measured errors, and create new features. è§„åˆ™26ï¼šåœ¨é”™è¯¯ä¸­å‘ç°æ¨¡å¼ï¼Œå¹¶åˆ›å»ºæ–°ç‰¹å¾ã€‚è¿™ç®—æ˜¯ä¸€ç§ç”¨æ¥æå‡æ¨¡å‹æ•ˆæœçš„é€šç”¨æ€è·¯ã€‚å…·ä½“æ¥è¯´ï¼ŒæŒ‡çš„æ˜¯è§‚å¯Ÿè®­ç»ƒæ•°æ®ä¸­æ¨¡å‹é¢„æµ‹é”™è¯¯çš„æ ·æœ¬ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿé€šè¿‡æ·»åŠ é¢å¤–ç‰¹å¾æ¥ä½¿å¾—è¿™æ¡æ ·æœ¬è¢«æ¨¡å‹é¢„æµ‹æ­£ç¡®ã€‚ä¹‹æ‰€ä»¥ä½¿ç”¨è®­ç»ƒé›†ä¸­çš„æ•°æ®ï¼Œæ˜¯å› ä¸ºè¿™éƒ¨åˆ†æ•°æ®æ˜¯æ¨¡å‹å·²ç»è¯•å›¾ä¼˜åŒ–è¿‡çš„ï¼Œè¿™é‡Œé¢çš„é”™è¯¯ï¼Œæ˜¯æ¨¡å‹çŸ¥é“è‡ªå·±æé”™äº†ï¼Œç›®å‰å­¦ä¸å‡ºæ¥çš„ï¼Œæ‰€ä»¥å¦‚æœä½ ç»™å®ƒè¶³å¤Ÿå¥½çš„å…¶ä»–ç‰¹å¾ï¼Œå®ƒæˆ–è®¸å°±èƒ½æŠŠè¿™æ¡æ ·æœ¬å­¦å¯¹äº†ã€‚ ä¸€æ—¦å‘ç°é”™è¯¯çš„æ¨¡å¼ï¼Œå°±å¯ä»¥åœ¨å½“å‰ç³»ç»Ÿä¹‹å¤–å¯»æ‰¾æ–°çš„ç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å‘ç°å½“å‰ç³»ç»Ÿå€¾å‘äºé”™è¯¯åœ°æŠŠé•¿æ–‡ç« æ’åˆ°åé¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥åŠ å…¥æ–‡ç« é•¿åº¦è¿™ä¸€ç‰¹å¾ï¼Œè®©ç³»ç»Ÿå»å­¦ä¹ æ–‡ç« é•¿åº¦çš„ç›¸å…³æ€§å’Œé‡è¦æ€§ã€‚ Rule #27: Try to quantify observed undesirable behavior. è§„åˆ™27ï¼šå°½é‡å°†è§‚æµ‹åˆ°çš„è´Ÿé¢è¡Œä¸ºé‡åŒ–ã€‚å¦‚æœåœ¨ç³»ç»Ÿä¸­è§‚å¯Ÿåˆ°äº†æ¨¡å‹æ²¡æœ‰ä¼˜åŒ–åˆ°çš„é—®é¢˜ï¼Œå…¸å‹çš„ä¾‹å¦‚æ¨èç³»ç»Ÿé€¼æ ¼ä¸å¤Ÿè¿™ç§é—®é¢˜ï¼Œè¿™æ—¶åº”è¯¥åŠªåŠ›å°†è¿™ç§ä¸æ»¡æ„è½¬åŒ–ä¸ºå…·ä½“çš„æ•°å­—ï¼Œå…·ä½“æ¥è®²å¯ä»¥é€šè¿‡äººå·¥æ ‡æ³¨ç­‰æ–¹æ³•æ ‡æ³¨å‡ºä¸æ»¡æ„çš„ç‰©å“ï¼Œç„¶åè¿›è¡Œç»Ÿè®¡ã€‚å¦‚æœé—®é¢˜å¯ä»¥è¢«é‡åŒ–ï¼Œåé¢å°±å¯ä»¥å°†å…¶ç”¨ä½œç‰¹å¾ã€objectiveæˆ–è€…metricã€‚æ•´ä½“åŸåˆ™å°±æ˜¯â€œå…ˆé‡åŒ–ï¼Œå†ä¼˜åŒ–â€ã€‚ å¤šè¯´ä¸€å¥ï¼Œè¿™é‡Œçš„ä¼˜åŒ–ï¼Œä¸ä¸€å®šæ˜¯ç”¨æ¨¡å‹æ¥ä¼˜åŒ–ï¼Œè€Œæ˜¯æŒ‡çš„æ•´ä½“ä¼˜åŒ–ã€‚æ¯”å¦‚æ¨èç³»ç»Ÿé€¼æ ¼è¿™ç§é—®é¢˜ï¼Œæ¨¡å‹å¯èƒ½å¾ˆéš¾ä¼˜åŒ–ï¼Œä½†æ˜¯åªè¦èƒ½é‡åŒ–å‡ºæ¥ï¼Œå°±å¯ä»¥é€šè¿‡å…¶ä»–æ–¹æ³•æ¥å°½é‡å‡å°‘ï¼Œä¾‹å¦‚å•ç‹¬å»å­¦ä¹ æœ‰é€¼æ ¼ç‰©å“çš„ç‰¹å¾ï¼Œæˆ–è€…åœ¨å¬å›é˜¶æ®µè¿›è¡Œä¸€å®šå€¾æ–œã€‚ Rule #28: Be aware that identical short-Â­term behavior does not imply identical longÂ­-term behavior. è§„åˆ™28ï¼šè¦æ³¨æ„çŸ­æœŸå†…è§‚å¯Ÿåˆ°çš„ç±»ä¼¼è¡Œä¸ºä¸ä¸€å®šä¼šé•¿æœŸå­˜åœ¨ã€‚å‡è®¾ä½ æäº†ä¸ªç³»ç»Ÿï¼Œé€šè¿‡å­¦ä¹ æ¯ä¸ªå…·ä½“çš„æ–‡æ¡£IDå’Œquery IDï¼Œè®¡ç®—å‡ºäº†æ¯ä¸ªqueryä¸‹æ¯ä¸ªæ–‡æ¡£çš„ç‚¹å‡»ç‡ã€‚é€šè¿‡ç¦»çº¿å¯¹æ¯”å’ŒABTestï¼Œä½ å‘ç°è¿™ä¸ªç³»ç»Ÿçš„è¡Œä¸ºå’Œå½“å‰ç³»ç»Ÿçš„è¡Œä¸ºä¸€æ¯›ä¸€æ ·ï¼Œè€Œè¿™ä¸ªç³»ç»Ÿåˆæ›´ç®€å•ï¼Œæ‰€ä»¥ä½ å°±æŠŠè¿™ä¸ªç³»ç»Ÿä¸Šçº¿äº†ã€‚åé¢ä½ ä¼šå‘ç°è¿™ä¸ªç³»ç»Ÿåœ¨ä»»ä½•queryä¸‹éƒ½ä¸ä¼šç»™å‡ºä»»ä½•æ–°çš„æ–‡æ¡£ã€‚å¥‡æ€ªå—ï¼Ÿä¸€ç‚¹éƒ½ä¸å¥‡æ€ªï¼Œå› ä¸ºä½ åªè®©å®ƒè®°ä½äº†ä¹‹å‰çš„å†å²æ•°æ®ï¼Œå®ƒå¯¹æ–°æ•°æ®æ²¡æœ‰ä»»ä½•ä¿¡æ¯ã€‚ æ‰€ä»¥å”¯ä¸€èƒ½å¤Ÿè¡¡é‡ä¸€ä¸ªç³»ç»Ÿæ˜¯å¦é•¿æœŸæœ‰æ•ˆçš„æ–¹æ³•ï¼Œå°±æ˜¯è®©å®ƒä½¿ç”¨è¯¥æ¨¡å‹åœ¨çº¿ä¸Šæ—¶æ”¶é›†åˆ°çš„çœŸå®æ•°æ®ä¸Šè¿›è¡Œè®­ç»ƒã€‚å½“ç„¶è¿™æœ‰éš¾åº¦ã€‚ å¾€å¤§äº†è¯´ï¼Œä½œè€…è¿™æ¡è§„åˆ™å…¶å®è¯´çš„æ˜¯ä¸ªç³»ç»Ÿæˆ–è€…æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œå¦‚æœä¸€ä¸ªç³»ç»Ÿæˆ–è€…æ¨¡å‹ä¸èƒ½å¯¹æ–°æ•°æ®åšå‡ºå¾ˆå¥½çš„é¢„æµ‹ï¼Œé‚£ä¹ˆæ— è®ºä»–çš„ç¦»çº¿è¡¨ç°å¦‚ä½•ï¼Œéƒ½ä¸èƒ½ä»£è¡¨å®ƒçš„çœŸæ­£èƒ½åŠ›ã€‚å†æ¢ä¸ªè§’åº¦æ¥çœ‹ï¼Œä¸€ä¸ªç³»ç»Ÿå¿…é¡»å…·æœ‰æŒç»­å­¦ä¹ é€‚åº”æ–°æ•°æ®çš„èƒ½åŠ›ï¼Œæ‰èƒ½æ˜¯ä¸€ä¸ªåˆæ ¼çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿï¼Œå¦åˆ™å°±åªæ˜¯ä¸ªå­¦èˆŒçš„é¹¦é¹‰ã€‚ æœºå™¨å­¦ä¹ ç¬¬äºŒé˜¶æ®µï¼šè®­ç»ƒåå·®Training-Serving Skewè®­ç»ƒå’ŒæœåŠ¡ä¹‹é—´çš„å·®å¼‚é—®é¢˜æ—¶ä¸€ä¸ªå¤§è¯é¢˜ï¼Œä¸»è¦åŸå› åŒ…æ‹¬è®­ç»ƒæ—¶ä¸æœåŠ¡æ—¶æ•°æ®è·å–æ–¹å¼ä¸åŒã€è®­ç»ƒæ—¶ä¸æœåŠ¡æ—¶æ•°æ®åˆ†å¸ƒä¸åŒä»¥åŠæ¨¡å‹å’Œç®—æ³•ä¹‹é—´çš„åé¦ˆå¾ªç¯ç­‰ã€‚ä½œè€…è¯´è¿™ç§å·®å¼‚åœ¨Gå®¶çš„å¤šæ¡äº§å“çº¿ä¸Šå‡ºç°è¿‡ï¼Œéƒ½äº§ç”Ÿäº†è´Ÿé¢å½±å“ã€‚ä½†è¦æˆ‘è¯´è¿™ç»å¯¹ä¸ä»…ä»…æ˜¯è°·æ­Œçš„é—®é¢˜ï¼Œè°·æ­Œç»å¯¹æ˜¯åšçš„æ¯”è¾ƒå¥½çš„äº†ï¼Œå„ç§ä¸­å°å‚é‡Œé¢è¿™ç§é—®é¢˜åªå¤šä¸å°‘ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„ç»éªŒæ˜¯éå¸¸å®è´µçš„ã€‚è§£å†³è¿™ç±»é—®é¢˜çš„æ ¸å¿ƒæ˜¯å¯¹ç³»ç»Ÿå’Œæ•°æ®çš„å˜åŒ–è¿›è¡Œç›‘æ§ï¼Œç¡®ä¿ä¸€åˆ‡å·®å¼‚éƒ½åœ¨ç›‘æ§ä¹‹å†…ï¼Œä¸ä¼šæ‚„æ‚„è¿›å…¥ç³»ç»Ÿã€‚ Rule #29: The best way to make sure that you train like you serve is to save the set of features used at serving time, and then pipe those features to a log to use them at training time. è§„åˆ™29ï¼šä¿è¯æœåŠ¡ä¸è®­ç»ƒä¸€è‡´æ€§çš„æœ€å¥½æ–¹æ³•æ˜¯å°†æœåŠ¡æ—¶çš„ç‰¹å¾ä¿å­˜ä¸‹æ¥ï¼Œç„¶åé€šè¿‡æ—¥å¿—å°†ç‰¹å¾å–‚åˆ°è®­ç»ƒè¿‡ç¨‹ä¸­å»ã€‚è¿™å¥è¯åŸºæœ¬é“å‡ºäº†ä¿è¯å·®å¼‚æœ€å°åŒ–çš„æ ¸å¿ƒå¥—è·¯ã€‚è¿™ç§åŸºäºç‰¹å¾æ—¥å¿—çš„æ–¹æ³•å¯ä»¥æå¤§æå‡æ•ˆæœï¼ŒåŒæ—¶èƒ½å¤Ÿå‡å°‘ä»£ç å¤æ‚åº¦ã€‚è°·æ­Œçš„å¾ˆå¤šå›¢é˜Ÿä¹Ÿæ­£åœ¨å¾€è¿™ç§åšæ³•ä¸Šè¿ç§»ã€‚ Rule #30: Importance weight sampled data, donâ€™t arbitrarily drop it! è§„åˆ™30ï¼šå¯¹é‡‡æ ·æ ·æœ¬åšé‡è¦æ€§èµ‹æƒï¼Œä¸è¦éšæ„ä¸¢å¼ƒï¼è¿™æ˜¯ä½œè€…å”¯ä¸€ç”¨äº†æ„Ÿå¹å·çš„ä¸€æ¡ï¼Œå¯æƒ³è€ŒçŸ¥èƒŒåçš„è¾›é…¸ã€‚å½“æˆ‘ä»¬æœ‰å¤ªå¤šè®­ç»ƒæ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¼šåªå–å…¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚ä½†è¿™æ˜¯é”™è¯¯çš„ã€‚æ­£ç¡®çš„åšæ³•æ˜¯ï¼Œå¦‚æœä½ ç»™æŸæ¡æ ·æœ¬30%çš„é‡‡æ ·æƒé‡ï¼Œé‚£ä¹ˆåœ¨è®­ç»ƒæ—¶å°±ç»™å®ƒ10/3çš„è®­ç»ƒæƒé‡ã€‚é€šè¿‡è¿™æ ·çš„é‡è¦æ€§èµ‹æƒï¼ˆimportance weightï¼‰ï¼Œæ•´ä¸ªè®­ç»ƒç»“æœçš„æ ¡å‡†æ€§ï¼ˆcalibrationï¼‰å°±è¿˜èƒ½å¤Ÿä¿è¯ã€‚ å¤šè¯´ä¸€å¥ï¼Œè¿™ä¸ªæ ¡å‡†æ€§éå¸¸çš„é‡è¦ï¼Œå°¤å…¶å¯¹äºå¹¿å‘Šç³»ç»Ÿï¼Œæˆ–è€…å¤šä¸ªé¢„æµ‹å€¼ç›¸åŠ æˆ–ç›¸ä¹˜æ¥å¾—åˆ°æœ€ç»ˆç»“æœçš„ç³»ç»Ÿã€‚å¦‚æœå•ä¸ªå€¼æ²¡æœ‰æ ¡å‡†ï¼Œåä½æˆ–åé«˜ï¼Œé‚£ä¹ˆåœ¨ç›¸ä¹˜æˆ–ç›¸åŠ ä¹‹åå…¶å«ä¹‰å°±ä¼šä¸æ­£ç¡®ã€‚å¦‚æœç›´æ¥ä½¿ç”¨æ¨¡å‹é¢„æµ‹å€¼è¿›è¡Œæ’åºï¼Œæ ¡å‡†æ€§å°±æ²¡é‚£ä¹ˆé‡è¦ï¼Œå› ä¸ºæ ¡å‡†æ€§ä¸ä¼šå½±å“æ’åºï¼Œåªä¼šå½±å“å…·ä½“çš„å€¼ã€‚ Rule #31: Beware that if you join data from a table at training and serving time, the data in the table may change. è§„åˆ™31ï¼šå¦‚æœä½ åœ¨è®­ç»ƒæ—¶å’ŒæœåŠ¡æ—¶éƒ½åœ¨joinä¸€å¼ è¡¨ï¼Œé‚£ä¹ˆè¦æ³¨æ„è¿™å¼ è¡¨çš„æ•°æ®å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚æ¯”å¦‚è¯´æŸå¼ è¡¨é‡Œå­˜ç€ä¸€äº›æ–‡æ¡£çš„ç‰¹å¾ï¼Œä½ åœ¨ç¦»çº¿è®­ç»ƒä¹‹å‰è¦å»è¿™ä¸ªè¡¨é‡Œå–è¿™äº›ç‰¹å¾ç”¨æ¥è®­ç»ƒï¼Œä½†è¿™é‡Œå°±æœ‰ä¸ªé£é™©ï¼Œé‚£å°±æ˜¯è¿™ä¸ªè¡¨é‡Œçš„æ•°æ®åœ¨ä½ ç¦»çº¿å–çš„æ—¶å€™å’Œåœ¨çº¿æœåŠ¡çš„æ—¶å€™æ•°æ®ä¸ä¸€æ ·ï¼Œå‘ç”Ÿäº†å˜åŒ–ã€‚æœ€å¥½çš„è§£å†³æ–¹å¼å°±æ˜¯åœ¨æœåŠ¡ç«¯å°†ç‰¹å¾è®°å½•åœ¨æ—¥å¿—ä¸­ï¼Œè¿™æ ·èƒ½ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚æˆ–è€…å¦‚æœè¿™å¼ è¡¨çš„å˜åŒ–é¢‘ç‡æ¯”è¾ƒä½ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘å¯¹å…¶åšå°æ—¶çº§æˆ–å¤©çº§å¤‡ä»½ï¼Œä»¥æ­¤æ¥å‡å°‘è¿™ç§å·®å¼‚ã€‚ä½†è¦è®°ä½è¿™ç§æ–¹æ³•å¹¶ä¸èƒ½å½»åº•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ Rule #32: ReÂ­use code between your training pipeline and your serving pipeline whenever possible. è§„åˆ™32ï¼šå°½é‡åœ¨è®­ç»ƒpipelineå’ŒæœåŠ¡pipelineä¹‹é—´å¤ç”¨ä»£ç ã€‚è®­ç»ƒä¸€èˆ¬æ˜¯ç¦»çº¿æ‰¹é‡è¿›è¡Œçš„ï¼Œè€ŒæœåŠ¡åˆ™æ˜¯åœ¨çº¿æµå¼è¿›è¡Œçš„ï¼Œè¿™ä¸¤è€…ä¹‹é—´è™½ç„¶åœ¨å¤„ç†æ•°æ®çš„æ–¹å¼ä¸Šå­˜åœ¨ç€è¾ƒå¤§å·®å¼‚ï¼Œä½†ä»ç„¶æœ‰å¾ˆå¤šä»£ç å¯ä»¥å…±äº«ã€‚è¿™äº›ä»£ç çš„å…±äº«å¯ä»¥ä»ä»£ç å±‚é¢ä»‹ç»è®­ç»ƒå’ŒæœåŠ¡ä¹‹é—´çš„å·®å¼‚ã€‚æ¢å¥è¯è¯´ï¼Œæ—¥å¿—è®°å½•ç‰¹å¾æ˜¯ä»æ•°æ®è§’åº¦æ¶ˆé™¤å·®å¼‚ï¼Œé‚£ä¹ˆä»£ç å¤ç”¨å°±æ˜¯ä»ä»£ç è§’åº¦æ¶ˆé™¤å·®å¼‚ï¼ŒåŒç®¡é½ä¸‹ï¼Œæ•ˆæœæ›´å¥½ã€‚ Rule #33: If you produce a model based on the data until January 5th, test the model on the data from January 6th and after. è§„åˆ™33ï¼šå¦‚æœè®­ç»ƒæ•°æ®æ˜¯1æœˆ5æ—¥ä¹‹å‰çš„ï¼Œé‚£ä¹ˆæµ‹è¯•æ•°æ®è¦ä»1æœˆ6æ—¥å¼€å§‹ã€‚è¿™æ¡è§„åˆ™çš„ä¸»è¦ç›®çš„æ˜¯è®©æµ‹è¯•ç»“æœä¸çº¿ä¸Šç»“æœæ›´åŠ æ¥è¿‘ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä½¿ç”¨æ¨¡å‹æ—¶å°±æ˜¯åœ¨ç”¨æœåŠ¡å½“å¤©ä¹‹å‰çš„æ•°æ®è®­ç»ƒï¼Œç„¶åæ¥é¢„æµ‹å½“å¤©çš„æ•°æ®ã€‚è¿™æ ·å¾—åˆ°çš„æµ‹è¯•ç»“æœè™½ç„¶å¯èƒ½ä¼šåä½ï¼Œä½†å´æ›´åŠ çœŸå®ã€‚ Rule #34: In binary classification for filtering (such as spam detection or determining interesting eÂ­mails), make small short-Â­term sacrifices in performance for very clean data. è§„åˆ™34ï¼šåœ¨ä¸ºè¿‡æ»¤æœåŠ¡çš„äºŒåˆ†ç±»é—®é¢˜ä¸­ï¼ˆä¾‹å¦‚åƒåœ¾é‚®ä»¶è¿‡æ»¤ï¼‰ï¼Œå¯ä»¥ä¸ºäº†å¹²å‡€çš„æ•°æ®ç‰ºç‰²ä¸€äº›çŸ­æœŸæ•ˆæœã€‚åœ¨è¿‡æ»¤ç±»çš„ä»»åŠ¡ä¸­ï¼Œè¢«æ ‡è®°ä¸ºè´Ÿçš„æ ·æœ¬æ˜¯ä¸ä¼šå±•ç¤ºç»™ç”¨æˆ·çš„ï¼Œä¾‹å¦‚å¯èƒ½ä¼šæŠŠ75%æ ‡è®°ä¸ºè´Ÿçš„æ ·æœ¬é˜»æ‹¦ä½ä¸å±•ç°ç»™ç”¨æˆ·ã€‚ä½†å¦‚æœä½ åªä»å±•ç¤ºç»™ç”¨æˆ·çš„ç»“æœä¸­è·å–ä¸‹æ¬¡è®­ç»ƒçš„æ ·æœ¬ï¼Œæ˜¾ç„¶ä½ çš„è®­ç»ƒæ ·æœ¬æ˜¯æœ‰åçš„ã€‚ æ›´å¥½çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€å®šæ¯”ä¾‹çš„æµé‡ï¼ˆä¾‹å¦‚1%ï¼‰ä¸“é—¨æ”¶é›†è®­ç»ƒæ•°æ®ï¼Œåœ¨è¿™éƒ¨åˆ†æµé‡ä¸­çš„ç”¨æˆ·ä¼šçœ‹åˆ°æ‰€æœ‰çš„æ ·æœ¬ã€‚è¿™æ ·æ˜¾ç„¶ä¼šå½±å“çº¿ä¸Šçš„çœŸå®è¿‡æ»¤æ•ˆæœï¼Œä½†æ˜¯ä¼šæ”¶é›†åˆ°æ›´å¥½çš„æ•°æ®ï¼Œæ›´æœ‰åˆ©äºç³»ç»Ÿçš„é•¿è¿œå‘å±•ã€‚å¦åˆ™ç³»ç»Ÿä¼šè¶Šè®­ç»ƒè¶Šåï¼Œæ…¢æ…¢å°±ä¸å¯ç”¨äº†ã€‚åŒæ—¶è¿˜èƒ½ä¿è¯è‡³å°‘è¿‡æ»¤æ‰74%çš„è´Ÿæ ·æœ¬ï¼Œå¯¹ç³»ç»Ÿçš„å½±å“ä¹Ÿä¸æ˜¯å¾ˆå¤§ã€‚ ä½†æ˜¯å¦‚æœä½ çš„ç³»ç»Ÿä¼šè¿‡æ»¤æ‰95%æˆ–è€…æ›´å¤šçš„è´Ÿæ ·æœ¬ï¼Œè¿™ç§åšæ³•å°±ä¸é‚£ä¹ˆå¯è¡Œäº†ã€‚å³ä½¿å¦‚æ­¤ï¼Œä¸ºäº†å‡†ç¡®è¡¡é‡æ¨¡å‹çš„æ•ˆæœï¼Œä½ ä»ç„¶å¯ä»¥é€šè¿‡æ„é€ ä¸€ä¸ªæ›´å°çš„æ•°æ®é›†ï¼ˆ0.1%æˆ–è€…æ›´å°ï¼‰æ¥æµ‹è¯•ã€‚åä¸‡çº§åˆ«çš„æ ·æœ¬è¶³å¤Ÿç»™å‡ºå‡†ç¡®çš„è¯„ä»·æŒ‡æ ‡äº†ã€‚ Rule #35: Beware of the inherent skew in ranking problems. è§„åˆ™35ï¼šæ³¨æ„æ’åºé—®é¢˜ä¸­å›ºæœ‰çš„æ•°æ®åç½®ã€‚å½“æ–°çš„æ’åºç®—æ³•å¯¹çº¿ä¸Šæ’åºç»“æœäº§ç”Ÿäº†é‡å¤§æ”¹å˜æ—¶ï¼Œä½ å…¶å®æ˜¯æ”¹å˜äº†ç®—æ³•å°†æ¥ä¼šçœ‹åˆ°çš„æ•°æ®ã€‚è¿™æ—¶è¿™ç§åç½®å°±ä¼šå‡ºç°ã€‚è¿™ç§é—®é¢˜æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•æ¥è§£å†³ï¼Œæ ¸å¿ƒæ€æƒ³éƒ½æ˜¯æ›´åé‡æ¨¡å‹å·²ç»çœ‹åˆ°è¿‡çš„æ•°æ®ã€‚ å¯¹è¦†ç›–æ›´å¤šqueryï¼ˆæˆ–ç±»ä¼¼è§’è‰²ï¼Œæ ¹æ®ä¸šåŠ¡ä¸åŒï¼‰çš„ç‰¹å¾ç»™äºˆæ›´å¼ºçš„æ­£åˆ™åŒ–ã€‚è¿™æ ·æ¨¡å‹ä¼šæ›´åé‡åªè¦†ç›–ä¸€éƒ¨åˆ†æ ·æœ¬çš„ç‰¹å¾ï¼Œè€Œä¸æ˜¯æ³›åŒ–æ€§ç‰¹å¾ã€‚è¿™æ ·ä¼šé˜»æ­¢çˆ†å“å‡ºç°åœ¨ä¸ç›¸å…³queryçš„ç»“æœä¸­ã€‚åªå…è®¸ç‰¹å¾å–æ­£çš„æƒé‡å€¼ã€‚è¿™æ ·ä»»ä½•å¥½ç‰¹å¾éƒ½ä¼šæ¯”â€œæœªçŸ¥â€ç‰¹å¾è¦å¥½ã€‚ä¸è¦ä½¿ç”¨åªå’Œæ–‡æ¡£ç›¸å…³çš„ç‰¹å¾ã€‚è¿™æ˜¯ç¬¬ä¸€æ¡çš„æç«¯æƒ…å†µï¼Œå¦åˆ™ä¼šå¯¼è‡´ç±»ä¼¼å“ˆåˆ©æ³¢ç‰¹æ•ˆåº”çš„æƒ…å†µå‡ºç°ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¡åœ¨ä»»ä½•queryä¸‹éƒ½å—æ¬¢è¿çš„æ–‡æ¡£ä¸ä¼šåˆ°å¤„éƒ½å‡ºç°ã€‚å»é™¤æ‰åªå’Œæ–‡æ¡£ç›¸å…³çš„ç‰¹å¾ä¼šé˜»æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿã€‚Rule #36: Avoid feedback loops with positional features. è§„åˆ™36ï¼šä½¿ç”¨ä½ç½®ç‰¹å¾æ¥é¿å…åé¦ˆå›è·¯ã€‚å¤§å®¶éƒ½çŸ¥é“æ’åºä½ç½®æœ¬èº«å°±ä¼šå½±å“ç”¨æˆ·æ˜¯å¦ä¼šå¯¹ç‰©å“äº§ç”Ÿäº’åŠ¨ï¼Œä¾‹å¦‚ç‚¹å‡»ã€‚æ‰€ä»¥å¦‚æœæ¨¡å‹ä¸­æ²¡æœ‰ä½ç½®ç‰¹å¾ï¼Œæœ¬æ¥ç”±äºä½ç½®å¯¼è‡´çš„å½±å“ä¼šè¢«ç®—åˆ°å…¶ä»–ç‰¹å¾å¤´ä¸Šå»ï¼Œå¯¼è‡´æ¨¡å‹ä¸å¤Ÿå‡†ã€‚å¯ä»¥ç”¨åŠ å…¥ä½ç½®ç‰¹å¾çš„æ–¹æ³•æ¥é¿å…è¿™ç§é—®é¢˜ï¼Œå…·ä½“æ¥è®²ï¼Œåœ¨è®­ç»ƒæ—¶åŠ å…¥ä½ç½®ç‰¹å¾ï¼Œé¢„æµ‹æ—¶å»æ‰ä½ç½®ç‰¹å¾ï¼Œæˆ–è€…ç»™æ‰€æœ‰æ ·æœ¬ä¸€æ ·çš„ä½ç½®ç‰¹å¾ã€‚è¿™æ ·ä¼šè®©æ¨¡å‹æ›´æ­£ç¡®åœ°åˆ†é…ç‰¹å¾çš„æƒé‡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ç½®ç‰¹å¾è¦ä¿æŒç›¸å¯¹ç‹¬ç«‹ï¼Œä¸è¦ä¸å…¶ä»–ç‰¹å¾å‘ç”Ÿå…³è”ã€‚å¯ä»¥å°†ä½ç½®ç›¸å…³çš„ç‰¹å¾ç”¨ä¸€ä¸ªå‡½æ•°è¡¨è¾¾ï¼Œç„¶åå°†å…¶ä»–ç‰¹å¾ç”¨å¦å¤–çš„å‡½æ•°è¡¨è¾¾ï¼Œç„¶åç»„åˆèµ·æ¥ã€‚å…·ä½“åº”ç”¨ä¸­ï¼Œå¯ä»¥é€šè¿‡ä½ç½®ç‰¹å¾ä¸ä¸ä»»ä½•å…¶ä»–ç‰¹å¾äº¤å‰æ¥å®ç°è¿™ä¸ªç›®çš„ã€‚ Rule #37: Measure Training/Serving Skew. è§„åˆ™37ï¼šè¡¡é‡è®­ç»ƒå’ŒæœåŠ¡ä¹‹é—´çš„å·®å¼‚ã€‚æ•´ä½“æ¥è®²æœ‰å¤šç§åŸå› ä¼šå¯¼è‡´è¿™ç§å·®å¼‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è¿›è¡Œç»†åˆ†ä¸ºä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¹‹é—´çš„å·®å¼‚ã€‚è¿™ç§å·®å¼‚ä¼šç»å¸¸å­˜åœ¨ï¼Œè€Œä¸”ä¸ä¸€å®šæ˜¯åäº‹ã€‚æµ‹è¯•é›†å’Œâ€œç¬¬äºŒå¤©â€æ•°æ®é—´çš„å·®å¼‚ã€‚è¿™ç§å·®å¼‚ä¹Ÿä¼šä¸€ç›´å­˜åœ¨ï¼Œè€Œè¿™ä¸ªâ€œç¬¬äºŒå¤©â€æ•°æ®ä¸Šçš„è¡¨ç°æ˜¯æˆ‘ä»¬åº”è¯¥åŠªåŠ›ä¼˜åŒ–çš„ï¼Œä¾‹å¦‚é€šè¿‡æ­£åˆ™åŒ–ã€‚è¿™ä¸¤è€…ä¹‹é—´å·®å¼‚å¦‚æœè¿‡å¤§ï¼Œå¯èƒ½æ˜¯å› ä¸ºç”¨åˆ°äº†ä¸€äº›æ—¶é—´æ•æ„Ÿçš„ç‰¹å¾ï¼Œå¯¼è‡´æ¨¡å‹æ•ˆæœå˜åŒ–æ˜æ˜¾ã€‚â€œç¬¬äºŒå¤©â€æ•°æ®å’Œçº¿ä¸Šæ•°æ®é—´çš„å·®å¼‚ã€‚å¦‚æœåŒæ ·ä¸€æ¡æ ·æœ¬ï¼Œåœ¨è®­ç»ƒæ—¶ç»™å‡ºçš„ç»“æœå’Œçº¿ä¸ŠæœåŠ¡æ—¶ç»™å‡ºçš„ç»“æœä¸ä¸€è‡´ï¼Œé‚£ä¹ˆè¿™æ„å‘³ç€å·¥ç¨‹å®ç°ä¸­å‡ºç°äº†bugã€‚ æœºå™¨å­¦ä¹ ç¬¬ä¸‰é˜¶æ®µï¼šå‡æ…¢å¢é€Ÿã€ç²¾ç»†ä¼˜åŒ–å’Œå¤æ‚æ¨¡å‹ML Phase III: Slowed Growth, Optimization Refinement, and Complex Modelsä¸€èˆ¬ä¼šæœ‰ä¸€äº›æ˜ç¡®çš„ä¿¡å·æ¥æ ‡è¯†ç¬¬äºŒé˜¶æ®µçš„å°¾å£°ã€‚é¦–å…ˆï¼Œæ¯æœˆçš„æå‡ä¼šé€æ­¥é™ä½ã€‚ä½ å¼€å§‹åœ¨ä¸åŒæŒ‡æ ‡ä¹‹é—´åšæƒè¡¡ï¼Œæœ‰çš„ä¸Šå‡æœ‰çš„ä¸‹é™ã€‚å—¯ï¼Œæ¸¸æˆå˜å¾—æœ‰è¶£äº†ã€‚æ—¢ç„¶æ”¶ç›Šä¸å®¹æ˜“è·å¾—äº†ï¼Œæœºå™¨å­¦ä¹ å°±å¾—å˜å¾—æ›´å¤æ‚äº†ã€‚ åœ¨å‰ä¸¤ä¸ªé˜¶æ®µï¼Œå¤§éƒ¨åˆ†å›¢é˜Ÿéƒ½å¯ä»¥è¿‡å¾—å¾ˆå¼€å¿ƒï¼Œä½†åˆ°äº†è¿™ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªå›¢é˜Ÿéƒ½éœ€è¦æ‰¾åˆ°é€‚åˆè‡ªå·±çš„è·¯ã€‚ Rule #38: Donâ€™t waste time on new features if unaligned objectives have become the issue. è§„åˆ™38ï¼šå¦‚æœobjectiveæ²¡æœ‰è¾¾æˆä¸€è‡´ï¼Œä¸è¦åœ¨æ–°ç‰¹å¾ä¸Šæµªè´¹æ—¶é—´ã€‚å½“ç³»ç»Ÿæ•´ä½“è¾¾åˆ°ä¸€ä¸ªç¨³å®šæœŸï¼Œå¤§å®¶ä¼šå¼€å§‹å…³æ³¨æœºå™¨å­¦ä¹ ç³»ç»Ÿä¼˜åŒ–ç›®æ ‡ä»¥å¤–çš„ä¸€äº›é—®é¢˜ã€‚è¿™ä¸ªæ—¶å€™ï¼Œç›®æ ‡å°±ä¸å¦‚ä¹‹å‰é‚£ä¹ˆæ¸…æ™°ï¼Œé‚£ä¹ˆå¦‚æœç›®æ ‡æ²¡æœ‰ç¡®å®šä¸‹æ¥çš„è¯ï¼Œå…ˆä¸è¦åœ¨ç‰¹å¾ä¸Šæµªè´¹æ—¶é—´ã€‚ Rule #39: Launch decisions are a proxy for longÂ­term product goals. è§„åˆ™39ï¼šä¸Šçº¿å†³ç­–æ˜¯é•¿æœŸäº§å“ç›®æ ‡çš„ä»£ç†ã€‚è¿™å¥è¯è¯»èµ·æ¥æœ‰ç‚¹åˆ«æ‰­ï¼Œä½œè€…ä¸¾äº†å‡ ä¸ªä¾‹å­æ¥è¯´æ˜ï¼Œæˆ‘è§‰å¾—æ ¸å¿ƒå°±æ˜¯åœ¨è®²ä¸€ä»¶äº‹æƒ…ï¼šç³»ç»Ÿã€äº§å“ç”šè‡³å…¬å¸çš„é•¿è¿œå‘å±•éœ€è¦é€šè¿‡å¤šä¸ªæŒ‡æ ‡æ¥ç»¼åˆè¡¡é‡ï¼Œè€Œæ–°æ¨¡å‹æ˜¯å¦ä¸Šçº¿è¦ç»¼åˆè€ƒè™‘è¿™äº›æŒ‡æ ‡ã€‚æ‰€è°“ä»£ç†ï¼ŒæŒ‡çš„å°±æ˜¯ä¼˜åŒ–è¿™äº›ç»¼åˆæŒ‡æ ‡å°±æ˜¯åœ¨ä¼˜åŒ–äº§å“ã€å…¬å¸çš„é•¿è¿œç›®æ ‡ã€‚ å†³ç­–åªæœ‰åœ¨æ‰€æœ‰æŒ‡æ ‡éƒ½åœ¨å˜å¥½çš„æƒ…å†µä¸‹æ‰ä¼šå˜å¾—ç®€å•ã€‚ä½†å¸¸å¸¸äº‹æƒ…æ²¡é‚£ä¹ˆç®€å•ï¼Œå°¤å…¶æ˜¯å½“ä¸åŒæŒ‡æ ‡ä¹‹é—´æ— æ³•æ¢ç®—çš„æ—¶å€™ï¼Œä¾‹å¦‚Aç³»ç»Ÿæœ‰ä¸€ç™¾ä¸‡æ—¥æ´»å’Œå››ç™¾ä¸‡æ—¥æ”¶å…¥ï¼ŒBç³»ç»Ÿæœ‰ä¸¤ç™¾ä¸‡æ—¥æ´»å’Œä¸¤ç™¾ä¸‡æ—¥æ”¶å…¥ï¼Œä½ ä¼šä»Aåˆ‡æ¢åˆ°Bå—ï¼Ÿæˆ–è€…åè¿‡æ¥ï¼Ÿç­”æ¡ˆæ˜¯æˆ–è®¸éƒ½ä¸ä¼šï¼Œå› ä¸ºä½ ä¸çŸ¥é“æŸä¸ªæŒ‡æ ‡çš„æå‡æ˜¯å¦ä¼šcoverå¦å¤–ä¸€ä¸ªæŒ‡æ ‡çš„ä¸‹é™ã€‚ å…³é”®æ˜¯ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæŒ‡æ ‡èƒ½å›ç­”ï¼šâ€œäº”å¹´åæˆ‘çš„äº§å“åœ¨å“ªé‡Œâ€ï¼Ÿ è€Œæ¯ä¸ªä¸ªä½“ï¼Œå°¤å…¶æ˜¯å·¥ç¨‹å¸ˆä»¬ï¼Œæ˜¾ç„¶æ›´å–œæ¬¢èƒ½å¤Ÿç›´æ¥ä¼˜åŒ–çš„ç›®æ ‡ï¼Œè€Œè¿™ä¹Ÿæ˜¯æœºå™¨å­¦ä¹ ç³»ç»Ÿå¸¸è§çš„åœºæ™¯ ã€‚ç°åœ¨ä¹Ÿæœ‰ä¸€äº›å¤šç›®æ ‡å­¦ä¹ ç³»ç»Ÿåœ¨è¯•å›¾è§£å†³è¿™ç§é—®é¢˜ã€‚ä½†ä»ç„¶æœ‰å¾ˆå¤šç›®æ ‡æ— æ³•å»ºæ¨¡ä¸ºæœºå™¨å­¦ä¹ é—®é¢˜ï¼Œæ¯”å¦‚ç”¨æˆ·ä¸ºä»€ä¹ˆä¼šæ¥è®¿é—®ä½ çš„ç½‘ç«™ç­‰ç­‰ã€‚ä½œè€…è¯´è¿™æ˜¯ä¸ªAI-completeé—®é¢˜ï¼Œä¹Ÿå¸¸è¢«ç§°ä¸ºå¼ºAIé—®é¢˜ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸èƒ½ç”¨æŸä¸ªå•ä¸€ç®—æ³•è§£å†³çš„é—®é¢˜ã€‚ Rule #40: Keep ensembles simple. è§„åˆ™40ï¼šensembleç­–ç•¥ä¿æŒç®€å•ã€‚ä»€ä¹ˆå«ç®€å•çš„ensembleï¼Ÿä½œè€…è®¤ä¸ºï¼Œåªæ¥å—å…¶ä»–æ¨¡å‹çš„è¾“å‡ºä½œä¸ºè¾“å…¥ï¼Œä¸é™„å¸¦å…¶ä»–ç‰¹å¾çš„ensembleï¼Œå«åšç®€å•çš„ensembleã€‚æ¢å¥è¯è¯´ï¼Œä½ çš„æ¨¡å‹è¦ä¹ˆæ˜¯å•çº¯çš„ensembleæ¨¡å‹ï¼Œè¦ä¹ˆæ˜¯æ™®é€šçš„æ¥æ”¶å¤§é‡ç‰¹å¾çš„åŸºæ¨¡å‹ã€‚ é™¤äº†ä¿æŒç®€å•ï¼Œensembleæ¨¡å‹æœ€å¥½è¿˜èƒ½å…·æœ‰ä¸€äº›è‰¯å¥½çš„æ€§è´¨ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ªåŸºæ¨¡å‹çš„æ€§èƒ½æå‡ä¸èƒ½é™ä½ç»„åˆæ¨¡å‹çš„æ€§èƒ½ã€‚ä»¥åŠï¼ŒåŸºæ¨¡å‹æœ€å¥½éƒ½æ˜¯å¯è§£é‡Šçš„ï¼ˆä¾‹å¦‚æ˜¯æ ¡å‡†çš„)ï¼Œè¿™æ ·åŸºæ¨¡å‹çš„å˜åŒ–å¯¹ä¸Šå±‚çš„ç»„åˆæ¨¡å‹æ¥è¯´ä¹Ÿæ˜¯å¯è§£é‡Šçš„ã€‚åŒæ—¶ï¼Œä¸€ä¸ªåŸºæ¨¡å‹é¢„æµ‹æ¦‚ç‡å€¼çš„æå‡ä¸ä¼šé™ä½ç»„åˆæ¨¡å‹çš„é¢„æµ‹æ¦‚ç‡å€¼ã€‚ Rule #41: When performance plateaus, look for qualitatively new sources of information to add rather than refining existing signals. è§„åˆ™41ï¼šå½“æ•ˆæœè¿›å…¥ç¨³å®šæœŸï¼Œå¯»æ‰¾æœ¬è´¨ä¸Šæ–°çš„ä¿¡æ¯æºï¼Œè€Œä¸æ˜¯ä¼˜åŒ–å·²æœ‰çš„ä¿¡å·ã€‚ä½ åŠ äº†ä¸€äº›ç”¨æˆ·çš„äººå£ç»Ÿè®¡å­¦ç‰¹å¾ï¼Œä½ åŠ äº†ä¸€äº›æ–‡æ¡£çš„æ–‡å­—ç‰¹å¾ï¼Œç­‰ç­‰ï¼Œä½†æ˜¯å…³é”®æŒ‡æ ‡ä¸Šçš„æå‡è¿˜ä¸åˆ°1%ã€‚ç°åœ¨å’‹æ•´ï¼Ÿ è¿™æ—¶å°±åº”è¯¥è€ƒè™‘åŠ ä¸€äº›æ ¹æœ¬ä¸Šä¸åŒçš„ç‰¹å¾ï¼Œä¾‹å¦‚ç”¨æˆ·å†è¿‡å»ä¸€å¤©ã€ä¸€å‘¨çœ‹è¿‡çš„æ–‡æ¡£å†å²ï¼Œæˆ–è€…å¦å¤–ä¸€ä¸ªæ•°æ®æºçš„æ•°æ®ã€‚æ€»ä¹‹ï¼Œè¦åŠ å…¥å®Œå…¨ä¸åŒçš„ç»´åº¦çš„ç‰¹å¾ã€‚æ­¤å¤–ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨æ·±åº¦å­¦ä¹ ï¼Œä½†åŒæ—¶ä¹Ÿè¦è°ƒæ•´ä½ å¯¹ROIçš„é¢„æœŸï¼Œå¹¶ä¸”è¦è¯„ä¼°å¢åŠ çš„å¤æ‚åº¦æ¢æ¥çš„æ”¶ç›Šæ˜¯å¦å€¼å¾—ã€‚ Rule #42: Donâ€™t expect diversity, personalization, or relevance to be as correlated with popularity as you think they are. è§„åˆ™42ï¼šå¤šæ ·æ€§ï¼Œä¸ªæ€§åŒ–æˆ–è€…ç›¸å…³æ€§ä¸æµè¡Œåº¦çš„ç›¸å…³æ€§å…³ç³»å¯èƒ½è¦æ¯”ä½ æƒ³çš„å¼±å¾ˆå¤šã€‚å¤šæ ·æ€§æ„å‘³ç€å†…å®¹æˆ–è€…æ¥æºçš„å¤šæ ·æ€§ï¼›ä¸ªæ€§åŒ–æ„å‘³ç€æ¯ä¸ªç”¨æˆ·å¾—åˆ°ä¸ä¸€æ ·çš„ä¸œè¥¿ï¼›ç›¸å…³æ€§æ„å‘³ç€ä¸€ä¸ªqueryçš„è¿”å›ç»“æœç›¸æ¯”å…¶ä»–queryä¸è¿™ä¸ªqueryæ›´ç›¸å…³ã€‚æ‰€ä»¥è¿™ä¸‰ä¸ªæŒ‡æ ‡çš„å«ä¹‰éƒ½æ˜¯ä¸æ™®é€šä¸ä¸€æ ·ã€‚ ä½†é—®é¢˜åœ¨äºæ™®é€šçš„ä¸œè¥¿å¾ˆéš¾è¢«æ‰“è´¥ã€‚ å¦‚æœä½ çš„è¡¡é‡æŒ‡æ ‡æ˜¯ç‚¹å‡»ã€åœç•™æ—¶é•¿ã€è§‚çœ‹æ•°ã€åˆ†äº«æ•°ç­‰ç­‰ï¼Œä½ æœ¬è´¨ä¸Šæ˜¯åœ¨è¡¡é‡ä¸œè¥¿çš„æµè¡Œåº¦ã€‚æœ‰çš„å›¢é˜Ÿæœ‰æ—¶ä¼šå¸Œæœ›å­¦åˆ°ä¸€ä¸ªå¤šæ ·åŒ–çš„ä¸ªæ€§åŒ–æ¨¡å‹ã€‚ä¸ºæ­¤ï¼Œä¼šåŠ å…¥ä¸ªæ€§åŒ–ç‰¹å¾å’Œå¤šæ ·åŒ–ç‰¹å¾ï¼Œä½†æ˜¯æœ€åä¼šå‘ç°è¿™äº›ç‰¹å¾å¹¶æ²¡æœ‰å¾—åˆ°é¢„æœŸçš„æƒé‡ã€‚ è¿™å¹¶ä¸èƒ½è¯´æ˜å¤šæ ·æ€§ã€ä¸ªæ€§åŒ–å’Œç›¸å…³æ€§ä¸é‡è¦ã€‚åƒå‰æ–‡æŒ‡å‡ºï¼Œå¯ä»¥é€šè¿‡åç»­çš„å¤„ç†æ¥å¢åŠ å¤šæ ·æ€§æˆ–ç›¸å…³æ€§ã€‚å¦‚æœè¿™æ—¶çœ‹åˆ°é•¿æœŸç›®æ ‡æå‡äº†ï¼Œä½ å°±å¯ä»¥ç¡®å®šå¤šæ ·æ€§/ç›¸å…³æ€§æ˜¯æœ‰ç”¨çš„ã€‚è¿™æ—¶ä½ å°±å¯ä»¥é€‰æ‹©ç»§ç»­ä½¿ç”¨åç»­å¤„ç†çš„æ–¹å¼ï¼Œæˆ–è€…æ ¹æ®å¤šæ ·æ€§å’Œç›¸å…³æ€§ç›´æ¥ä¿®æ”¹è¦ä¼˜åŒ–çš„objectiveã€‚ Rule #43: Your friends tend to be the same across different products. Your interests tend not to be. è§„åˆ™43ï¼šä½ åœ¨ä¸åŒäº§å“ä¸Šçš„å¥½å‹ä¸€èˆ¬æ˜¯ä¸€æ ·çš„ï¼Œä½†ä½ çš„å…´è¶£é€šå¸¸ä¼šä¸ä¸€æ ·ã€‚è°·æ­Œç»å¸¸åœ¨ä¸åŒäº§å“ä¸Šä½¿ç”¨åŒæ ·çš„å¥½å‹å…³ç³»é¢„æµ‹æ¨¡å‹ï¼Œå¹¶ä¸”å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœï¼Œè¿™è¯æ˜ä¸åŒçš„äº§å“ä¸Šå¥½å‹å…³ç³»æ˜¯å¯ä»¥è¿ç§»çš„ï¼Œæ¯•ç«Ÿä»–ä»¬æ˜¯å›ºå®šçš„åŒä¸€æ‰¹äººã€‚ä½†ä»–ä»¬å°è¯•å°†ä¸€ä¸ªäº§å“ä¸Šçš„ä¸ªæ€§åŒ–ç‰¹å¾ä½¿ç”¨åˆ°å¦å¤–ä¸€ä¸ªäº§å“ä¸Šæ—¶å´å¸¸å¸¸å¾—ä¸åˆ°å¥½ç»“æœã€‚å¯è¡Œçš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªæ•°æ®æºä¸Šçš„åŸå§‹æ•°æ®æ¥é¢„æµ‹å¦å¤–æ•°æ®æºä¸Šçš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯ä½¿ç”¨åŠ å·¥åçš„ç‰¹å¾ã€‚æ­¤å¤–ï¼Œç”¨æˆ·åœ¨å¦ä¸€ä¸ªæ•°æ®æºä¸Šçš„è¡Œä¸ºå†å²ä¹Ÿä¼šæœ‰ç”¨ã€‚ æ€»ç»“ä»ä¸Šé¢æ´‹æ´‹æ´’æ´’43æ¡ç»éªŒä¹‹è°ˆä¸­ä¸éš¾çœ‹å‡ºï¼Œå¤§ç¥ä½œè€…è®¤ä¸ºï¼Œå¯¹äºå¤§å¤šæ•°æœºå™¨å­¦ä¹ åº”ç”¨åœºæ™¯æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦è§£å†³çš„é—®é¢˜å¤§å¤šæ•°éƒ½æ˜¯å·¥ç¨‹é—®é¢˜ï¼Œè§£å†³è¿™äº›å·¥ç¨‹é—®é¢˜éœ€è¦çš„å¹¶ä¸æ˜¯å¤æ‚çš„ç†è®ºï¼Œæ›´å¤šæ˜¯å¯¹ç»†èŠ‚ã€æ¶æ„ã€è¿‡ç¨‹çš„ä»”ç»†æ¨æ•²å’Œç²¾è‡´è¿½æ±‚ã€‚è€Œè¿™äº›æ˜¯æˆ‘ä»¬éå¤§ç¥çš„æ™®é€šäººå¯ä»¥åšåˆ°çš„ï¼Œå¦‚æœè¯´å¤§ç¥åšçš„æ˜¯95åˆ†ä»¥ä¸Šçš„ç³»ç»Ÿï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦å¯¹å·¥ç¨‹æ¶æ„ã€è¿‡ç¨‹å’Œç»†èŠ‚åšå¥½è¶³å¤Ÿçš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åšå‡ºè‡³å°‘80åˆ†çš„ç³»ç»Ÿã€‚ å‚è€ƒhttps://blog.csdn.net/hellozhxy/article/details/80431959","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"Jupyter NotebookæŸ¥çœ‹Markdownæ–‡ä»¶","slug":"90æ‚ä¸ƒæ‚å…«/æŸ¥çœ‹Markdownæ–‡ä»¶","date":"2019-01-09T00:00:00.000Z","updated":"2019-01-21T06:13:30.543Z","comments":true,"path":"2019/01/09/90æ‚ä¸ƒæ‚å…«/æŸ¥çœ‹Markdownæ–‡ä»¶/","link":"","permalink":"http://yoursite.com/2019/01/09/90æ‚ä¸ƒæ‚å…«/æŸ¥çœ‹Markdownæ–‡ä»¶/","excerpt":"","text":"èƒŒæ™¯éœ€è¦åœ¨Jupyter Notebookä¸­ä¿®æ”¹å…¶ä»–è½¯ä»¶ç¼–è¾‘çš„MarkDownçš„æ–‡ä»¶ï¼Œå‘ç°å¯ä»¥ä½¿ç”¨notedownæ’ä»¶è§£å†³ã€‚ åŸºæœ¬æ­¥éª¤pip3 install https://github.com/mli/notedown/tarball/master å®‰è£…å®Œæˆä¹‹å jupyter notebook --NotebookApp.contents_manager_class=&apos;notedown.NotedownContentsManager&apos; è¿™æ—¶æ‰“å¼€ç›¸åº”çš„.mdæ–‡ä»¶å°±å¯ä»¥äº†ã€‚ ä¸æƒ³æ¯æ¬¡æ‰§è¡Œéƒ½åŠ å‚æ•°ï¼Ÿæ“ä½œå¦‚ä¸‹ï¼š æ‰§è¡Œ jupyter notebook --generate-config ä¼šç”Ÿæˆ~/.jupyter/jupyter_notebook_config.pyæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­åŠ å…¥é…ç½®c.NotebookApp.contents_manager_class = &#39;notedown.NotedownContentsManager&#39;å†å¯åŠ¨jupyter notebookï¼Œå’Œä¸Šé¢çš„æ•ˆæœä¸€æ ·ã€‚","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"}],"keywords":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}]},{"title":"matplotlibå…¥é—¨å­¦ä¹ ","slug":"22programming/python/matplotlibå…¥é—¨","date":"2019-01-09T00:00:00.000Z","updated":"2019-01-11T06:24:53.409Z","comments":true,"path":"2019/01/09/22programming/python/matplotlibå…¥é—¨/","link":"","permalink":"http://yoursite.com/2019/01/09/22programming/python/matplotlibå…¥é—¨/","excerpt":"","text":"ç®€å•ç»˜å›¾matplotlib.pyplotåŒ…ä¸­åŒ…å«äº†ç®€å•ç»˜å›¾åŠŸèƒ½ã€‚ import numpy as np import matplotlib.pyplot as plt func = np.poly1d(np.array([1, 2, 3, 4]).astype(float)) x = np.linspace(-10, 10, 30) y = func(x) plt.plot(x, y) plt.xlabel(&apos;x&apos;) plt.ylabel(&apos;y(x)&apos;) plt.show() ç»˜åˆ¶å­å›¾ç»˜å›¾æ—¶å¯èƒ½ä¼šé‡åˆ°å›¾ä¸­æœ‰å¤ªå¤šæ›²çº¿çš„æƒ…å†µï¼Œè€Œä½ å¸Œæœ›åˆ†ç»„ç»˜åˆ¶å®ƒä»¬ã€‚è¿™å¯ä»¥ä½¿ç”¨subplotå‡½æ•°å®Œæˆã€‚ fig = plt.figure() ax1 = fig.add_subplot(2, 2, 1) ax2 = fig.add_subplot(2, 2, 2) ax3 = fig.add_subplot(2, 2, 3) plt.plot(np.random.randn(50).cumsum(), &apos;k--&apos;) ax1.hist(np.random.randn(100), bins=20, color=&apos;k&apos;, alpha=0.3) matplotlibæ‰€ç»˜åˆ¶çš„å›¾ä½äºå›¾ç‰‡ï¼ˆFigureï¼‰å¯¹è±¡ä¸­ã€‚ä½¿ç”¨plt.figureç”Ÿæˆä¸€ä¸ªæ–°çš„å›¾ç‰‡ã€‚ç»˜å›¾å‘½ä»¤plt.plotï¼Œmatplotlibä¼šåœ¨æœ€åä¸€ä¸ªå›¾ç‰‡å’Œå­å›¾ä¸Šè¿›è¡Œç»˜åˆ¶ã€‚ ä½¿ç”¨å­å›¾ç½‘æ ¼åˆ›å»ºå›¾ç‰‡æ˜¯éå¸¸å¸¸è§çš„ä»»åŠ¡ï¼Œæ‰€ä»¥matplotlibåŒ…å«äº†ä¸€ä¸ªä¾¿æ·æ–¹æ³•plt.subplotsï¼Œå®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„å›¾ç‰‡ï¼Œç„¶åè¿”å›åŒ…å«äº†å·²ç”Ÿæˆå­å›¾å¯¹è±¡çš„NumPyæ•°ç»„ã€‚ fig, axes = plt.subplots(2, 2) axes axes[1][0].hist(np.random.randn(100), bins=20, color=&apos;g&apos;, alpha=0.3) plotå‡½æ•°å‚æ•°è¯­æ³• plot(Y) plot(X1,Y1,...) plot(X1,Y1,LineSpec,...) plot(Y)å¦‚æœYæ˜¯mÃ—nçš„æ•°ç»„ï¼Œä»¥1:mä¸ºXæ¨ªåæ ‡ï¼ŒYä¸­çš„æ¯ä¸€åˆ—å…ƒç´ ä¸ºYåæ ‡ï¼Œç»˜åˆ¶næ¡æ›²çº¿ï¼› å‚è€ƒç½‘ç«™https://blog.csdn.net/fenghuizhidao/article/details/83090043https://www.cnblogs.com/haore147/p/3633017.htmlhttps://blog.csdn.net/qq_30638831/article/details/79938967https://www.matplotlib.org.cnhttps://blog.csdn.net/wizardforcel/article/details/54782693","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Scikit-Learnå…¥é—¨å­¦ä¹ ","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /Scikit-Learnå…¥é—¨","date":"2019-01-09T00:00:00.000Z","updated":"2019-01-23T13:25:00.551Z","comments":true,"path":"2019/01/09/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /Scikit-Learnå…¥é—¨/","link":"","permalink":"http://yoursite.com/2019/01/09/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /Scikit-Learnå…¥é—¨/","excerpt":"","text":"Scikit-LearnåŸºæœ¬å­¦ä¹ Scikit-Learn æ¥å£è®¾è®¡Scikit-Learn è®¾è®¡çš„ API è®¾è®¡çš„éå¸¸å¥½ã€‚å®ƒçš„ä¸»è¦è®¾è®¡åŸåˆ™æ˜¯ï¼š ä¸€è‡´æ€§ï¼šæ‰€æœ‰å¯¹è±¡çš„æ¥å£ä¸€è‡´ä¸”ç®€å• å¯æ£€éªŒã€‚æ‰€æœ‰ä¼°è®¡å™¨çš„è¶…å‚æ•°éƒ½å¯ä»¥é€šè¿‡å®ä¾‹çš„publicå˜é‡ç›´æ¥è®¿é—®ï¼ˆæ¯”å¦‚ï¼Œimputer.strategyï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰ä¼°è®¡å™¨å­¦ä¹ åˆ°çš„å‚æ•°ä¹Ÿå¯ä»¥é€šè¿‡åœ¨å®ä¾‹å˜é‡åååŠ ä¸‹åˆ’çº¿æ¥è®¿é—®ï¼ˆæ¯”å¦‚ï¼Œimputer.statistics_ï¼‰ã€‚ ç±»ä¸å¯æ‰©æ•£ã€‚åªæœ‰ç®—æ³•å¯ä»¥ç”¨ Python ç±»è¡¨ç¤ºã€‚æ•°æ®é›†éƒ½ç”¨æ ‡å‡†æ•°æ®ç±»å‹ï¼ˆNumPy æ•°ç»„ã€Pandas DataFrame ã€SciPy ç¨€ç–çŸ©é˜µï¼‰è¡¨ç¤ºï¼Œå‚æ•°åç§°ç”¨æ ‡å‡†çš„ Python å­—ç¬¦ä¸²ã€‚ å¯ç»„åˆã€‚å°½å¯èƒ½ä½¿ç”¨ç°å­˜çš„æ¨¡å—ã€‚ä¾‹å¦‚ï¼Œç”¨ä»»æ„çš„è½¬æ¢å™¨åºåˆ—åŠ ä¸Šä¸€ä¸ªä¼°è®¡å™¨ï¼Œå°±å¯ä»¥åšæˆä¸€ä¸ªæµæ°´çº¿ï¼Œåé¢ä¼šçœ‹åˆ°ä¾‹å­ã€‚ åˆç†çš„é»˜è®¤å€¼ã€‚Scikit-Learn ç»™å¤§å¤šæ•°å‚æ•°æä¾›äº†åˆç†çš„é»˜è®¤å€¼ï¼Œå¾ˆå®¹æ˜“å°±èƒ½åˆ›å»ºä¸€ä¸ªç³»ç»Ÿã€‚ Scikit-Learnä¸­å¯¹è±¡ ä¼°è®¡å™¨ï¼ˆestimatorï¼‰ã€‚ä»»ä½•å¯ä»¥åŸºäºæ•°æ®é›†å¯¹ä¸€äº›å‚æ•°è¿›è¡Œä¼°è®¡çš„å¯¹è±¡éƒ½è¢«ç§°ä¸ºä¼°è®¡å™¨ï¼ˆæ¯”å¦‚ï¼Œimputerå°±æ˜¯ä¸ªä¼°è®¡å™¨ï¼‰ã€‚ä¼°è®¡æœ¬èº«æ˜¯é€šè¿‡fit()æ–¹æ³•ï¼Œåªéœ€è¦ä¸€ä¸ªæ•°æ®é›†ä½œä¸ºå‚æ•°ï¼ˆå¯¹äºç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œéœ€è¦ä¸¤ä¸ªæ•°æ®é›†ï¼›ç¬¬äºŒä¸ªæ•°æ®é›†åŒ…å«æ ‡ç­¾ï¼‰ã€‚ è½¬æ¢å™¨ï¼ˆtransformerï¼‰ã€‚ä¸€äº›ä¼°è®¡å™¨ï¼ˆæ¯”å¦‚imputerï¼‰ä¹Ÿå¯ä»¥è½¬æ¢æ•°æ®é›†ï¼Œè¿™äº›ä¼°è®¡å™¨è¢«ç§°ä¸ºè½¬æ¢å™¨ã€‚APIä¹Ÿæ˜¯ç›¸å½“ç®€å•ï¼šè½¬æ¢æ˜¯é€šè¿‡transform()æ–¹æ³•ï¼Œè¢«è½¬æ¢çš„æ•°æ®é›†ä½œä¸ºå‚æ•°ã€‚è¿”å›çš„æ˜¯ç»è¿‡è½¬æ¢çš„æ•°æ®é›†ã€‚æ‰€æœ‰çš„è½¬æ¢éƒ½æœ‰ä¸€ä¸ªä¾¿æ·çš„æ–¹æ³•fit_transform()ï¼Œç­‰åŒäºè°ƒç”¨fit()å†transform()ã€‚ é¢„æµ‹å™¨ï¼ˆpredictorï¼‰ã€‚æœ€åï¼Œä¸€äº›ä¼°è®¡å™¨å¯ä»¥æ ¹æ®ç»™å‡ºçš„æ•°æ®é›†åšé¢„æµ‹ï¼Œè¿™äº›ä¼°è®¡å™¨ç§°ä¸ºé¢„æµ‹å™¨ã€‚ä¾‹å¦‚ï¼ŒLinearRegressionæ¨¡å‹å°±æ˜¯ä¸€ä¸ªé¢„æµ‹å™¨ï¼šé¢„æµ‹å™¨æœ‰ä¸€ä¸ªpredict()æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ–°å®ä¾‹çš„æ•°æ®é›†åšå‡ºç›¸åº”çš„é¢„æµ‹ã€‚é¢„æµ‹å™¨è¿˜æœ‰ä¸€ä¸ªscore()æ–¹æ³•ã€‚ Scikit-Learnçš„è¯„ä¼°å™¨APIScikit-Learn è¯„ä¼°å™¨ API çš„å¸¸ç”¨æ­¥éª¤å¦‚ä¸‹æ‰€ç¤ºï¼š (1) é€šè¿‡ä» Scikit-Learn ä¸­å¯¼å…¥é€‚å½“çš„è¯„ä¼°å™¨ç±»ï¼Œé€‰æ‹©æ¨¡å‹ç±»ã€‚ (2) ç”¨åˆé€‚çš„æ•°å€¼å¯¹æ¨¡å‹ç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œé…ç½®æ¨¡å‹è¶…å‚æ•°ï¼ˆhyperparameterï¼‰ã€‚ (3) æ•´ç†æ•°æ®ï¼Œé€šè¿‡å‰é¢ä»‹ç»çš„æ–¹æ³•è·å–ç‰¹å¾çŸ©é˜µå’Œç›®æ ‡æ•°ç»„ã€‚ (4) è°ƒç”¨æ¨¡å‹å®ä¾‹çš„ fit() æ–¹æ³•å¯¹æ•°æ®è¿›è¡Œæ‹Ÿåˆã€‚ (5) å¯¹æ–°æ•°æ®åº”ç”¨æ¨¡å‹ï¼š åœ¨æœ‰ç›‘ç£å­¦ä¹ æ¨¡å‹ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ predict() æ–¹æ³•é¢„æµ‹æ–°æ•°æ®çš„æ ‡ç­¾ï¼› åœ¨æ— ç›‘ç£å­¦ä¹ æ¨¡å‹ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ transform() æˆ– predict() æ–¹æ³•è½¬æ¢æˆ–æ¨æ–­æ•°æ®çš„æ€§è´¨ ä¾‹å­ï¼šç®€å•çº¿æ€§å›å½’123%matplotlib inlineimport matplotlib.pyplot as pltimport numpy as np 12345rng = np.random.RandomState(42)x = 10 * rng.rand(50)y = 2 * x - 1 + rng.randn(50)plt.scatter(x, y);plt.show() (1) é€‰æ‹©æ¨¡å‹ç±» 1from sklearn.linear_model import LinearRegression (2) é€‰æ‹©æ¨¡å‹è¶…å‚æ•° 12model = LinearRegression(fit_intercept=True)model LinearRegression(copy_X=True, fit_intercept=True, n_jobs=None, normalize=False) (3) å°†æ•°æ®æ•´ç†æˆç‰¹å¾çŸ©é˜µå’Œç›®æ ‡æ•°ç»„ 12X = x[:, np.newaxis]X.shape (50, 1) (4) ç”¨æ¨¡å‹æ‹Ÿåˆæ•°æ® 1model.fit(X, y) LinearRegression(copy_X=True, fit_intercept=True, n_jobs=None, normalize=False) fit() å‘½ä»¤ä¼šåœ¨æ¨¡å‹å†…éƒ¨è¿›è¡Œå¤§é‡è¿ç®—ï¼Œè¿ç®—ç»“æœå°†å­˜å‚¨åœ¨æ¨¡å‹å±æ€§ä¸­ï¼Œä¾›ç”¨æˆ·ä½¿ç”¨ã€‚åœ¨ Scikit-Learn ä¸­ï¼Œæ‰€æœ‰é€šè¿‡ fit() æ–¹æ³•è·å¾—çš„æ¨¡å‹å‚æ•°éƒ½å¸¦ä¸€æ¡ä¸‹åˆ’çº¿ã€‚ 1model.coef_ array([1.9776566]) 1model.intercept_ -0.9033107255311146 1ä¸Šé¢çš„è¾“å‡ºï¼Œåˆ†åˆ«è¡¨ç¤ºå¯¹æ ·æœ¬æ•°æ®æ‹Ÿåˆç›´çº¿çš„æ–œç‡å’Œæˆªè·ã€‚ (5) é¢„æµ‹æ–°æ•°æ®çš„æ ‡ç­¾ æ¨¡å‹è®­ç»ƒå‡ºæ¥ä¹‹åï¼Œæœ‰ç›‘ç£æœºå™¨å­¦ä¹ çš„ä¸»è¦ä»»åŠ¡å°±å˜æˆäº†å¯¹ä¸å±äºè®­ç»ƒé›†çš„æ–°æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚åœ¨ Scikit-Learn ä¸­ï¼Œæˆ‘ä»¬ç”¨ predict() æ–¹æ³•è¿›è¡Œé¢„æµ‹ã€‚ 12xfit = np.linspace(-1, 11)xfit array([-1. , -0.75510204, -0.51020408, -0.26530612, -0.02040816, 0.2244898 , 0.46938776, 0.71428571, 0.95918367, 1.20408163, 1.44897959, 1.69387755, 1.93877551, 2.18367347, 2.42857143, 2.67346939, 2.91836735, 3.16326531, 3.40816327, 3.65306122, 3.89795918, 4.14285714, 4.3877551 , 4.63265306, 4.87755102, 5.12244898, 5.36734694, 5.6122449 , 5.85714286, 6.10204082, 6.34693878, 6.59183673, 6.83673469, 7.08163265, 7.32653061, 7.57142857, 7.81632653, 8.06122449, 8.30612245, 8.55102041, 8.79591837, 9.04081633, 9.28571429, 9.53061224, 9.7755102 , 10.02040816, 10.26530612, 10.51020408, 10.75510204, 11. ]) 12Xfit = xfit[:, np.newaxis]Xfit array([[-1. ], [-0.75510204], [-0.51020408], [-0.26530612], [-0.02040816], [ 0.2244898 ], [ 0.46938776], [ 0.71428571], [ 0.95918367], [ 1.20408163], [ 1.44897959], [ 1.69387755], [ 1.93877551], [ 2.18367347], [ 2.42857143], [ 2.67346939], [ 2.91836735], [ 3.16326531], [ 3.40816327], [ 3.65306122], [ 3.89795918], [ 4.14285714], [ 4.3877551 ], [ 4.63265306], [ 4.87755102], [ 5.12244898], [ 5.36734694], [ 5.6122449 ], [ 5.85714286], [ 6.10204082], [ 6.34693878], [ 6.59183673], [ 6.83673469], [ 7.08163265], [ 7.32653061], [ 7.57142857], [ 7.81632653], [ 8.06122449], [ 8.30612245], [ 8.55102041], [ 8.79591837], [ 9.04081633], [ 9.28571429], [ 9.53061224], [ 9.7755102 ], [10.02040816], [10.26530612], [10.51020408], [10.75510204], [11. ]]) å°†è¿™äº›xå€¼è½¬æ¢æˆ[n_samples, n_features]çš„ç‰¹å¾çŸ©é˜µå½¢å¼ï¼Œä¹‹åå°†å…¶è¾“å…¥åˆ°æ¨¡å‹ä¸­ 12yfit = model.predict(Xfit)yfit array([-2.88096733, -2.39664326, -1.9123192 , -1.42799513, -0.94367106, -0.459347 , 0.02497707, 0.50930113, 0.9936252 , 1.47794926, 1.96227333, 2.44659739, 2.93092146, 3.41524552, 3.89956959, 4.38389366, 4.86821772, 5.35254179, 5.83686585, 6.32118992, 6.80551398, 7.28983805, 7.77416211, 8.25848618, 8.74281024, 9.22713431, 9.71145837, 10.19578244, 10.68010651, 11.16443057, 11.64875464, 12.1330787 , 12.61740277, 13.10172683, 13.5860509 , 14.07037496, 14.55469903, 15.03902309, 15.52334716, 16.00767122, 16.49199529, 16.97631936, 17.46064342, 17.94496749, 18.42929155, 18.91361562, 19.39793968, 19.88226375, 20.36658781, 20.85091188]) æŠŠåŸå§‹æ•°æ®å’Œæ‹Ÿåˆç»“æœéƒ½å¯è§†åŒ–å‡ºæ¥ 12plt.scatter(x, y)plt.plot(xfit, yfit) [&lt;matplotlib.lines.Line2D at 0x117ed9c50&gt;] 12 å‚è€ƒç½‘ç«™http://baijiahao.baidu.com/s?id=1600375182495419726&amp;wfr=spider&amp;for=pc","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"},{"name":"Scikit-Learn","slug":"Scikit-Learn","permalink":"http://yoursite.com/tags/Scikit-Learn/"}],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"Scikit-Learnè¿›é˜¶","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /Scikit-Learnè¿›é˜¶","date":"2019-01-09T00:00:00.000Z","updated":"2019-01-23T08:33:15.214Z","comments":true,"path":"2019/01/09/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /Scikit-Learnè¿›é˜¶/","link":"","permalink":"http://yoursite.com/2019/01/09/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /Scikit-Learnè¿›é˜¶/","excerpt":"","text":"Scikité«˜çº§ç‰¹æ€§scikit-learnè¿˜æä¾›äº†ä¸€ä¸‹å…¶ä»–æ–¹ä¾¿çš„ç‰¹æ€§ã€‚ ç®¡é“ï¼ˆPipelineï¼‰http://scikit-learn.org/stable/modules/pipeline.html ç½‘æ ¼æœç´¢ï¼ˆGrid-searchï¼‰è¶…å‚æ•°åœ¨å‚æ•°ä¼°è®¡ä¸­æ˜¯ä¸ç›´æ¥å­¦ä¹ çš„ï¼Œåœ¨scikit-learnåº“ä¸­ï¼Œè¶…å‚æ•°ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¼°è®¡ç±»çš„æ„é€ å‡½æ•°ï¼Œç„¶ååœ¨è¶…å‚æ•°ç©ºé—´ä¸­æœç´¢æœ€ä½³çš„äº¤å‰éªŒè¯åˆ†æ•°åœ¨æ„å»ºå‚æ•°ä¼°è®¡é‡æ—¶æä¾›çš„ä»»ä½•å‚æ•°éƒ½æ˜¯å¯ä»¥ç”¨è¿™ç§æ–¹å¼è¿›è¡Œä¼˜åŒ–çš„ã€‚ éªŒè¯æ›²çº¿ï¼ˆValidation curvesï¼‰æ¯ç§ä¼°è®¡æ–¹æ³•éƒ½æœ‰å…¶ä¼˜ç¼ºç‚¹ï¼Œå®ƒçš„æ³›åŒ–è¯¯å·®å¯ä»¥ç”¨åå·®ã€æ–¹å·®å’Œå™ªéŸ³æ¥åˆ†è§£ã€‚ä¼°è®¡é‡çš„åå·®å°±æ˜¯ä¸åŒè®­ç»ƒé›†çš„å¹³å‡è¯¯å·®ï¼›ä¼°è®¡é‡çš„æ–¹å·®æ˜¯è¡¨ç¤ºå¯¹ä¸åŒè®­ç»ƒé›†çš„æ•æ„Ÿç¨‹åº¦ï¼›å™ªå£°æ˜¯æ•°æ®æœ¬èº«çš„ä¸€ä¸ªå±æ€§ã€‚ ç»˜åˆ¶å•ä¸ªè¶…å‚æ•°å¯¹è®­ç»ƒåˆ†æ•°å’ŒéªŒè¯åˆ†æ•°çš„å½±å“æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸ºä»å›¾ä¸­å¯ä»¥çœ‹å‡ºä¼°è®¡é‡å¯¹äºæŸäº›è¶…å‚æ•°å€¼æ˜¯è¿‡æ‹Ÿåˆè¿˜æ˜¯æ¬ æ‹Ÿåˆã€‚åœ¨Scikit-learnåº“ä¸­ï¼Œæœ‰ä¸€ä¸ªå†…ç½®æ–¹æ³•æ˜¯å¯ä»¥å®ç°ä»¥ä¸Šè¿‡ç¨‹çš„ã€‚ åˆ†ç±»æ•°æ®çš„ç‹¬çƒ­ç¼–ç ï¼ˆOne-hot encoding of categorical dataï¼‰è¿™æ˜¯ä¸€ç§éå¸¸å¸¸è§çš„æ•°æ®é¢„å¤„ç†æ­¥éª¤ï¼Œåœ¨åˆ†ç±»æˆ–é¢„æµ‹ä»»åŠ¡ä¸­ï¼ˆå¦‚æ··åˆäº†æ•°é‡å‹å’Œæ–‡æœ¬å‹ç‰¹å¾çš„é€»è¾‘å›å½’ï¼‰ï¼Œå¸¸ç”¨äºå¯¹å¤šåˆ†ç±»å˜é‡è¿›è¡ŒäºŒåˆ†ç±»ç¼–ç ã€‚Scikit-learnåº“æä¾›äº†æœ‰æ•ˆè€Œç®€å•çš„æ–¹æ³•æ¥å®ç°è¿™ä¸€ç‚¹ã€‚å®ƒå¯ä»¥ç›´æ¥åœ¨Pandasæ•°æ®æ¡†æˆ–Numpyæ•°ç»„ä¸Šè¿è¡Œï¼Œå› æ­¤ç”¨æˆ·å°±å¯ä»¥ä¸ºè¿™äº›æ•°æ®è½¬æ¢ç¼–å†™ä¸€äº›ç‰¹æ®Šçš„æ˜ å°„å‡½æ•°æˆ–åº”ç”¨å‡½æ•°ã€‚ å¤šé¡¹å¼ç‰¹å¾ç”Ÿæˆï¼ˆPolynomial feature generationï¼‰å¯¹äºæ— æ•°çš„å›å½’å»ºæ¨¡ä»»åŠ¡æ¥è¯´ï¼Œä¸€ç§å¸¸ç”¨çš„å¢åŠ æ¨¡å‹å¤æ‚ç¨‹åº¦çš„æœ‰æ•ˆæ–¹æ³•æ˜¯å¢åŠ è§£é‡Šå˜é‡çš„éçº¿æ€§ç‰¹å¾ã€‚ä¸€ç§ç®€å•è€Œå¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯å¤šé¡¹å¼ç‰¹å¾ï¼Œå› ä¸ºå®ƒå¯ä»¥å¾—åˆ°ç‰¹å¾çš„é«˜é˜¶é¡¹å’Œäº¤å‰é¡¹ã€‚è€ŒScikit-learnåº“ä¸­æœ‰ç°æˆçš„å‡½æ•°ï¼Œå®ƒå¯æ ¹æ®ç»™å®šçš„ç‰¹å¾é›†å’Œç”¨æˆ·é€‰æ‹©çš„æœ€é«˜å¤šé¡¹å¼ç”Ÿæˆæ›´é«˜é˜¶çš„äº¤å‰é¡¹ã€‚ æ•°æ®é›†ç”Ÿæˆå™¨ï¼ˆDataset generatorsï¼‰Scikit-learnåº“åŒ…å«å„ç§éšæœºæ ·æœ¬ç”Ÿæˆå™¨ï¼Œå¯ä»¥æ ¹æ®ä¸åŒå¤§å°å’Œå¤æ‚ç¨‹åº¦æ¥æ„å»ºäººå·¥æ•°æ®é›†ï¼Œä¸”å…·æœ‰åˆ†ç±»ã€èšç±»ã€å›å½’ã€çŸ©é˜µåˆ†è§£å’Œæµå½¢æµ‹è¯•çš„åŠŸèƒ½ã€‚ å‚è€ƒç½‘ç«™http://baijiahao.baidu.com/s?id=1600375182495419726&amp;wfr=spider&amp;for=pc","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"},{"name":"Scikit-Learn","slug":"Scikit-Learn","permalink":"http://yoursite.com/tags/Scikit-Learn/"}],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"Pandasåˆ†ç»„æŠ€æœ¯","slug":"22programming/python/Pandasåˆ†ç»„","date":"2019-01-07T00:00:00.000Z","updated":"2019-01-24T02:52:05.414Z","comments":true,"path":"2019/01/07/22programming/python/Pandasåˆ†ç»„/","link":"","permalink":"http://yoursite.com/2019/01/07/22programming/python/Pandasåˆ†ç»„/","excerpt":"","text":"åˆ†ç»„åœ¨æ•°æ®å¤„ç†ä¸­ï¼Œéœ€è¦å…ˆå°†æ•°æ®è¿›è¡Œæ‹†åˆ†ï¼Œç„¶ååœ¨å…¶å¯¹äºçš„æ¯ä¸ªåˆ†ç»„ä¸­è¿›è¡Œè¿ç®—ã€‚ df.groupby(â€˜keyâ€™)DataFrame çš„ groupby() æ–¹æ³•è¿›è¡Œç»å¤§å¤šæ•°å¸¸è§çš„åˆ†å‰² - åº”ç”¨ - ç»„åˆæ“ä½œã€‚è¿”å›å€¼ä¸æ˜¯ä¸€ä¸ª DataFrame å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ª DataFrameGroupBy å¯¹è±¡ï¼Œå¯ä»¥å°†å®ƒçœ‹æˆæ˜¯ä¸€ç§ç‰¹æ®Šå½¢å¼çš„ DataFrameï¼Œé‡Œé¢éšè—ç€è‹¥å¹²ç»„æ•°æ®ï¼Œä½†æ˜¯åœ¨æ²¡æœ‰åº”ç”¨ç´¯è®¡å‡½æ•°ä¹‹å‰ä¸ä¼šè®¡ç®—ã€‚ sample.groupby(â€˜classâ€™)[â€˜mathâ€™].max() æ‹†åˆ†åˆ—table = pd.DataFrame({â€˜cust_idâ€™:[10001,10001,10002,10002,10003], â€˜typeâ€™:[â€˜Normalâ€™,â€™Special_offerâ€™,\\ â€˜Normalâ€™,â€™Special_offerâ€™,â€™Special_offerâ€™], â€˜Monetaryâ€™:[3608,420,1894,3503,4567]}) cust_id type Monetary 0 10001 Normal 3608 1 10001 Special_offer 420 2 10002 Normal 1894 3 10002 Special_offer 3503 4 10003 Special_offer 4567 pd.pivot_table(table,index=â€™cust_idâ€™,columns=â€™typeâ€™,values=â€™Monetaryâ€™) å°†typeæ‹†åˆ†ä¸ºä¸¤åˆ—ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯pd.pivot_tableå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå¾…æ‹†åˆ†åˆ—çš„è¡¨ï¼Œindexè¡¨ç¤ºåŸæ•°æ®ä¸­çš„æ ‡ç¤ºåˆ—ï¼Œcolumnsè¡¨ç¤ºè¯¥å˜é‡ä¸­çš„å–å€¼å°†ä¼šæˆä¸ºæ–°å˜é‡çš„å˜é‡åï¼Œvaluesè¡¨ç¤ºå¾…æ‹†åˆ†çš„åˆ—ã€‚ type Normal Special_offer cust_id 10001 3608.0 420.0 10002 1894.0 3503.0 10003 NaN 4567.0 å †å åˆ—å †å åˆ—æ˜¯æ‹†åˆ†åˆ—çš„åæ“ä½œï¼Œå½“å­˜åœ¨è¡¨ç¤ºåˆ—ä¸­æœ‰å¤šä¸ªæ•°å€¼å˜é‡çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡å †å åˆ—å°†å¤šåˆ—çš„æ•°æ®å †ç§¯æˆä¸€åˆ—ã€‚ table1 = pd.pivot_table(table,index=&apos;cust_id&apos;, columns=&apos;type&apos;, values=&apos;Monetary&apos;, fill_value=0, aggfunc=np.sum).reset_index() table1 pd.melt(table1, id_vars=&apos;cust_id&apos;, value_vars=[&apos;Normal&apos;,&apos;Special_offer&apos;], value_name=&apos;Monetary&apos;, var_name=&apos;TYPE&apos;) table1ä»£è¡¨å¾…å †å åˆ—çš„åˆ—åï¼Œid_varsä»£è¡¨æ ‡ç¤ºå˜é‡ï¼Œvalue_varsä»£è¡¨å¾…å †å çš„å˜é‡ï¼Œvalue_nameä¸ºå †å åå€¼å˜é‡åˆ—çš„åç§°ï¼Œvar_nameä¸ºå †å åå †å å˜é‡çš„åç§° å‚è€ƒç½‘ç«™","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Pandasçš„æ•°æ®åˆå¹¶","slug":"22programming/python/Pandasçš„æ•°æ®åˆå¹¶","date":"2019-01-07T00:00:00.000Z","updated":"2019-01-24T02:53:57.686Z","comments":true,"path":"2019/01/07/22programming/python/Pandasçš„æ•°æ®åˆå¹¶/","link":"","permalink":"http://yoursite.com/2019/01/07/22programming/python/Pandasçš„æ•°æ®åˆå¹¶/","excerpt":"","text":"ç®€ä»‹åœ¨æ•°æ®å¤„ç†ä¸­ï¼Œä¸å…ä¼šé‡åˆ°æ•°æ®ä¹‹é—´çš„åˆå¹¶ã€‚å¦‚å°†å‡ ä¸ªè¡¨çš„æ•°æ®åˆæˆä¸ºä¸€ä¸ªï¼Œæˆ–è€…åƒSQLè¯­å¥çš„å…³è”æŸ¥è¯¢ã€‚ æ–¹æ³•æ¨ªå‘è¿æ¥Pandasæ•°æ®æ¡†æä¾›äº†mergeæ–¹æ³•ä»¥å®Œæˆå„ç§è¡¨çš„æ¨ªå‘è¿æ¥æ“ä½œï¼Œè¿™ç§è¿æ¥æ“ä½œä¸SQLè¯­å¥çš„è¿æ¥æ“ä½œæ˜¯ç±»ä¼¼çš„ï¼ŒåŒ…æ‹¬å†…è¿æ¥ã€å¤–è¿æ¥ã€‚æ­¤å¤–ï¼ŒPandasä¹Ÿæä¾›äº†æŒ‰ç…§è¡Œç´¢å¼•è¿›è¡Œæ¨ªå‘è¿æ¥çš„æ–¹æ³•ã€‚ å†…è¿æ¥å†…è¿æ¥ä½¿ç”¨mergeå‡½æ•°ç¤ºä¾‹ï¼Œæ ¹æ®å…¬å…±å­—æ®µä¿ç•™ä¸¤è¡¨å…±æœ‰çš„ä¿¡æ¯ï¼Œhow=â€™innerâ€™å‚æ•°è¡¨ç¤ºä½¿ç”¨å†…è¿æ¥ï¼Œonè¡¨ç¤ºä¸¤è¡¨è¿æ¥çš„å…¬å…±å­—æ®µï¼Œè‹¥å…¬å…±å­—æ®µåœ¨ä¸¤è¡¨åç§°ä¸ä¸€è‡´æ—¶ï¼Œå¯ä»¥é€šè¿‡left_onå’Œright_onæŒ‡å®š å¤–è¿æ¥å¤–è¿æ¥ï¼ˆouter joinï¼‰åŒ…æ‹¬å·¦è¿æ¥ï¼ˆleft joinï¼‰ã€å³è¿æ¥ï¼ˆright joinï¼‰å’Œå…¨è¿æ¥ï¼ˆfull joinï¼‰ä¸‰ç§è¿æ¥ã€‚ å·¦è¿æ¥é€šè¿‡å…¬å…±å­—æ®µï¼Œä¿ç•™å·¦è¡¨çš„å…¨éƒ¨ä¿¡æ¯ï¼Œå³è¡¨åœ¨å·¦è¡¨ç¼ºå¤±çš„ä¿¡æ¯ä¼šä»¥NaNè¡¥å…¨df1.merge(df2,how=&#39;left&#39;,on=&#39;id&#39;) å³è¿æ¥å’Œå·¦è¿æ¥ç›¸å¯¹ï¼Œå³è¿æ¥é€šè¿‡å…¬å…±å­—æ®µï¼Œä¿ç•™å³è¡¨çš„å…¨éƒ¨ä¿¡æ¯ï¼Œå·¦è¡¨åœ¨å³è¡¨ç¼ºå¤±çš„ä¿¡æ¯ä¼šä»¥NaNè¡¥å…¨df1.merge(df2,how=â€™rightâ€™,on=â€™idâ€™) å…¨è¿æ¥é€šè¿‡å…¬å…±å­—æ®µï¼Œä¿ç•™ä¸¤è¡¨çš„å…¨éƒ¨ä¿¡æ¯ï¼Œä¸¤è¡¨äº’ç›¸ç¼ºå¤±çš„ä¿¡æ¯ä¼šä»¥NaNè¡¥å…¨ df1.merge(df2,how=â€™outerâ€™,on=â€™idâ€™) è¡Œç´¢å¼•è¿æ¥pd.concat([df1,df2],axis=1) çºµå‘åˆå¹¶æ•°æ®çš„çºµå‘åˆå¹¶æŒ‡å°†ä¸¤å¼ æˆ–å¤šå¼ è¡¨çºµå‘æ‹¼æ¥èµ·æ¥ï¼Œä½¿å¾—åŸå…ˆä¸¤å¼ æˆ–å¤šå¼ è¡¨çš„æ•°æ®æ•´åˆåˆ°ä¸€å¼ è¡¨ä¸Šã€‚ Pandasä¸­æä¾›pd.concatæ–¹æ³•ç”¨äºå®Œæˆæ¨ªå‘å’Œçºµå‘åˆå¹¶ï¼Œå½“å‚æ•°axis=0æ—¶ï¼Œç±»ä¼¼äºSQLä¸­çš„UNION ALLæ“ä½œã€‚ignore_index=Trueè¡¨ç¤ºå¿½ç•¥df1ä¸df2çš„åŸå…ˆçš„è¡Œç´¢å¼•ï¼Œåˆå¹¶å¹¶é‡æ–°æ’åˆ—ç´¢å¼•ã€‚ pd.concat([df1,df2],ignore_index=True,axis=0) å‚è€ƒç½‘ç«™","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Pandaså­¦ä¹ ","slug":"22programming/python/Pandaså­¦ä¹ ","date":"2019-01-07T00:00:00.000Z","updated":"2019-01-24T02:52:17.212Z","comments":true,"path":"2019/01/07/22programming/python/Pandaså­¦ä¹ /","link":"","permalink":"http://yoursite.com/2019/01/07/22programming/python/Pandaså­¦ä¹ /","excerpt":"","text":"ç®€ä»‹Pandasæ˜¯åœ¨NumPy åŸºç¡€ä¸Šå»ºç«‹çš„æ–°ç¨‹åºåº“ï¼Œæä¾›äº†ä¸€ç§é«˜æ•ˆçš„DataFrame æ•°æ®ç»“æ„ã€‚DataFrame æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¸¦è¡Œæ ‡ç­¾å’Œåˆ—æ ‡ç­¾ã€æ”¯æŒç›¸åŒç±»å‹æ•°æ®å’Œç¼ºå¤±å€¼çš„å¤šç»´æ•°ç»„ã€‚pandasçš„æ•°æ®ç»“æ„ä¸»è¦åˆ†æˆä¸‰ç§ï¼šSeriesï¼ˆä¸€ç»´æ•°ç»„ï¼‰,DataFrame(äºŒç»´æ•°ç»„)ï¼Œå’ŒPanelï¼ˆä¸‰ç»´æ•°ç»„ï¼‰ å¼€å§‹ import numpy as np import pandas as pd pd.version åˆ›å»ºSeriesæ™®é€šNumPy æ•°ç»„é€šè¿‡éšå¼å®šä¹‰çš„æ•´æ•°ç´¢å¼•è·å–æ•°å€¼ï¼Œè€ŒPandasçš„Serieså¯¹è±¡ç”¨ä¸€ç§æ˜¾å¼å®šä¹‰çš„ç´¢å¼•ä¸æ•°å€¼å…³è”ã€‚ data = pd.Series([0.25, 0.5, 0.75, 1.0], index=[â€˜aâ€™, â€˜bâ€™, â€˜câ€™, â€˜dâ€™]) äº§ç”Ÿçš„æ•°æ®å¦‚ä¸‹ï¼š a 0.25 b 0.50 c 0.75 d 1.00 å¦‚æœä¸æŒ‡å®šindexï¼Œä¼šè‡ªåŠ¨åŠ å…¥0-nçš„æ•´æ•°ç´¢å¼•ã€‚ æ ¹æ®å­—å…¸æ¥è¿›è¡Œåˆ›å»ºpopulation_dict = {â€˜Californiaâ€™: 38332521, â€˜Texasâ€™: 26448193, â€˜New Yorkâ€™: 19651127, â€˜Floridaâ€™: 19552860, â€˜Illinoisâ€™: 12882135} population = pd.Series(population_dict) ç»“æœï¼š California 38332521 Texas 26448193 New York 19651127 Florida 19552860 Illinois 12882135 dtype: int64 å’Œå­—å…¸ä¸åŒï¼ŒSeries å¯¹è±¡è¿˜æ”¯æŒæ•°ç»„å½¢å¼çš„æ“ä½œï¼Œæ¯”å¦‚åˆ‡ç‰‡ã€‚ DataFrameé€šè¿‡Series å¯¹è±¡åˆ›å»ºDataFrameå¯ä»¥ç†è§£ä¸ºSeriesçš„å®¹å™¨ï¼Œå¤šä¸ªSerieså…±ç”¨ä¸€ä¸ªç´¢å¼•ã€‚ states=pd.DataFrame(population, columns=[â€˜populationâ€™]) states = pd.DataFrame({â€˜populationâ€™: population,â€˜areaâ€™: area}) é€šè¿‡æ•°æ®å­—å…¸æ¥è¿›è¡Œåˆ›å»ºd = {â€˜oneâ€™ : pd.Series([1., 2., 3.], index=[â€˜aâ€™, â€˜bâ€™, â€˜câ€™]),â€™twoâ€™ : pd.Series([1., 2., 3., 4.], index=[â€˜aâ€™, â€˜bâ€™, â€˜câ€™, â€˜dâ€™])}df = pd.DataFrame(d)df æœ€å¤–è¾¹çš„å­—å…¸å¯¹åº”åˆ— one two a 1.0 1.0 b 2.0 2.0 c 3.0 3.0 d NaN 4.0 é€šè¿‡NumPyäºŒç»´æ•°ç»„åˆ›å»ºimport numpy as npsample = pd.DataFrame(np.random.randn(4, 5), columns=[â€˜aâ€™,â€™bâ€™,â€™câ€™,â€™dâ€™,â€™eâ€™])sample a b c d e 0 -1.058367 -0.801376 -0.647295 -0.819267 0.024554 1 0.621486 1.598847 -1.604502 0.552664 -0.430284 2 -0.131764 0.234944 -0.390586 -0.653918 0.755551 3 -1.905653 0.484355 0.203149 -1.740032 1.652118 æ ¹æ®å·²æœ‰çš„åˆ—åˆ›å»ºæ–°åˆ—a=pd.read_csv(&apos;closeprice.csv&apos;,encoding=&apos;gbk&apos;) b={1:&apos;é“¶è¡Œ&apos;,2:&apos;æˆ¿åœ°äº§&apos;,4:&apos;åŒ»è¯ç”Ÿç‰©&apos;,5:&apos;æˆ¿åœ°äº§&apos;,6:&apos;é‡‡æ˜&apos;,7:&apos;ä¼‘é—²æœåŠ¡&apos;,8:&apos;æœºæ¢°è®¾å¤‡&apos;} a[&apos;ind&apos;]=a.ticker.map(b) a #å…¶ä»–æ“ä½œ æ•°æ®è¯»å–sample=pd.read_csv(&apos;closeprice.csv&apos;,encoding=&apos;gbk&apos;,dtype={&apos;ticker&apos;: str}) sample åˆ‡ç‰‡å’Œç­›é€‰DataFrameæœ‰ä¸‰ç§åˆ‡ç‰‡æ–¹æ³•ï¼Œåˆ†åˆ«ä¸ºloc,ilocå’Œixã€‚ ilocæ–¹æ³•åªèƒ½ä½¿ç”¨æ•°å€¼ä½œä¸ºç´¢å¼•é€‰æ‹©è¡Œã€åˆ—ï¼Œlocæ–¹æ³•åœ¨é€‰æ‹©åˆ—æ—¶åªèƒ½ä½¿ç”¨å­—ç¬¦ç´¢å¼•ï¼Œixæ–¹æ³•åˆ™å¯ä»¥ä½¿ç”¨ä¸¤ç§ç´¢å¼•ã€‚ df.locç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡Œæ ‡ç­¾ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºåˆ—æ ‡ç­¾ã€‚:,è¡¨ç¤ºæ‰€æœ‰è¡Œã€‚ sample.loc[:,[&apos;ticker&apos;,&apos;closePrice&apos;]] ixå·²ç»è¿‡æœŸï¼Œå¦‚éœ€è¦ä½¿ç”¨ sample.loc[sample.index[[0, 1, 2]], [â€˜tickerâ€™,â€™closePriceâ€™]] ixæˆ–locé€‰æ‹©æ—¶ï¼Œè¡Œç´¢å¼•æ˜¯å‰åéƒ½åŒ…æ‹¬çš„ï¼Œè€Œilocä¸ºå‰åŒ…åä¸åŒ…ã€‚ æŸ¥è¯¢a[(a.closePrice&gt;10) &amp; (a.secShortName==â€™ä¸‡ç§‘Aâ€™)] ä½¿ç”¨queryPandasæ•°æ®æ¡†æä¾›äº†æ–¹æ³•queryï¼Œå¯ä»¥å®ŒæˆæŒ‡å®šçš„æ¡ä»¶æŸ¥è¯¢ a.query(â€˜closePrice&gt;20â€™) å…¶ä»–a[a[â€˜closePriceâ€™].between(0,9.12,inclusive=False)] ä¸å¸Œæœ›è¾¹ç•ŒåŒ…å«åœ¨å†…å¯ä»¥å°†inclusiveå‚æ•°è®¾å®šä¸ºFalse ä½¿ç”¨isinæ–¹æ³•è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿›è¡Œå­—ç¬¦åŒ¹é… a[a[&#39;secShortName&#39;].isin([&#39;ä¸–çºªæ˜Ÿæº&#39;,&#39;ä¸‡ç§‘A&#39;])] è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…è¿›è¡ŒæŸ¥è¯¢ï¼Œå¯ä½¿ç”¨str.contains a[a[â€˜secShortNameâ€™].str.contains(â€˜[ä¸‡]+â€™)] æ’åº sample.sort_values(â€˜scoreâ€™,ascending=False,na_position=â€™lastâ€™) ascending=Falseä»£è¡¨é™åºæ’åˆ—ï¼Œè®¾å®šä¸ºTrueæ—¶è¡¨ç¤ºå‡åºæ’åˆ—ï¼ˆé»˜è®¤ï¼‰ï¼›na_position=â€™lastâ€™è¡¨ç¤ºç¼ºå¤±å€¼æ•°æ®æ’åˆ—åœ¨æ•°æ®çš„æœ€åä½ç½®ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œè®¾å®šä¸ºâ€™firstâ€™è¡¨ç¤ºç¼ºå¤±å€¼æ’åˆ—åœ¨æ•°æ®çš„æœ€å‰é¢ é‡å¤è¡Œå¤„ç†Pandasæä¾›æŸ¥çœ‹ã€å¤„ç†é‡å¤æ•°æ®çš„æ–¹æ³•duplicatedå’Œdrop_duplicates data = pd.DataFrame({&apos;k1&apos;: [&apos;one&apos;] * 3 + [&apos;two&apos;] * 4, &apos;k2&apos;: [3, 2, 1, 3, 3, 4, 4]}) data[data.duplicated()] data.drop_duplicates() data.drop_duplicates(subset=[&apos;k1&apos;],keep=&apos;last&apos;) åˆ é™¤åˆ—a.drop(&apos;Unnamed: 0&apos;, axis=&apos;columns&apos;) æˆ–è€… a.drop(â€˜Unnamed: 0â€™, axis=1) é‡å‘½ååˆ—åa.rename(columns={&apos;Unnamed: 0&apos;:&apos;id&apos;}) æ›¿æ¢åœ¨ä¸€äº›ç‰¹å®šåœºåˆä¸‹ï¼Œå¦‚é”™è¯¯å€¼å¤„ç†ã€å¼‚å¸¸å€¼å¤„ç†ï¼Œå¯èƒ½ä¼šå¯¹åŸæ•°æ®çš„æŸäº›å€¼è¿›è¡Œä¿®æ”¹ï¼Œæ­¤æ—¶ä¼šæ¶‰åŠç±»ä¼¼SQLçš„insertæˆ–updateæ“ä½œã€‚ å•ä¸ªæ›¿æ¢ a.replace(1,np.nan) é‡åˆ°ä¸€æ¬¡æ›¿æ¢å¤šä¸ªå€¼æ—¶ï¼Œä½¿ç”¨å­—å…¸å½¢å¼ï¼Œ `sample.replace({&apos;score&apos;:{999:np.nan}, &apos;name&apos;:{&apos;Bob&apos;:np.nan}})` scoreåˆ—æ‰€æœ‰å–å€¼ä¸º999çš„å€¼æ›¿æ¢ä¸ºNaNï¼Œnameåˆ—ä¸­å–å€¼ä¸ºâ€™Bobâ€™æ›¿æ¢ä¸ºNaN å‚è€ƒç½‘ç«™https://www.cnblogs.com/prpl/p/5537417.htmlhttps://apachecn.github.io/pandas-doc-zh/io.html#io-read-csv-table NumPyæ•™ç¨‹ å‚è€ƒæ‰‹å†Œ NumPyæ•™ç¨‹","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Pandasç¼ºå¤±å€¼/å¼‚å¸¸å€¼å¤„ç†","slug":"22programming/python/Pandasç¼ºå¤±å€¼å¤„ç†","date":"2019-01-01T00:00:00.000Z","updated":"2019-01-03T03:04:26.037Z","comments":true,"path":"2019/01/01/22programming/python/Pandasç¼ºå¤±å€¼å¤„ç†/","link":"","permalink":"http://yoursite.com/2019/01/01/22programming/python/Pandasç¼ºå¤±å€¼å¤„ç†/","excerpt":"","text":"ç¼ºå¤±å€¼å¤„ç†sample = pd.DataFrame({&apos;name&apos;:[&apos;Bob&apos;,&apos;Lindy&apos;,&apos;Mark&apos;, &apos;Miki&apos;,&apos;Sully&apos;,&apos;Rose&apos;], &apos;score&apos;:[99,78,999,77,77,np.nan], &apos;group&apos;:[1,1,1,2,1,2],}) æŸ¥çœ‹ç¼ºå¤±æƒ…å†µåœ¨è¿›è¡Œæ•°æ®åˆ†æå‰ï¼Œä¸€èˆ¬éœ€è¦äº†è§£æ•°æ®çš„ç¼ºå¤±æƒ…å†µï¼Œåœ¨Pythonä¸­å¯ä»¥æ„é€ ä¸€ä¸ªlambdaå‡½æ•°æ¥æŸ¥çœ‹ç¼ºå¤±å€¼ã€‚ sample.apply(lambda col:sum(col.isnull())/col.size) ä»¥æŒ‡å®šå€¼å¡«è¡¥Pandasæ•°æ®æ¡†æä¾›äº†fillnaæ–¹æ³•å®Œæˆå¯¹ç¼ºå¤±å€¼çš„å¡«è¡¥ï¼Œä¾‹å¦‚å¯¹sampleè¡¨çš„åˆ—scoreå¡«è¡¥ç¼ºå¤±å€¼ï¼Œå¡«è¡¥æ–¹æ³•ä¸ºå‡å€¼ã€‚ sample.score.fillna(sample.score.mean()) ç¼ºå¤±å€¼æŒ‡ç¤ºå˜é‡æ¯ä¸ªæœ‰ç¼ºå¤±å€¼çš„å˜é‡å¯ä»¥ç”Ÿæˆä¸€ä¸ªæŒ‡ç¤ºå“‘å˜é‡ï¼Œå‚ä¸åç»­çš„å»ºæ¨¡ã€‚sample.score.isnull().apply(int) ç¦»æ•£åŒ–å’Œåˆ†ç®±è¿ç»­å€¼ç»å¸¸éœ€è¦ç¦»æ•£åŒ–ï¼Œå‡è®¾ä½ æœ‰æŸé¡¹ç ”ç©¶ä¸­ä¸€ç»„äººç¾¤çš„æ•°æ®ï¼Œä½ æƒ³å°†ä»–ä»¬è¿›è¡Œåˆ†ç»„ï¼Œæ”¾å…¥ç¦»æ•£çš„å¹´é¾„æ¡†ä¸­ã€‚æˆ‘ä»¬å°†è¿™äº›å¹´é¾„åˆ†ä¸º18ï½25ã€26ï½35ã€36ï½60ä»¥åŠ61åŠä»¥ä¸Šç­‰è‹¥å¹²ç»„ã€‚ ages = [20, 22, 25, 27, 21, 23, 37, 31, 61, 45, 41, 32] bins = [18, 25, 35, 60, 100] cats = pd.cut(ages, bins) cutè¿”å›çš„å¯¹è±¡æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„Categoricalå¯¹è±¡ã€‚ä½¿ç”¨cats.codeså’Œcats.categorieså¯ä»¥åˆ†åˆ«æŸ¥çœ‹æ‰€å±åˆ†ç®±çš„ç¼–å·å’Œåˆ†ç®±ã€‚ cats.codes array([0, 0, 0, 1, 0, 0, 2, 1, 3, 2, 2, 1], dtype=int8) cats.categories IntervalIndex([(18, 25], (25, 35], (35, 60], (60, 100]] closed=&apos;right&apos;, dtype=&apos;interval[int64]&apos;) å¹³å‡è¿›è¡Œåˆ†ç®±ï¼Œpandaså°†æ ¹æ®æ•°æ®ä¸­çš„æœ€å°å€¼å’Œæœ€å¤§å€¼è®¡ç®—å‡ºç­‰é•¿çš„ç®± ä¾‹å¦‚æ•°æ®è¢«åˆ‡æˆå››ä»½ï¼Œä»£ç å¦‚ä¸‹ï¼š pd.cut(data, 4, precision=2) åŸºäºæ ·æœ¬åˆ†ä½æ•°è¿›è¡Œåˆ†ç®± cats = pd.qcut(data, 4) # åˆ‡æˆå››ä»½ pd.qcut(data, [0, 0.1, 0.5, 0.9, 1.]) #è‡ªå®šä¹‰åˆ†ä½æ•° å¼‚å¸¸å€¼å¤„ç†å™ªå£°å€¼æ˜¯æŒ‡æ•°æ®ä¸­æœ‰ä¸€ä¸ªæˆ–å‡ ä¸ªæ•°å€¼ä¸å…¶ä»–æ•°å€¼ç›¸æ¯”å·®å¼‚è¾ƒå¤§çš„å€¼ï¼Œåˆç§°ä¸ºå¼‚å¸¸å€¼ã€ç¦»ç¾¤å€¼ï¼ˆoutlierï¼‰ã€‚å¯¹äºå¤§éƒ¨åˆ†çš„æ¨¡å‹è€Œè¨€ï¼Œå™ªå£°å€¼ä¼šä¸¥é‡å¹²æ‰°æ¨¡å‹çš„ç»“æœï¼Œå¹¶ä¸”ä½¿ç»“è®ºä¸çœŸå®æˆ–åé¢‡ï¼Œéœ€è¦åœ¨æ•°æ®é¢„å¤„ç†çš„æ—¶å€™æ¸…é™¤æ‰€æœ‰å™ªå£°å€¼ã€‚å™ªå£°å€¼çš„å¤„ç†æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå¯¹äºå•å˜é‡ï¼Œå¸¸è§çš„æ–¹æ³•æœ‰ç›–å¸½æ³•ã€åˆ†ç®±æ³•ï¼›å¤šå˜é‡çš„å¤„ç†æ–¹æ³•ä¸ºèšç±»æ³•ã€‚ å‚è€ƒç½‘ç«™","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ä»£ä»·å‡½æ•°å’ŒæŸå¤±å‡½æ•°","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /ä»£ä»·å‡½æ•°å’ŒæŸå¤±å‡½æ•°","date":"2018-12-05T00:00:00.000Z","updated":"2019-01-24T14:22:04.659Z","comments":true,"path":"2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /ä»£ä»·å‡½æ•°å’ŒæŸå¤±å‡½æ•°/","link":"","permalink":"http://yoursite.com/2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /ä»£ä»·å‡½æ•°å’ŒæŸå¤±å‡½æ•°/","excerpt":"","text":"æ¦‚å¿µåŸºæœ¬æ¦‚å¿µï¼š æŸå¤±å‡½æ•°ï¼šè®¡ç®—çš„æ˜¯ä¸€ä¸ªæ ·æœ¬çš„è¯¯å·® ä»£ä»·å‡½æ•°ï¼šæ˜¯æ•´ä¸ªè®­ç»ƒé›†ä¸Šæ‰€æœ‰æ ·æœ¬è¯¯å·®çš„å¹³å‡ ç›®æ ‡å‡½æ•°ï¼šä»£ä»·å‡½æ•° + æ­£åˆ™åŒ–é¡¹ https://blog.csdn.net/qq_28448117/article/details/79199835","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"çº¿æ€§å›å½’","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /çº¿æ€§å›å½’","date":"2018-12-05T00:00:00.000Z","updated":"2019-01-21T09:25:12.655Z","comments":true,"path":"2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /çº¿æ€§å›å½’/","link":"","permalink":"http://yoursite.com/2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /çº¿æ€§å›å½’/","excerpt":"","text":"çº¿æ€§å›å½’æœ¬ç« ä»‹ç»ç”¨çº¿æ€§æ¨¡å‹å¤„ç†å›å½’é—®é¢˜ã€‚ä»ç®€å•é—®é¢˜å¼€å§‹ï¼Œå…ˆå¤„ç†ä¸€ä¸ªå“åº”å˜é‡å’Œä¸€ä¸ªè§£é‡Šå˜é‡çš„ä¸€å…ƒé—®é¢˜ã€‚ç„¶åï¼Œæˆ‘ä»¬ä»‹ç»å¤šå…ƒçº¿æ€§å›å½’é—®é¢˜ï¼ˆmultiple linear regressionï¼‰ï¼Œçº¿æ€§çº¦æŸç”±å¤šä¸ªè§£é‡Šå˜é‡æ„æˆã€‚ç´§æ¥ç€ï¼Œæˆ‘ä»¬ä»‹ç»å¤šé¡¹å¼å›å½’åˆ†æï¼ˆpolynomial regressioné—®é¢˜ï¼‰ï¼Œä¸€ç§å…·æœ‰éçº¿æ€§å…³ç³»çš„å¤šå…ƒçº¿æ€§å›å½’é—®é¢˜ã€‚æœ€åï¼Œæˆ‘ä»¬ä»‹ç»å¦‚æœè®­ç»ƒæ¨¡å‹è·å–ç›®æ ‡å‡½æ•°æœ€å°åŒ–çš„å‚æ•°å€¼ã€‚åœ¨ç ”ç©¶ä¸€ä¸ªå¤§æ•°æ®é›†é—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä»ä¸€ä¸ªå°é—®é¢˜å¼€å§‹å­¦ä¹ å»ºç«‹æ¨¡å‹å’Œå­¦ä¹ ç®—æ³•ã€‚ ä¸€å…ƒçº¿æ€§å›å½’ä¸Šä¸€ç« æˆ‘ä»¬ä»‹ç»è¿‡åœ¨ç›‘ç£å­¦ä¹ é—®é¢˜ä¸­ç”¨è®­ç»ƒæ•°æ®æ¥ä¼°è®¡æ¨¡å‹å‚æ•°ã€‚è®­ç»ƒæ•°æ®ç”±è§£é‡Šå˜é‡çš„å†å²è§‚æµ‹å€¼å’Œå¯¹åº”çš„å“åº”å˜é‡æ„æˆã€‚æ¨¡å‹å¯ä»¥é¢„æµ‹ä¸åœ¨è®­ç»ƒæ•°æ®ä¸­çš„è§£é‡Šå˜é‡å¯¹åº”çš„å“åº”å˜é‡çš„å€¼ã€‚å›å½’é—®é¢˜çš„ç›®æ ‡æ˜¯é¢„æµ‹å‡ºå“åº”å˜é‡çš„è¿ç»­å€¼ã€‚æœ¬ç« æˆ‘ä»¬å°†å­¦ä¹ ä¸€äº›çº¿æ€§å›å½’æ¨¡å‹ï¼Œåé¢ä¼šä»‹ç»è®­ç»ƒæ•°æ®ï¼Œå»ºæ¨¡å’Œå­¦ä¹ ç®—æ³•ï¼Œä»¥åŠå¯¹æ¯ä¸ªæ–¹æ³•çš„æ•ˆæœè¯„ä¼°ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»ç®€å•çš„ä¸€å…ƒçº¿æ€§å›å½’é—®é¢˜å¼€å§‹ã€‚ å‡è®¾ä½ æƒ³è®¡ç®—åŒ¹è¨çš„ä»·æ ¼ã€‚è™½ç„¶çœ‹çœ‹èœå•å°±çŸ¥é“äº†ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥ç”¨æœºå™¨å­¦ä¹ æ–¹æ³•å»ºä¸€ä¸ªçº¿æ€§å›å½’æ¨¡å‹ï¼Œé€šè¿‡åˆ†æåŒ¹è¨çš„ç›´å¾„ä¸ä»·æ ¼çš„æ•°æ®çš„çº¿æ€§å…³ç³»ï¼Œæ¥é¢„æµ‹ä»»æ„ç›´å¾„åŒ¹è¨çš„ä»·æ ¼ã€‚æˆ‘ä»¬å…ˆç”¨scikit-learnå†™å‡ºå›å½’æ¨¡å‹ï¼Œç„¶åæˆ‘ä»¬ä»‹ç»æ¨¡å‹çš„ç”¨æ³•ï¼Œä»¥åŠå°†æ¨¡å‹åº”ç”¨åˆ°å…·ä½“é—®é¢˜ä¸­ã€‚å‡è®¾æˆ‘ä»¬æŸ¥åˆ°äº†éƒ¨åˆ†åŒ¹è¨çš„ç›´å¾„ä¸ä»·æ ¼çš„æ•°æ®ï¼Œè¿™å°±æ„æˆäº†è®­ç»ƒæ•°æ®ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š è®­ç»ƒæ ·æœ¬ ç›´å¾„ï¼ˆè‹±å¯¸ï¼‰ ä»·æ ¼ï¼ˆç¾å…ƒï¼‰ 1 6 7 2 8 9 3 10 13 4 14 17.5 5 18 18 æˆ‘ä»¬å¯ä»¥ç”¨matplotlibç”»å‡ºå›¾å½¢ï¼š 1234%matplotlib inlineimport matplotlib.pyplot as pltfrom matplotlib.font_manager import FontPropertiesfont = FontProperties(fname=r\"/soft/font/weuruan/msyh.ttf\", size=10) 1234567891011121314def runplt(): plt.figure() plt.title('åŒ¹è¨ä»·æ ¼ä¸ç›´å¾„æ•°æ®',fontproperties=font) plt.xlabel('ç›´å¾„ï¼ˆè‹±å¯¸ï¼‰',fontproperties=font) plt.ylabel('ä»·æ ¼ï¼ˆç¾å…ƒï¼‰',fontproperties=font) plt.axis([0, 25, 0, 25]) plt.grid(True) return pltplt = runplt()X = [[6], [8], [10], [14], [18]]y = [[7], [9], [13], [17.5], [18]]plt.plot(X, y, 'k.')plt.show() ä¸Šå›¾ä¸­ï¼Œâ€™xâ€™è½´è¡¨ç¤ºåŒ¹è¨ç›´å¾„ï¼Œâ€™yâ€™è½´è¡¨ç¤ºåŒ¹è¨ä»·æ ¼ã€‚èƒ½å¤Ÿçœ‹å‡ºï¼ŒåŒ¹è¨ä»·æ ¼ä¸å…¶ç›´å¾„æ­£ç›¸å…³ï¼Œè¿™ä¸æˆ‘ä»¬çš„æ—¥å¸¸ç»éªŒä¹Ÿæ¯”è¾ƒå»åˆï¼Œè‡ªç„¶æ˜¯è¶Šå¤§è¶Šè´µã€‚ä¸‹é¢æˆ‘ä»¬å°±ç”¨scikit-learnæ¥æ„å»ºæ¨¡å‹ã€‚ 1234from sklearn.linear_model import LinearRegression# åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹model = LinearRegression()model.fit(X, y) LinearRegression(copy_X=True, fit_intercept=True, n_jobs=None, normalize=False) ä¸€å…ƒçº¿æ€§å›å½’å‡è®¾è§£é‡Šå˜é‡å’Œå“åº”å˜é‡ä¹‹é—´å­˜åœ¨çº¿æ€§å…³ç³»ï¼›è¿™ä¸ªçº¿æ€§æ¨¡å‹æ‰€æ„æˆçš„ç©ºé—´æ˜¯ä¸€ä¸ªè¶…å¹³é¢ï¼ˆhyperplaneï¼‰ã€‚è¶…å¹³é¢æ˜¯nç»´æ¬§æ°ç©ºé—´ä¸­ä½™ç»´åº¦ç­‰äºä¸€çš„çº¿æ€§å­ç©ºé—´ï¼Œå¦‚å¹³é¢ä¸­çš„ç›´çº¿ã€ç©ºé—´ä¸­çš„å¹³é¢ç­‰ï¼Œæ€»æ¯”åŒ…å«å®ƒçš„ç©ºé—´å°‘ä¸€ç»´ã€‚åœ¨ä¸€å…ƒçº¿æ€§å›å½’ä¸­ï¼Œä¸€ä¸ªç»´åº¦æ˜¯å“åº”å˜é‡ï¼Œå¦ä¸€ä¸ªç»´åº¦æ˜¯è§£é‡Šå˜é‡ï¼Œæ€»å…±ä¸¤ç»´ã€‚å› æ­¤ï¼Œå…¶è¶…å¹³é¢åªæœ‰ä¸€ç»´ï¼Œå°±æ˜¯ä¸€æ¡çº¿ã€‚ ä¸Šè¿°ä»£ç ä¸­sklearn.linear_model.LinearRegressionç±»æ˜¯ä¸€ä¸ªä¼°è®¡å™¨ï¼ˆestimatorï¼‰ã€‚ä¼°è®¡å™¨ä¾æ®è§‚æµ‹å€¼æ¥é¢„æµ‹ç»“æœã€‚åœ¨scikit-learné‡Œé¢ï¼Œæ‰€æœ‰çš„ä¼°è®¡å™¨éƒ½å¸¦æœ‰fit()å’Œpredict()æ–¹æ³•ã€‚fit()ç”¨æ¥åˆ†ææ¨¡å‹å‚æ•°ï¼Œpredict()æ˜¯é€šè¿‡fit()ç®—å‡ºçš„æ¨¡å‹å‚æ•°æ„æˆçš„æ¨¡å‹ï¼Œå¯¹è§£é‡Šå˜é‡è¿›è¡Œé¢„æµ‹è·å¾—çš„å€¼ã€‚å› ä¸ºæ‰€æœ‰çš„ä¼°è®¡å™¨éƒ½æœ‰è¿™ä¸¤ç§æ–¹æ³•ï¼Œæ‰€æœ‰scikit-learnå¾ˆå®¹æ˜“å®éªŒä¸åŒçš„æ¨¡å‹ã€‚ LinearRegressionç±»çš„fit()æ–¹æ³•å­¦ä¹ ä¸‹é¢çš„ä¸€å…ƒçº¿æ€§å›å½’æ¨¡å‹ï¼š $$y=\\alpha+\\beta x$$ $y$è¡¨ç¤ºå“åº”å˜é‡çš„é¢„æµ‹å€¼ï¼Œæœ¬ä¾‹æŒ‡åŒ¹è¨ä»·æ ¼é¢„æµ‹å€¼ï¼Œ$x$æ˜¯è§£é‡Šå˜é‡ï¼Œæœ¬ä¾‹æŒ‡åŒ¹è¨ç›´å¾„ã€‚æˆªè·$\\alpha$å’Œç›¸å…³ç³»æ•°$\\beta$æ˜¯çº¿æ€§å›å½’æ¨¡å‹æœ€å…³å¿ƒçš„äº‹æƒ…ã€‚ä¸‹å›¾ä¸­çš„ç›´çº¿å°±æ˜¯åŒ¹è¨ç›´å¾„ä¸ä»·æ ¼çš„çº¿æ€§å…³ç³»ã€‚ç”¨è¿™ä¸ªæ¨¡å‹ï¼Œä½ å¯ä»¥è®¡ç®—ä¸åŒç›´å¾„çš„ä»·æ ¼ï¼Œ8è‹±å¯¸\\$7.33ï¼Œ20è‹±å¯¸\\$18.75ã€‚ å¸¦æˆæœ¬å‡½æ•°çš„æ¨¡å‹æ‹Ÿåˆè¯„ä¼°1ä¸‹å›¾æ˜¯ç”±è‹¥å¹²å‚æ•°ç”Ÿæˆçš„å›å½’ç›´çº¿ã€‚å¦‚ä½•åˆ¤æ–­å“ªä¸€æ¡ç›´çº¿æ‰æ˜¯æœ€ä½³æ‹Ÿåˆå‘¢ï¼Ÿ","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"å‡¸å‡½æ•°","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /å‡¸å‡½æ•°","date":"2018-12-05T00:00:00.000Z","updated":"2019-01-25T07:08:38.724Z","comments":true,"path":"2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /å‡¸å‡½æ•°/","link":"","permalink":"http://yoursite.com/2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /å‡¸å‡½æ•°/","excerpt":"","text":"æ¦‚å¿µå‡¸å‡½æ•°ï¼Œä¸€ç§å‡½æ•°ï¼Œå‡½æ•°å›¾åƒä»¥ä¸Šçš„åŒºåŸŸä¸ºå‡¸é›†ã€‚å…¸å‹å‡¸å‡½æ•°çš„å½¢çŠ¶ç±»ä¼¼äºå­—æ¯ Uã€‚ å‡¸é›†å‡¸é›†ï¼Œæ¬§å‡ é‡Œå¾—ç©ºé—´çš„ä¸€ä¸ªå­é›†ï¼Œå…¶ä¸­ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„è¿çº¿ä»å®Œå…¨è½åœ¨è¯¥å­é›†å†…ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä¸¤ä¸ªå›¾å½¢éƒ½æ˜¯å‡¸é›†ã€‚ å¾ˆå¤šå¸¸è§çš„æŸå¤±å‡½æ•°ï¼ˆåŒ…æ‹¬ä¸‹åˆ—å‡½æ•°ï¼‰éƒ½æ˜¯å‡¸å‡½æ•°ï¼š L2 æŸå¤±å‡½æ•° å¯¹æ•°æŸå¤±å‡½æ•° L1 æ­£åˆ™åŒ– L2 æ­£åˆ™åŒ– å‡¸ä¼˜åŒ– (convex optimization)ä½¿ç”¨æ•°å­¦æ–¹æ³•ï¼ˆä¾‹å¦‚æ¢¯åº¦ä¸‹é™æ³•ï¼‰å¯»æ‰¾å‡¸å‡½æ•°æœ€å°å€¼çš„è¿‡ç¨‹ã€‚æœºå™¨å­¦ä¹ æ–¹é¢çš„å¤§é‡ç ”ç©¶éƒ½æ˜¯ä¸“æ³¨äºå¦‚ä½•é€šè¿‡å…¬å¼å°†å„ç§é—®é¢˜è¡¨ç¤ºæˆå‡¸ä¼˜åŒ–é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•æ›´é«˜æ•ˆåœ°è§£å†³è¿™äº›é—®é¢˜ã€‚","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"æ­£åˆ™åŒ–","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æ­£åˆ™åŒ–","date":"2018-12-05T00:00:00.000Z","updated":"2019-01-25T07:03:20.412Z","comments":true,"path":"2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æ­£åˆ™åŒ–/","link":"","permalink":"http://yoursite.com/2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æ­£åˆ™åŒ–/","excerpt":"","text":"æ¦‚å¿µæ¨¡å‹ä¸è®­ç»ƒé›†ä¸­çš„æ•°æ®è¿‡æ‹Ÿåˆã€‚æ ¹æ®å¥¥å¡å§†å‰ƒåˆ€å®šå¾‹ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥é€šè¿‡é™ä½å¤æ‚æ¨¡å‹çš„å¤æ‚åº¦æ¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œè¿™ç§åŸåˆ™ç§°ä¸ºæ­£åˆ™åŒ–ã€‚ æ¨¡å‹å¤æ‚åº¦å¹¶éåªæ˜¯ä»¥æœ€å°åŒ–æŸå¤±ï¼ˆç»éªŒé£é™©æœ€å°åŒ–ï¼‰ä¸ºç›®æ ‡,è€Œæ˜¯ä»¥æœ€å°åŒ–æŸå¤±å’Œå¤æ‚åº¦ä¸ºç›®æ ‡ï¼Œè¿™ç§°ä¸ºç»“æ„é£é™©æœ€å°åŒ–ã€‚ äºæ˜¯ï¼Œè®­ç»ƒä¼˜åŒ–ç®—æ³•æ˜¯ä¸€ä¸ªç”±ä¸¤é¡¹å†…å®¹ç»„æˆçš„å‡½æ•°ï¼šä¸€ä¸ªæ˜¯æŸå¤±é¡¹ï¼Œç”¨äºè¡¡é‡æ¨¡å‹ä¸æ•°æ®çš„æ‹Ÿåˆåº¦ï¼Œå¦ä¸€ä¸ªæ˜¯æ­£åˆ™åŒ–é¡¹ï¼Œç”¨äºè¡¡é‡æ¨¡å‹å¤æ‚åº¦ã€‚ ä¸¤ç§è¡¡é‡æ¨¡å‹å¤æ‚åº¦çš„å¸¸è§æ–¹å¼ï¼š å°†æ¨¡å‹å¤æ‚åº¦ä½œä¸ºæ¨¡å‹ä¸­æ‰€æœ‰ç‰¹å¾çš„æƒé‡çš„å‡½æ•°ã€‚ å°†æ¨¡å‹å¤æ‚åº¦ä½œä¸ºå…·æœ‰éé›¶æƒé‡çš„ç‰¹å¾æ€»æ•°çš„å‡½æ•°ã€‚ å¦‚æœæ¨¡å‹å¤æ‚åº¦æ˜¯æƒé‡çš„å‡½æ•°ï¼Œåˆ™ç‰¹å¾æƒé‡çš„ç»å¯¹å€¼è¶Šé«˜ï¼Œå¯¹æ¨¡å‹å¤æ‚åº¦çš„è´¡çŒ®å°±è¶Šå¤§ã€‚ L2 æ­£åˆ™åŒ–å…¬å¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ L2 æ­£åˆ™åŒ–å…¬å¼æ¥é‡åŒ–å¤æ‚åº¦ï¼Œè¯¥å…¬å¼å°†æ­£åˆ™åŒ–é¡¹å®šä¹‰ä¸ºæ‰€æœ‰ç‰¹å¾æƒé‡çš„å¹³æ–¹å’Œï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š æ­£åˆ™åŒ–ç‡æ¨¡å‹å¼€å‘è€…é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥è°ƒæ•´æ­£åˆ™åŒ–é¡¹çš„æ•´ä½“å½±å“ï¼šç”¨æ­£åˆ™åŒ–é¡¹çš„å€¼ä¹˜ä»¥åä¸º lambdaï¼ˆåˆç§°ä¸ºæ­£åˆ™åŒ–ç‡ï¼‰çš„æ ‡é‡ã€‚ åœ¨é€‰æ‹© lambda å€¼æ—¶ï¼Œç›®æ ‡æ˜¯åœ¨ç®€å•åŒ–å’Œè®­ç»ƒæ•°æ®æ‹Ÿåˆä¹‹é—´è¾¾åˆ°é€‚å½“çš„å¹³è¡¡ã€‚ Lâ‚ æ­£åˆ™åŒ–https://developers.google.cn/machine-learning/crash-course/regularization-for-sparsity/l1-regularization","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"æ··æ·†çŸ©é˜µ","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æ··æ·†çŸ©é˜µ","date":"2018-12-05T00:00:00.000Z","updated":"2019-01-21T07:33:27.418Z","comments":true,"path":"2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æ··æ·†çŸ©é˜µ/","link":"","permalink":"http://yoursite.com/2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æ··æ·†çŸ©é˜µ/","excerpt":"","text":"æ¦‚å¿µæ··æ·†çŸ©é˜µæ˜¯é™¤äº†ROCæ›²çº¿å’ŒAUCä¹‹å¤–çš„å¦ä¸€ä¸ªåˆ¤æ–­åˆ†ç±»å¥½åç¨‹åº¦çš„æ–¹æ³•ã€‚ä¸‹é¢çš„å›¾ä¸­ï¼Œç»“æœåªæœ‰2ä¸ªå€¼ï¼ˆ1æˆ–è€…0) æ··æ·†çŸ©é˜µ:æ‰“åˆ†å€¼ååº”(é¢„æµ‹=1)æœªååº”(é¢„æµ‹=0)åˆè®¡çœŸå®ç»“æœå‘ˆç°ä¿¡å· (çœŸå®=1)A(å‡»ä¸­) True PositiveB(æ¼æŠ¥) False NegativeA+Bæœªå‘ˆç°ä¿¡å· (çœŸå®=0)C(è™šæŠ¥) False PositiveD(æ­£ç¡®å¦å®š) True NegativeC +Dåˆè®¡A+CB +DA+ B + C + D æ­£ç¡®ç‡=(A+D)/(A+B+C+D) çµæ•åº¦( Sensitivity ;è¦†ç›–ç‡recall)=A/(A+B) å‘½ä¸­ç‡(Precisionã€PV+)=A/(A+C) ç‰¹å¼‚åº¦ (Specificity;è´Ÿä¾‹çš„è¦†ç›–ç‡)=D/(C+D) è´Ÿå‘½ä¸­ç‡( PV-) = D/(D+B) çµæ•åº¦å’Œç‰¹å¼‚æ€§è¶Š å¤§è¶Šå¥½ã€‚","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"æœºå™¨å­¦ä¹ æ¦‚è®º","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ æ¦‚è®º","date":"2018-12-05T00:00:00.000Z","updated":"2019-01-26T07:34:02.888Z","comments":true,"path":"2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ æ¦‚è®º/","link":"","permalink":"http://yoursite.com/2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ æ¦‚è®º/","excerpt":"","text":"æœºå™¨å­¦ä¹ æ¦‚å¿µå‡ ä¸ªæ¦‚å¿µçš„å…³ç³»äººå·¥æ™ºèƒ½æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œç›®çš„æ˜¯å¼€å‘ä¸€ç§æ‹¥æœ‰æ™ºèƒ½è¡Œä¸ºçš„æœºå™¨ï¼Œè®©æœºå™¨åƒäººç±»ä¸€æ ·æ€è€ƒã€‚æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ç§å®ç°æ–¹æ³•ã€‚ å¤§æ•°æ®æ˜¯äººå·¥æ™ºèƒ½çš„åŸºç¡€ï¼Œè€Œä½¿å¤§æ•°æ®è½¬å˜ä¸ºçŸ¥è¯†æˆ–ç”Ÿäº§åŠ›ï¼Œç¦»ä¸å¼€æœºå™¨å­¦ä¹ ï¼ˆMachine Learningï¼‰ï¼Œå¯ä»¥è¯´æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒï¼Œæ˜¯ä½¿æœºå™¨å…·æœ‰ç±»ä¼¼äººçš„æ™ºèƒ½çš„æ ¹æœ¬é€”å¾„ã€‚ è€Œæ·±åº¦å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„ä¸€ä¸ªåˆ†æ”¯ã€‚å¯¹äºä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ¥è¯´ï¼Œç‰¹å¾æå–ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ã€‚åœ¨ä¸€äº›å¤æ‚é—®é¢˜ä¸Šï¼Œè¦æƒ³é€šè¿‡äººå·¥çš„æ–¹å¼è®¾è®¡æœ‰æ•ˆçš„ç‰¹å¾é›†åˆï¼Œå¾€å¾€è¦èŠ±è´¹å¾ˆå¤šçš„æ—¶é—´å’Œç²¾åŠ›ã€‚ æ·±åº¦å­¦ä¹ è§£å†³çš„æ ¸å¿ƒé—®é¢˜ä¹‹ä¸€å°±æ˜¯è‡ªåŠ¨å°†ç®€å•çš„ç‰¹å¾ç»„åˆæˆæ›´åŠ å¤æ‚çš„ç‰¹å¾ï¼Œå¹¶åˆ©ç”¨è¿™äº›ç»„åˆç‰¹å¾è§£å†³é—®é¢˜ã€‚å®ƒé™¤äº†å¯ä»¥å­¦ä¹ ç‰¹å¾å’Œä»»åŠ¡ä¹‹é—´çš„å…³è”ä»¥å¤–ï¼Œè¿˜èƒ½è‡ªåŠ¨ä»ç®€å•ç‰¹å¾ä¸­æå–æ›´åŠ å¤æ‚çš„ç‰¹å¾ã€‚ ç‰¹å¾ä¸€èˆ¬æ•°æ®å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªçŸ©é˜µï¼Œæ ¹æ®åº”ç”¨é¢†åŸŸçš„ä¸åŒï¼Œæ•°æ®çŸ©é˜µçš„è¡Œå¯ä»¥è¡¨ç¤ºä¸ºå®ä½“ã€å¯¹è±¡ã€ç‰¹å¾å‘é‡ã€å…ƒç»„ç­‰ã€‚åˆ—å¯ä»¥è¢«ç§°ä¸ºå±æ€§ã€ç‰¹å¾ç»´ã€åº¦ã€å˜é‡ã€åŸŸç­‰ã€‚ ç‰¹å¾ä¸€èˆ¬åœ¨æ¨¡å‹ä¸­ä½œä¸ºè¾“å…¥å˜é‡ï¼Œå³ç®€å•çº¿æ€§å›å½’ä¸­çš„ x å˜é‡ã€‚ç®€å•çš„æœºå™¨å­¦ä¹ é¡¹ç›®å¯èƒ½ä¼šä½¿ç”¨å•ä¸ªç‰¹å¾ï¼Œè€Œæ¯”è¾ƒå¤æ‚çš„æœºå™¨å­¦ä¹ é¡¹ç›®å¯èƒ½ä¼šä½¿ç”¨æ•°ç™¾ä¸‡ä¸ªç‰¹å¾ã€‚ä¸€èˆ¬è¡¨ç¤ºå¦‚ä¸‹ï¼š $\\{x_1, x_2, â€¦ x_N\\}$$\\sqrt {a_{1},a_{2},a_{i}\\ldots \\ldots a_{4}}$ æ ‡ç­¾æ ‡ç­¾æ˜¯æˆ‘ä»¬è¦é¢„æµ‹çš„äº‹ç‰©ï¼Œå³ç®€å•çº¿æ€§å›å½’ä¸­çš„ y å˜é‡ã€‚æ ‡ç­¾å¯ä»¥æ˜¯å°éº¦æœªæ¥çš„ä»·æ ¼ã€å›¾ç‰‡ä¸­æ˜¾ç¤ºçš„åŠ¨ç‰©å“ç§ã€éŸ³é¢‘å‰ªè¾‘çš„å«ä¹‰æˆ–ä»»ä½•äº‹ç‰©ã€‚ æ ·æœ¬æ ·æœ¬æ˜¯æŒ‡æ•°æ®çš„ç‰¹å®šå®ä¾‹ï¼šxã€‚ï¼ˆæˆ‘ä»¬é‡‡ç”¨ç²—ä½“ x è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªçŸ¢é‡ã€‚ï¼‰æˆ‘ä»¬å°†æ ·æœ¬åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»ï¼š æœ‰æ ‡ç­¾æ ·æœ¬ æ— æ ‡ç­¾æ ·æœ¬ æœ‰æ ‡ç­¾æ ·æœ¬åŒæ—¶åŒ…å«ç‰¹å¾å’Œæ ‡ç­¾ã€‚ æ¨¡å‹æ¨¡å‹å®šä¹‰äº†ç‰¹å¾ä¸æ ‡ç­¾ä¹‹é—´çš„å…³ç³»ã€‚ä¾‹å¦‚ï¼Œåƒåœ¾é‚®ä»¶æ£€æµ‹æ¨¡å‹å¯èƒ½ä¼šå°†æŸäº›ç‰¹å¾ä¸â€œåƒåœ¾é‚®ä»¶â€ç´§å¯†è”ç³»èµ·æ¥ã€‚æˆ‘ä»¬æ¥é‡ç‚¹ä»‹ç»ä¸€ä¸‹æ¨¡å‹ç”Ÿå‘½å‘¨æœŸçš„ä¸¤ä¸ªé˜¶æ®µï¼š è®­ç»ƒæ˜¯æŒ‡åˆ›å»ºæˆ–å­¦ä¹ æ¨¡å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‘æ¨¡å‹å±•ç¤ºæœ‰æ ‡ç­¾æ ·æœ¬ï¼Œè®©æ¨¡å‹é€æ¸å­¦ä¹ ç‰¹å¾ä¸æ ‡ç­¾ä¹‹é—´çš„å…³ç³»ã€‚ æ¨æ–­æ˜¯æŒ‡å°†è®­ç»ƒåçš„æ¨¡å‹åº”ç”¨äºæ— æ ‡ç­¾æ ·æœ¬ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨ç»è¿‡è®­ç»ƒçš„æ¨¡å‹åšå‡ºæœ‰ç”¨çš„é¢„æµ‹ã€‚ ç®—æ³•åˆ†ç±» ç›‘ç£å¼å­¦ä¹ å’Œæ— ç›‘ç£å¼å­¦ä¹ æ˜¯å¦åœ¨äººç±»ç›‘ç£ä¸‹è®­ç»ƒï¼ˆç›‘ç£å¼å­¦ä¹ ã€æ— ç›‘ç£å¼å­¦ä¹ ã€åŠç›‘ç£å¼å­¦ä¹ å’Œå¼ºåŒ–å­¦ä¹ ï¼‰ ä¸€äº›æœ€é‡è¦çš„ç›‘ç£å¼å­¦ä¹ çš„ç®—æ³•ï¼š K-è¿‘é‚»ç®—æ³• çº¿æ€§å›å½’ é€»è¾‘å›å½’ æ”¯æŒå‘é‡æœº å†³ç­–æ ‘å’Œéšæœºæ£®æ— ç¥ç»ç½‘ç»œ æ— ç›‘ç£å¼å­¦ä¹ ç®—æ³•ï¼š èšç±»ç®—æ³• k-å¹³å‡ç®—æ³•ï¼ˆk-Meansï¼‰ åˆ†å±‚èšç±»åˆ†æï¼ˆHierarchical Cluster Analysisï¼ŒHCAï¼‰ æœ€å¤§æœŸæœ›ç®—æ³•ï¼ˆExpectation Maximizationï¼‰ å¯è§†åŒ–å’Œé™ç»´ ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ æ ¸ä¸»æˆåˆ†åˆ†æï¼ˆKernel PCAï¼‰ å…³è”è§„åˆ™å­¦ä¹  Apriori åŠç›‘ç£å¼å­¦ä¹ å¤§å¤šæ•°åŠç›‘ç£å¼å­¦ä¹ ç®—æ³•æ˜¯æ— ç›‘ç£å¼å’Œç›‘ç£å¼ç®—æ³•çš„ç»“åˆã€‚ä¾‹å¦‚æ·±åº¦ä¿¡å¿µç½‘ç»œï¼ˆDBNï¼‰ï¼Œå®ƒåŸºäºä¸€ç§äº’ç›¸å †å çš„æ— ç›‘ç£å¼ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å«ä½œå—é™ç»å°”å…¹æ›¼æœºï¼ˆRBMï¼‰ã€‚å—é™ç»å°”å…¹æ›¼æœºä»¥æ— ç›‘ç£çš„æ–¹å¼è¿›è¡Œè®­ç»ƒï¼Œç„¶åä½¿ç”¨ç›‘ç£å¼å­¦ä¹ å¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œå¾®è°ƒã€‚ å¼ºåŒ–å­¦ä¹ åŸºäºå®ä¾‹ä¸åŸºäºæ¨¡å‹çš„å­¦ä¹ å¦ä¸€ç§å¯¹æœºå™¨å­¦ä¹ ç³»ç»Ÿè¿›è¡Œåˆ†ç±»çš„æ–¹æ³•ï¼Œæ˜¯ç®€å•åœ°å°†æ–°çš„æ•°æ®ç‚¹å’Œå·²çŸ¥çš„æ•°æ®ç‚¹è¿›è¡ŒåŒ¹é…ï¼Œè¿˜æ˜¯åƒç§‘å­¦å®¶é‚£æ ·ï¼Œå¯¹è®­ç»ƒæ•°æ®è¿›è¡Œæ¨¡å¼æ£€æµ‹ï¼Œç„¶åå»ºç«‹ä¸€ä¸ªé¢„æµ‹æ¨¡å‹ï¼ˆåŸºäºå®ä¾‹çš„å­¦ä¹ å’ŒåŸºäºæ¨¡å‹çš„å­¦ä¹ ï¼‰ã€‚ åŸºäºå®ä¾‹çš„å­¦ä¹ ç³»ç»Ÿå…ˆå®Œå…¨è®°ä½å­¦ä¹ ç¤ºä¾‹ï¼ˆexampleï¼‰ï¼Œç„¶åé€šè¿‡æŸç§ç›¸ä¼¼åº¦åº¦é‡æ–¹å¼å°†å…¶æ³›åŒ–åˆ°æ–°çš„å®ä¾‹ åŸºäºæ¨¡å‹çš„å­¦ä¹ ä»ä¸€ç»„ç¤ºä¾‹é›†ä¸­å®ç°æ³›åŒ–çš„å¦ä¸€ç§æ–¹æ³•æ˜¯æ„å»ºè¿™äº›ç¤ºä¾‹çš„æ¨¡å‹ï¼Œç„¶åä½¿ç”¨è¯¥æ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚è¿™å°±æ˜¯åŸºäºæ¨¡å‹çš„å­¦ä¹  å›å½’å’Œåˆ†ç±»å›å½’è¿™ä¸ªè¯çš„æ¥å†? å›å½’æ˜¯å¼—å…°è¥¿æ–¯Â·åŠ å°”é¡¿æå‡ºçš„ç»Ÿè®¡å­¦æœ¯è¯­ï¼Œå½“æ—¶ä»–æ­£ç ”ç©¶ä¸€ä¸ªç°è±¡ï¼Œé‚£å°±æ˜¯é«˜ä¸ªçˆ¶æ¯çš„å­©å­å¾€å¾€æ¯”ä»–ä»¬è¦çŸ®ä¸€äº›ã€‚ç”±äºé«˜ä¸ªçˆ¶æ¯çš„å­©å­åœ¨å˜çŸ®ï¼Œä»–å°±æŠŠè¿™ä¸ªè¶‹åŠ¿ç§°ä¸ºå‡æ•°å›å½’ã€‚åæ¥è¿™ä¸ªåè¯å°±è¢«ä»–ç”¨äºåˆ†æå˜é‡ä¹‹é—´ç›¸å…³æ€§çš„æ–¹æ³•ã€‚ å¤šè¾“å‡ºçš„å›å½’é—®é¢˜å¤šç±»ç­–ç•¥ èšç±»å’Œé™ç»´é™ç»´é™ç»´çš„ç›®çš„æ˜¯åœ¨ä¸ä¸¢å¤±å¤ªå¤šä¿¡æ¯çš„å‰æä¸‹ç®€åŒ–æ•°æ®ã€‚æ±½è½¦çš„é‡Œç¨‹ä¸å…¶ä½¿ç”¨å¹´é™å­˜åœ¨å¾ˆå¤§çš„ç›¸å…³æ€§ï¼Œæ‰€ä»¥é™ç»´ç®—æ³•ä¼šå°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªä»£è¡¨æ±½è½¦ç£¨æŸçš„ç‰¹å¾ã€‚è¿™ä¸ªè¿‡ç¨‹å«ä½œç‰¹å¾æå–ã€‚ é€šå¸¸æ¯”è¾ƒå¥½çš„åšæ³•æ˜¯ï¼Œå…ˆä½¿ç”¨é™ç»´ç®—æ³•å‡å°‘è®­ç»ƒæ•°æ®çš„ç»´åº¦ï¼Œå†å°†å…¶æä¾›ç»™å¦ä¸€ä¸ªæœºå™¨å­¦ä¹ ç®—æ³•ï¼ˆä¾‹å¦‚ç›‘ç£å¼å­¦ä¹ ç®—æ³•ï¼‰ã€‚ æœºå™¨å­¦ä¹ çš„ä¸€èˆ¬æµç¨‹å­¦ä¹ æ•°æ®é€‰æ‹©æ¨¡å‹ä½¿ç”¨è®­ç»ƒæ•°æ®è¿›è¡Œè®­ç»ƒï¼Œä»è€Œä½¿æˆæœ¬å‡½æ•°æœ€å°åŒ–åº”ç”¨æ¨¡å‹å¯¹æ–°ç¤ºä¾‹è¿›è¡Œé¢„æµ‹ï¼ˆç§°ä¸ºæ¨æ–­ï¼‰ æœºå™¨å­¦ä¹ éœ€è¦é¢å¯¹çš„é—®é¢˜è¯¯å·®åº¦é‡è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®æ˜¯å¦å¯å­¦ä¹ æ•ˆæœè¯„ä¼°å‚è€ƒç½‘ç«™","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"é€»è¾‘å›å½’","slug":"01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /é€»è¾‘å›å½’","date":"2018-12-05T00:00:00.000Z","updated":"2019-01-25T06:52:18.090Z","comments":true,"path":"2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /é€»è¾‘å›å½’/","link":"","permalink":"http://yoursite.com/2018/12/05/01æ•°æ®ç§‘å­¦/0æœºå™¨å­¦ä¹ /é€»è¾‘å›å½’/","excerpt":"","text":"æ¦‚å¿µé€»è¾‘å›å½’æ¨¡å‹å¦‚ä½•ç¡®ä¿è¾“å‡ºå€¼å§‹ç»ˆè½åœ¨ 0 å’Œ 1 ä¹‹é—´ã€‚å·§åˆçš„æ˜¯ï¼ŒS å‹å‡½æ•°ç”Ÿæˆçš„è¾“å‡ºå€¼æ­£å¥½å…·æœ‰è¿™äº›ç‰¹æ€§ã€‚ é€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°é€»è¾‘å›å½’ä¸­çš„æ­£åˆ™åŒ–","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://yoursite.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"Latexè¡¨ç¤ºçŸ©é˜µå’Œå…¶ä»–ç”¨æ³•","slug":"90æ‚ä¸ƒæ‚å…«/Latexé«˜çº§ç”¨æ³•","date":"2018-11-09T00:00:00.000Z","updated":"2018-12-10T17:00:49.977Z","comments":true,"path":"2018/11/09/90æ‚ä¸ƒæ‚å…«/Latexé«˜çº§ç”¨æ³•/","link":"","permalink":"http://yoursite.com/2018/11/09/90æ‚ä¸ƒæ‚å…«/Latexé«˜çº§ç”¨æ³•/","excerpt":"","text":"çŸ©é˜µåŸºæœ¬ç”¨æ³•ä½¿ç”¨$$\\begin{matrix}...\\end{matrix}$$æ¥è¡¨ç¤ºçŸ©é˜µï¼Œåœ¨\\beginä¸\\endä¹‹é—´åŠ å…¥çŸ©é˜µçš„å…ƒç´ å³å¯ã€‚çŸ©é˜µçš„è¡Œä¹‹é—´ç”¨\\åˆ†éš”ï¼Œåˆ—ä¹‹é—´ç”¨&amp;åˆ†éš”ã€‚ ä¾‹å¦‚ $$\\begin{matrix} 1 &amp; x &amp; x^2 \\\\\\\\ 1 &amp; y &amp; y^2 \\\\\\\\ 1 &amp; z &amp; z^2 \\end{matrix}$$ ç»“æœï¼š $$\\begin{matrix} 1 &amp; x &amp; x^2 \\\\ 1 &amp; y &amp; y^2 \\\\ 1 &amp; z &amp; z^2 \\end{matrix}$$ åŠ æ‹¬å·å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„matrixï¼Œå³æ›¿æ¢\\begin{matrix}...\\end{matrix}ä¸­çš„matrixä¸ºpmatrix , bmatrix , Bmatrix , vmatrix , Vmatrix. pmatrix \\begin{pmatrix} 1 &amp; 2 \\\\\\\\ 3 &amp; 4 \\\\\\\\ \\end{pmatrix}:$$\\begin{pmatrix} 1 &amp; 2 \\\\ 3 &amp; 4 \\\\ \\end{pmatrix}$$ bmatrix \\begin{bmatrix} 1 &amp; 2 \\\\\\\\ 3 &amp; 4 \\\\\\\\ \\end{bmatrix}:$$\\begin{bmatrix} 1 &amp; 2 \\\\ 3 &amp; 4 \\\\ \\end{bmatrix}$$ çœç•¥å…ƒç´ å¯ä»¥ä½¿ç”¨\\cdots â‹¯ \\ddots â‹± \\vdots â‹®æ¥çœç•¥çŸ©é˜µä¸­çš„å…ƒç´ ï¼Œå¦‚ï¼š \\begin{Vmatrix} 1 &amp; a_1 &amp; a_1^2 &amp; \\cdots &amp; a_1^n \\\\\\\\ 1 &amp; a_2 &amp; a_2^2 &amp; \\cdots &amp; a_2^n \\\\\\\\ \\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\\\\\ 1 &amp; a_m &amp; a_m^2 &amp; \\cdots &amp; a_m^n \\end{Vmatrix} $$\\begin{Vmatrix} 1 &amp; a_1 &amp; a_1^2 &amp; \\cdots &amp; a_1^n \\\\ 1 &amp; a_2 &amp; a_2^2 &amp; \\cdots &amp; a_2^n \\\\ \\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ 1 &amp; a_m &amp; a_m^2 &amp; \\cdots &amp; a_m^n \\end{Vmatrix}$$ å¯¹é½çš„å…¬å¼\\begin{align} \\sqrt{37} &amp; = \\sqrt{\\frac{73^2-1}{12^2}} \\\\ &amp; = \\sqrt{\\frac{73^2}{12^2} \\cdot \\frac{73^2-1}{73^2}} \\\\ &amp; = \\frac{73}{12} \\sqrt{1 - \\frac{1}{73^2}} \\\\ &amp; \\approx \\frac{73}{12} \\left( 1 - \\frac{1}{2 \\cdot 73^2} \\right) \\end{align} éœ€è¦ä½¿ç”¨å½¢å¦‚\\begin{align}...\\end{align}çš„æ ¼å¼ï¼Œå…¶ä¸­éœ€è¦ä½¿ç”¨&amp;æ¥æŒ‡ç¤ºéœ€è¦å¯¹é½çš„ä½ç½® $$\\begin{align} \\sqrt{37} &amp; = \\sqrt{\\frac{73^2-1}{12^2}}\\\\&amp; = \\sqrt{\\frac{73^2}{12^2} \\cdot \\frac{73^2-1}{73^2}} \\\\\\&amp; = \\frac{73}{12} \\sqrt{1 - \\frac{1}{73^2}} \\\\&amp; \\approx \\frac{73}{12} \\left( 1 - \\frac{1}{2 \\cdot 73^2} \\right) \\end{align}$$ åˆ†ç±»è¡¨è¾¾å¼å®šä¹‰å‡½æ•°çš„æ—¶å€™ç»å¸¸éœ€è¦åˆ†æƒ…å†µç»™å‡ºè¡¨è¾¾å¼ï¼Œå¯ä½¿ç”¨\\begin{cases}...\\end{cases}ã€‚å…¶ä¸­ï¼Œä½¿ç”¨\\æ¥åˆ†ç±»ï¼Œä½¿ç”¨&amp;æŒ‡ç¤ºéœ€è¦å¯¹é½çš„ä½ç½®ã€‚å¦‚ï¼š f(n) = \\begin{cases} n/2, &amp; \\text{if $n$ is even} \\\\\\\\\\ 3n+1, &amp; \\text{if $n$ is odd} \\end{cases} $$f(n) = \\begin{cases} n/2, &amp; \\text{if $n$ is even} \\\\\\ 3n+1, &amp; \\text{if $n$ is odd} \\end{cases}$$ å‚è€ƒèµ„æ–™https://www.cnblogs.com/linxd/p/4955530.html","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"}],"keywords":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}]},{"title":"MathJaxä¸­LatexåŸºæœ¬è¯­æ³•","slug":"90æ‚ä¸ƒæ‚å…«/LatexåŸºæœ¬ç”¨æ³•","date":"2018-11-09T00:00:00.000Z","updated":"2018-12-10T17:00:58.854Z","comments":true,"path":"2018/11/09/90æ‚ä¸ƒæ‚å…«/LatexåŸºæœ¬ç”¨æ³•/","link":"","permalink":"http://yoursite.com/2018/11/09/90æ‚ä¸ƒæ‚å…«/LatexåŸºæœ¬ç”¨æ³•/","excerpt":"","text":"å…¥é—¨ä»‹ç»å…¬å¼æ ‡è®°è¡Œå†…å…¬å¼$\\alpha+\\beta=\\gamma$ : $\\alpha+\\beta=\\gamma$ è·¨è¡Œå…¬å¼$$\\alpha+\\beta=\\gamma$$ : $$\\alpha+\\beta=\\gamma$$ ä¸Šæ ‡ä¸ä¸‹æ ‡ä¸Šæ ‡å’Œä¸‹æ ‡åˆ†åˆ«ä½¿ç”¨^ä¸_ï¼Œä¾‹å¦‚x_i^2 : $x_i^2$ ä¸€äº›å¸¸ç”¨å‡½æ•°\\sumç”¨æ¥è¡¨ç¤ºæ±‚å’Œç¬¦å·ï¼Œå…¶ä¸‹æ ‡è¡¨ç¤ºæ±‚å’Œä¸‹é™ï¼Œä¸Šæ ‡è¡¨ç¤ºä¸Šé™ã€‚å¦‚\\sum_1^n: $\\sum_1^n$ã€‚ \\intç”¨æ¥è¡¨ç¤ºç§¯åˆ†ç¬¦å·ï¼ŒåŒæ ·åœ°ï¼Œå…¶ä¸Šä¸‹æ ‡è¡¨ç¤ºç§¯åˆ†çš„ä¸Šä¸‹é™ã€‚å¦‚\\int_1^\\infty : $\\int_1^\\infty$ã€‚ \\lim_{x\\to\\infty}ï¼š$\\lim_{x\\to\\infty}$ å…¶ä»–ç‰¹æ®Šå‡½æ•°,ä¾‹å¦‚â€™sinâ€™,â€™maxâ€™,â€™lnâ€™ã€‚ æ‹¬å· å°æ‹¬å·ä¸æ–¹æ‹¬å·ï¼šä½¿ç”¨åŸå§‹çš„()ï¼Œ[]å³å¯ï¼Œå¦‚(2+3)[4+4]: $(2+3)[4+4]$ å¤§æ‹¬å·ï¼šç”±äºå¤§æ‹¬å·{}è¢«ç”¨æ¥åˆ†ç»„ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨\\lbraceå’Œ\\rbraceæ¥è¡¨ç¤ºã€‚å¦‚\\lbrace a*b \\rbrace : $\\lbrace a*b \\rbrace$ å°–æ‹¬å·ï¼šä½¿ç”¨\\langleå’Œ\\rangleè¡¨ç¤ºå·¦å°–æ‹¬å·å’Œå³å°–æ‹¬å·ã€‚å¦‚\\langle x \\rangle : $\\langle x \\rangle$ ä¸Šå–æ•´ï¼šä½¿ç”¨\\lceilå’Œ\\rceilè¡¨ç¤ºã€‚å¦‚\\lceil x \\rceilï¼š$\\lceil x \\rceil$ ä¸‹å–æ•´ï¼šä½¿ç”¨\\lfloorå’Œ\\rfloorè¡¨ç¤ºã€‚å¦‚\\lfloor x \\rfloorï¼š$\\lfloor x \\rfloor$ ä¸å¯è§æ‹¬å·ï¼šä½¿ç”¨.è¡¨ç¤º åˆ†å·å•ä¸ªå­—æ¯å¯ä»¥ä½¿ç”¨\\frac abï¼Œå¦‚æœä½ çš„åˆ†å­æˆ–åˆ†æ¯ä¸æ˜¯å•ä¸ªå­—ç¬¦ï¼Œè¯·ä½¿ç”¨åˆ†ç»„ \\frac{(n^2+n)(2n+2)}{6}ï¼š$ \\frac{(n^2+n)(2n+2)}{6}$ æˆ–è€…ä½¿ç”¨\\overï¼Œæ¥åˆ†éš”ä¸€ä¸ªç»„çš„å‰åä¸¤éƒ¨åˆ†ï¼Œå¦‚ (n^2+n)(2n+2) \\over 6: $(n^2+n)(2n+2) \\over 6$ æ ¹å·æ ¹å¼ä½¿ç”¨\\sqrtè¡¨ç¤ºï¼Œå¦‚ï¼š\\sqrt[4]{\\frac xy}ï¼š$\\sqrt[4]{\\frac xy}$ å¸Œè…Šå­—æ¯ åç§° Tex æ˜¾ç¤º alpha \\alpha $\\alpha$ beta \\beta $\\beta$ delta \\Delta $\\Delta$ theta \\theta $\\theta$ ä¸€ä¸ªç»¼åˆç¤ºåˆ—åŸå§‹ç¬¦å·å¹¶ä¸ä¼šéšç€å…¬å¼å¤§å°ç¼©æ”¾ï¼Œå¯ä»¥ä½¿ç”¨\\left(...\\right)æ¥è‡ªé€‚åº”åœ°è°ƒæ•´æ‹¬å·å¤§å°ã€‚\\left\\lbrace\\sum_{i=0}^0 i^2 = \\frac{(n^2+n)(2n+2)}{6}\\right\\rbrace\\tag{1.2}$$\\left\\lbrace\\sum_{i=0}^0 i^2 = \\frac{(n^2+n)(2n+2)}{6}\\right\\rbrace\\tag{1.2}$$ æ’åˆ—å’Œç»„åˆè¡¨ç¤ºæ’åˆ—ä½¿ç”¨\\binom{n+1}{2k}:$\\binom{n+1}{2k}$ æˆ–{n+1 \\choose 2k}:${n+1 \\choose 2k}$ é›†åˆå…³ç³»ä¸è¿ç®—\\cup \\cap \\setminus \\subset \\subseteq \\subsetneq \\supset \\in \\notin \\emptyset \\varnothing:$\\cup \\cap \\setminus \\subset \\subseteq \\subsetneq \\supset \\in \\notin \\emptyset \\varnothing$ å…¶ä»–ç‰¹æ®Šå‡½æ•°å’Œç¬¦å· æ¯”è¾ƒè¿ç®—ç¬¦ï¼š\\lt \\gt \\le \\ge \\neq:$\\lt \\gt \\le \\ge \\neq$ ç®­å¤´ï¼š\\to \\rightarrow \\leftarrow \\Rightarrow \\Leftarrow \\mapsto: $\\to \\rightarrow \\leftarrow \\Rightarrow \\Leftarrow \\mapsto$ çœç•¥å·ï¼ša_1 + a_2 + \\cdots + a_n , a_1, a_2, \\ldots , a_nï¼š$$a_1 + a_2 + \\cdots + a_n , a_1, a_2, \\ldots , a_n$$ å‚è€ƒèµ„æ–™https://www.cnblogs.com/linxd/p/4955530.html","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"}],"keywords":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}]},{"title":"æ¦‚ç‡å­¦ä¹ ","slug":"01æ•°æ®ç§‘å­¦/1æ•°å­¦ç›¸å…³/æ¦‚ç‡è®ºå­¦ä¹ ","date":"2018-08-05T00:00:00.000Z","updated":"2018-12-10T17:10:45.789Z","comments":true,"path":"2018/08/05/01æ•°æ®ç§‘å­¦/1æ•°å­¦ç›¸å…³/æ¦‚ç‡è®ºå­¦ä¹ /","link":"","permalink":"http://yoursite.com/2018/08/05/01æ•°æ®ç§‘å­¦/1æ•°å­¦ç›¸å…³/æ¦‚ç‡è®ºå­¦ä¹ /","excerpt":"","text":"åŸºæœ¬æ¦‚å¿µéšæœºå˜é‡è‡ªç„¶ç•Œå’Œç¤¾ä¼šå®è·µä¸­äº§ç”Ÿç°è±¡åˆ†æˆç¡®å®šæ€§ç°è±¡å’Œéšæœºç°è±¡ã€‚ éšæœºç°è±¡äº§ç”Ÿçš„å¯èƒ½ç»“æœæœ‰å¤šä¸ªæ— ï¼Œä¸”æ³•äº‹å…ˆé¢„çŸ¥é‚£ä¸ªç»“æœä¼šå‘ç”Ÿï¼Œæ¦‚ç‡è®ºç ”ç©¶ä¸»è¦æ˜¯éšæœºç°è±¡ã€‚ä¸ºäº†æ–¹ä¾¿ç ”ç©¶æŠŠéšæœºç°è±¡äº§ç”Ÿçš„ç»“æœå®šä¹‰ä¸ºä¸€ä¸ªå˜é‡ï¼Œæˆä¸ºéšæœºå˜é‡ã€‚ä¸€èˆ¬ä½¿ç”¨å¤§å†™å­—æ¯æ¥è¡¨ç¤ºã€‚ ç»“æœå˜é‡çš„å¯èƒ½å–å€¼ç§°ä¸ºç»“æœï¼Œä½¿ç”¨å°å†™å­—æ¯è¡¨ç¤ºï¼Œæ‰€æœ‰ç»“æœç»„æˆçš„é›†åˆç»„æˆæ ·æœ¬ç©ºé—´ã€‚ äº‹ä»¶å’Œæ¦‚ç‡å–å…¶ä¸­çš„éƒ¨åˆ†ç»“æœç»„æˆçš„é›†åˆï¼Œç§°ä¸ºéšæœºäº‹ä»¶ï¼Œç®€ç§°äº‹ä»¶ã€‚äº‹ä»¶æœ¬è´¨ä¸ºä¸€ä¸ªé›†åˆã€‚ ä¾‹å¦‚ï¼Œéšæœºå˜é‡Xè¡¨ç¤ºéª°å­çš„ç‚¹æ•°ï¼Œäº‹ä»¶A={2,4,6},å«ä¹‰ä¸ºâ€æŠ›å‡ºå¶æ•°ç‚¹æ•°â€ã€‚ äº‹ä»¶Aå‘ç”Ÿçš„æ¦‚ç‡è®°ä¸ºP(A),p(A)å®é™…ä¸Šä¸ºä¸€ä¸ªæŠŠäº‹ä»¶æ˜ å°„åˆ°æ¦‚ç‡çš„å‡½æ•°ã€‚è‡ªå˜é‡ä¸ºäº‹ä»¶ï¼Œå› å˜é‡ä¸ºäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡å€¼ã€‚ éšæœºå˜é‡çš„å–å€¼ä¸ºæœ‰é™çš„ä¸ªæ•°çš„ä¸ºç¦»æ•£éšæœºå˜é‡ã€‚ P(X=k) = f (å…¶ä¸­k=2,4,6), åˆ™å‡½æ•°fç§°ä¸ºæ¦‚ç‡åˆ†å¸ƒã€‚ æœŸæœ›å’Œæ–¹å·®å¯¹äºå–å€¼ä¸å®šçš„éšæœºå€¼ï¼Œå…¶å¯èƒ½çš„å¹³å‡å–å€¼ç§°ä¸ºæœŸæœ›å€¼ï¼Œå€¼å’Œåˆ†æ•£ç¨‹åº¦ç§°ä¸ºæ–¹å·®ã€‚ å¤šä¸ªéšæœºå˜é‡çš„å…³ç³»è”åˆæ¦‚ç‡/è¾¹ç¼˜æ¦‚ç‡æ¡ä»¶æ¦‚ç‡ï¼ˆè´å¶æ–¯ï¼‰äº‹ä»¶çš„ç‹¬ç«‹æ€§éšæœºå˜é‡çš„ç‹¬ç«‹æ€§ å˜é‡ä¹‹é—´çš„ç›¸å…³ç¨‹åº¦ä¸€ä¸ªå˜é‡çš„å˜åŒ–ï¼Œå…¶ä»–å˜é‡å°†å‘ç”Ÿå¤šå¤§çš„å˜åŒ–ã€‚åæ–¹å·® å‚è€ƒç½‘ç«™","categories":[{"name":"åˆçª¥æ•°æ®ç§‘å­¦","slug":"åˆçª¥æ•°æ®ç§‘å­¦","permalink":"http://yoursite.com/categories/åˆçª¥æ•°æ®ç§‘å­¦/"}],"tags":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"http://yoursite.com/tags/ç»Ÿè®¡å­¦/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://yoursite.com/tags/æ•°å­¦/"}],"keywords":[{"name":"åˆçª¥æ•°æ®ç§‘å­¦","slug":"åˆçª¥æ•°æ®ç§‘å­¦","permalink":"http://yoursite.com/categories/åˆçª¥æ•°æ®ç§‘å­¦/"}]},{"title":"ç»Ÿè®¡å­¦å…¥é—¨","slug":"01æ•°æ®ç§‘å­¦/1æ•°å­¦ç›¸å…³/ç»Ÿè®¡å­¦å…¥é—¨","date":"2018-08-05T00:00:00.000Z","updated":"2018-12-10T16:56:42.201Z","comments":true,"path":"2018/08/05/01æ•°æ®ç§‘å­¦/1æ•°å­¦ç›¸å…³/ç»Ÿè®¡å­¦å…¥é—¨/","link":"","permalink":"http://yoursite.com/2018/08/05/01æ•°æ®ç§‘å­¦/1æ•°å­¦ç›¸å…³/ç»Ÿè®¡å­¦å…¥é—¨/","excerpt":"","text":"å…¥é—¨ä»‹ç»ç»Ÿè®¡å­¦ä¸ºæˆ‘ä»¬åšä»€ä¹ˆï¼Ÿï¼ˆæ„ä¹‰ï¼‰ æ”¶é›†æ•°æ®ï¼ŒçŸ¥é“æ•´ä½“æƒ…å†µ æ•°æ®åˆ†æï¼Œç›®çš„æ˜¯ä½œå‡ºåˆ¤æ–­å’Œé¢„æµ‹ï¼ˆé‡è¦ï¼‰ ç»Ÿè®¡çš„ç›®çš„æ˜¯ä¸ºäº†åšå‡ºå†³ç­–ã€‚ å¦‚ä½•æè¿°æ•°æ®ï¼ŸåŸå§‹æ•°æ®ä¸å¥½è§‚å¯Ÿï¼Œéœ€è¦è¿›è¡Œæ•°æ®çš„å‹ç¼©ã€‚ä¸¤ä¸ªæ–¹æ³•ï¼š åˆ¶ä½œâ€å›¾â€, æ±‚â€ç»Ÿè®¡é‡â€ã€‚ åˆ¶ä½œå›¾ï¼Œä½¿ç”¨ç›´æ–¹å›¾ï¼Œé¢‘æ•°åˆ†å¸ƒè¡¨ã€‚ç¼ºç‚¹ï¼š1.æŠ½è±¡çš„ç¨‹åº¦æ— æ³•é¡ºåˆ©è¡¨è¾¾2.è¡¨è¾¾çš„éœ€è¦çš„ç©ºé—´å¾ˆå¤§ æ±‚ç»Ÿè®¡é‡ï¼Œç”¨æ•°å­—æ¥æ¦‚æ‹¬æ•°æ®çš„ç‰¹å¾ã€‚ å®šé‡åˆ†æ å®šæ€§åˆ†æã€‚å®šé‡åˆ†ææ˜¯ä¾æ®ç»Ÿè®¡æ•°æ®,å»ºç«‹æ•°å­¦æ¨¡å‹,å¹¶ç”¨æ•°å­¦æ¨¡å‹è®¡ç®—å‡ºåˆ†æå¯¹è±¡çš„å„é¡¹æŒ‡æ ‡åŠå…¶æ•°å€¼çš„ä¸€ç§æ–¹æ³•ã€‚ å®šæ€§åˆ†æåˆ™æ˜¯ä¸»è¦å‡­åˆ†æè€…çš„ç›´è§‰ã€ç»éªŒï¼Œå‡­åˆ†æå¯¹è±¡è¿‡å»å’Œç°åœ¨çš„å»¶ç»­çŠ¶å†µåŠæœ€æ–°çš„ä¿¡æ¯èµ„æ–™ï¼Œå¯¹åˆ†æå¯¹è±¡çš„æ€§è´¨ã€ç‰¹ç‚¹ã€å‘å±•å˜åŒ–è§„å¾‹ä½œå‡ºåˆ¤æ–­çš„ä¸€ç§æ–¹æ³•ã€‚ äºŒè€…çš„å…³ç³»ï¼šç°ä»£å®šæ€§åˆ†ææ–¹æ³•åŒæ ·è¦é‡‡ç”¨æ•°å­¦å·¥å…·è¿›è¡Œè®¡ç®—ï¼Œè€Œå®šé‡åˆ†æåˆ™å¿…é¡»å»ºç«‹åœ¨å®šæ€§é¢„æµ‹åŸºç¡€ä¸Šã€‚ æè¿°æ€§ç»Ÿè®¡å’Œæ¨æ–­æ€§ç»Ÿè®¡æè¿°æ€§ç»Ÿè®¡â€”-å¯¹æ•°æ®çš„æè¿°ï¼Œä»å–å¾—çš„æ•°æ®ä¸­æŠ½å–å…¶ç‰¹å¾çš„æŠ€æœ¯ã€‚ï¼ˆæ•´ä½“åˆ°éƒ¨åˆ†ï¼‰ æ¨æ–­æ€§ç»Ÿè®¡â€”-ç”¨åšåˆ¤æ–­å’Œé¢„æµ‹ã€‚ï¼ˆéƒ¨åˆ†æ¨æ–­æ•´ä½“ï¼‰ æè¿°ç»Ÿè®¡å­¦æ˜¯ä½¿ç”¨ç‰¹å®šçš„æ•°å­—æˆ–å›¾è¡¨æ¥ä½“ç°æ•°æ®çš„é›†ä¸­ç¨‹åº¦æˆ–ç¦»æ•£ç¨‹åº¦ã€‚ä¾‹ï¼šæ¯æ¬¡è€ƒè¯•ç®—çš„å¹³å‡åˆ†ï¼Œæœ€é«˜åˆ†ï¼Œå„ä¸ªåˆ†æ®µçš„äººæ•°åˆ†å¸ƒç­‰ï¼Œä¹Ÿæ˜¯å±äºæè¿°ç»Ÿè®¡å­¦çš„èŒƒå›´ã€‚ æ¨æ–­ç»Ÿè®¡å­¦æ˜¯æ ¹æ®æ ·æœ¬æ•°æ®æ¥æ¨æ–­æ€»ä½“ç‰¹å¾ã€‚ä¾‹ï¼šäº§å“è´¨é‡æ£€æŸ¥ï¼Œä¸€èˆ¬é‡‡ç”¨æŠ½æ£€ï¼Œæ ¹æ®æ‰€æŠ½æ ·æœ¬çš„è´¨é‡åˆæ ¼ç‡ä½œä¸ºæ€»ä½“çš„è´¨é‡åˆæ ¼ç‡çš„ä¸€ä¸ªä¼°è®¡ã€‚ ç»Ÿè®¡å’Œæ¦‚ç‡çš„å…³ç³»ï¼Ÿç»Ÿè®¡æ˜¯è§‚å¯Ÿæ‰€å¾—æ•°æ®çš„é›†åˆï¼Œæ˜¯å¯¹äºè¿‡å»å‘ç”Ÿçš„äº‹ä»¶çš„æè¿°ã€‚æ¦‚ç‡ï¼šå¯¹æœªæ¥å°†å‘ç”Ÿäº‹ä»¶çš„æè¿°ã€‚ å¦‚ä½•æ¦‚ç‡ç†è®ºç›¸ç»“åˆï¼Ÿ ç»Ÿè®¡æµç¨‹æ”¶é›†æ•°æ®ï¼Œåˆ†æï¼Œåšå‡ºç»“è®º åˆ†æå·¥å…·ï¼ˆåŸºæœ¬ç»Ÿè®¡é‡ï¼‰é›†ä¸­è¶‹åŠ¿â€”â€”&gt;å¹³å‡å€¼åˆ†æ•£æ€§å’Œå˜å¼‚æ€§â€”â€”&gt;æ–¹å·®æœºä¼šâ€”â€”&gt;æ¦‚ç‡é¢„æµ‹é•¿æœŸç»“æœâ€”â€”&gt;æœŸæœ› å›¾ åŸºæœ¬æ¦‚å¿µæ€»ä½“å’Œæ ·æœ¬æ€»ä½“å‚æ•°å’Œæ ·æœ¬ç»Ÿè®¡é‡å¾ˆå¤šæ—¶å€™æ€»ä½“æ˜¯ä¸çŸ¥é“çš„ã€‚å¦‚ä½•é€šè¿‡éƒ¨åˆ†æ¥æ¨è®ºæ•´ä½“ï¼Ÿå‡ ç§æƒ…å†µï¼Ÿ åˆ†å¸ƒæ­£æ€åˆ†å¸ƒä¸ºä»€ä¹ˆæ­£æ€åˆ†å¸ƒä½¿ç”¨é¢‘ç‡é«˜ï¼Ÿç†è®ºä»·å€¼é«˜ï¼Œé™ä½è®¡ç®—çš„å¤æ‚æ€§ã€‚åº”ç”¨ä»·å€¼é«˜ï¼Œå®è·µåº”ç”¨ä¸­ï¼Œå¤§é‡çš„ç»“æœéµå¾ªï¼ˆæˆ–è¿‘ä¼¼äºï¼‰æ­£æ€åˆ†å¸ƒã€‚ ##ä¸­å¿ƒæé™å®šç† å‚è€ƒç½‘ç«™","categories":[{"name":"ç¨‹åºå‘˜çš„FRMå­¦ä¹ ä¹‹è·¯","slug":"ç¨‹åºå‘˜çš„FRMå­¦ä¹ ä¹‹è·¯","permalink":"http://yoursite.com/categories/ç¨‹åºå‘˜çš„FRMå­¦ä¹ ä¹‹è·¯/"}],"tags":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"http://yoursite.com/tags/ç»Ÿè®¡å­¦/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://yoursite.com/tags/æ•°å­¦/"}],"keywords":[{"name":"ç¨‹åºå‘˜çš„FRMå­¦ä¹ ä¹‹è·¯","slug":"ç¨‹åºå‘˜çš„FRMå­¦ä¹ ä¹‹è·¯","permalink":"http://yoursite.com/categories/ç¨‹åºå‘˜çš„FRMå­¦ä¹ ä¹‹è·¯/"}]},{"title":"CDHå­¦ä¹ å’Œå®‰è£…","slug":"02å¤§æ•°æ®/CDHå­¦ä¹ ","date":"2018-05-23T00:00:00.000Z","updated":"2018-12-10T17:13:21.955Z","comments":true,"path":"2018/05/23/02å¤§æ•°æ®/CDHå­¦ä¹ /","link":"","permalink":"http://yoursite.com/2018/05/23/02å¤§æ•°æ®/CDHå­¦ä¹ /","excerpt":"","text":"æµ‹è¯•ç¯å¢ƒå®‰è£…docker pull cloudera/quickstart:latest docker rm cloudera -f docker run â€“name cloudera â€“privileged=true â€“hostname=quickstart.cloudera -p 8020:8020 -p 7180:7180 -p 8888:8888 -p 21000:21000 -p 21050:21050 -p 50070:50070 -p 50075:50075 -p 50010:50010 -p 50020:50020 -p 60010:60010 -p 4040:4040 -p 18088:18088 -p 60020:60020 -t -i -d -v /etc/localtime:/etc/localtime:ro cloudera/quickstart /usr/bin/docker-quickstart docker run â€“name cloudera â€“privileged=true â€“hostname=quickstart.cloudera -p 8020:8020 -p 7180:7180 -p 8888:8888 -p 21000:21000 -p 21050:21050 -p 50070:50070 -p 50075:50075 -p 50010:50010 -p 50020:50020 -p 60010:60010 -p 2181:2181 -p 60020:60020 -p 60000:60000 -p 18088:18088 -t -i -d -v /etc/localtime:/etc/localtime:ro cloudera/quickstart /usr/bin/docker-quickstart docker start cloudera å¯ä»¥é€šè¿‡/usr/bin/docker-quickstart startæ¥å¯åŠ¨æ‰€æœ‰çš„CDHæœåŠ¡ã€‚ å¦‚æœéœ€è¦å•ç‹¬å¯åŠ¨å¯å•ç‹¬è¿è¡Œ/usr/binä¸‹çš„å‘½ä»¤ã€‚ é›†ç¾¤æµ‹è¯•cloudera-managerä¸ºåˆ†å¸ƒå¼é›†ç¾¤è®¾è®¡çš„ï¼Œé»˜è®¤æ²¡æœ‰å¯åŠ¨ï¼Œå¦‚æœéœ€è¦è¿›å…¥è¯¥å®¹å™¨ï¼Œå¹¶æ‰§è¡Œ/home/cloudera/cloudera-manager --force --expressæ¥å¯åŠ¨cloudera-managerï¼Œæœ‰äº›æœåŠ¡å¯èƒ½è¢«åœæ‰ã€‚ http://10.168.1.111:7180cloudera/clouderaè¿›å…¥ç³»ç»Ÿ è¿›å…¥å®¹å™¨docker exec -ti cloudera /bin/bash å¸¸ç”¨çš„ç®¡ç†åœ°å€é»˜è®¤ç”¨æˆ·ï¼šcloudera/cloudera ç»„ä»¶ web hue http://10.168.1.111:8888 hbase http://10.168.1.111:60010 æˆ–è€… http://10.168.1.111:8888/hbase/#Cluster hdfs http://10.168.1.111:50070 æ•°æ®åº“å¯†ç scmæ•°æ®åº“çš„ç”¨æˆ·åï¼Œå¯†ç ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢è·å¾— more /etc/cloudera-scm-server/db.properties mysql -ucm -pcloudera å¸¸ç”¨è¿›ç¨‹å’Œwebç«¯å£ ç»„ä»¶ èŠ‚ç‚¹ é»˜è®¤ç«¯å£ é…ç½® ç”¨é€”è¯´æ˜ HDFS NameNode 50070 dfs.namenode.http-address httpæœåŠ¡çš„ç«¯å£ HDFS DataNode 50010 dfs.datanode.address datanodeæœåŠ¡ç«¯å£ï¼Œç”¨äºæ•°æ®ä¼ è¾“ HDFS DataNode 50075 dfs.datanode.http.address httpæœåŠ¡çš„ç«¯å£ HDFS DataNode 50020 dfs.datanode.ipc.address ipcæœåŠ¡çš„ç«¯å£ HDFS SecondaryNameNode HDFS 8020 é«˜å¯ç”¨çš„HDFS RPCç«¯å£ YARN Resourcemanager 8088 yarn.resourcemanager.webapp.address httpï¼ŒYarn çš„WEB UIæ¥å£ YARN NodeManager Hbase HMaster 60000 HBase Masterç®¡ç†ç«¯å£ Hbase HMaster 60010 HBase Master Web UIç®¡ç†ç«¯å£ Hbase HRegionServer 60020 HRegionServerå‘HMasterå®šæœŸæ±‡æŠ¥èŠ‚ç‚¹çš„è´Ÿè½½çŠ¶å†µ Hbase HRegionServer 60030 HBase Region Server Web UI ç«¯å£ Hive 9083 metastoreæœåŠ¡é»˜è®¤ç›‘å¬ç«¯å£ Hive 10000 Hive çš„JDBCç«¯å£ HUE 8888 Hue WebUI ç«¯å£ Spark 7077 spark çš„masterä¸workerè¿›è¡Œé€šè®¯çš„ç«¯å£ standaloneé›†ç¾¤æäº¤Applicationçš„ç«¯å£ Spark 8080 masterçš„WEB UIç«¯å£ èµ„æºè°ƒåº¦ Spark 8081 workerçš„WEB UI ç«¯å£ èµ„æºè°ƒåº¦ Spark 4040 Driverçš„WEB UI ç«¯å£ ä»»åŠ¡è°ƒåº¦ Spark 18088 spark.history.ui.port Spark 19888 mapreduce.jobhistory.webapp.address CDH 7180 Cloudera Manager WebUIç«¯å£ CDH 7182 Cloudera Manager Server ä¸ Agent é€šè®¯ç«¯å£ ZooKeeper Zookeeper Client 2181 Zookeeper Client ZooKeeper 2888 zookeeperé›†ç¾¤å†…é€šè®¯ä½¿ç”¨ï¼ŒLeaderç›‘å¬æ­¤ç«¯å£ ZooKeeper 3888 zookeeperç«¯å£ ç”¨äºé€‰ä¸¾leader ZooKeeper QuorumPeerMain Kafka 9092 Kafkaé›†ç¾¤èŠ‚ç‚¹ä¹‹é—´é€šä¿¡çš„RPCç«¯å£ Redis 6379 RedisæœåŠ¡ç«¯å£ ä¾‹å¦‚ï¼šé€šè¿‡è®¿é—®http://10.168.1.111:50070æ¥æ‰“å¼€ç•Œé¢è¿›è¡Œè®¿é—®NameNode hadoopé›†ç¾¤ä¸­ä¸»è¦è¿›ç¨‹master: NameNode, ResourceManager,slaves: DataNode, NodeManager, RunJar, MRAppMaster,YarnChild å…¶ä¸­ RunJar, MRAppMaster,YarnChildä¸éšç€æŸä¸ªjobçš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€jobçš„å®Œæˆè€Œç»ˆæ­¢ã€‚å®ƒä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼šRunJarï¼šå®Œæˆjobçš„åˆå§‹åŒ–ï¼ŒåŒ…æ‹¬è·å–jobIDï¼Œå°†jaråŒ…ä¸Šä¼ è‡³hdfsç­‰ã€‚MRAppMasterï¼šæ¯ä¸ªjobä¸€ä¸ªè¿›ç¨‹ï¼Œä¸»è¦è·Ÿè¸ªjobçš„è¿è¡Œæƒ…å†µï¼Œå‘RMç”³è¯·èµ„æºç­‰ã€‚YarnChildï¼šè¿è¡Œå…·ä½“çš„map/reduce taskã€‚ jobå¯åŠ¨è¿‡ç¨‹ï¼šResourceManageï¼ŒNodeManager-&gt;RunJar-&gt;MRAppMaster-&gt;YarnChild jobé€€å‡ºè¿‡ç¨‹ï¼šYarnChild-&gt;MRAppMaster-&gt;RunJarå³æ‰€æœ‰çš„map/reduceå‡å®Œæˆåï¼ŒMRAppMasteræ‰é€€å‡ºï¼Œæœ€åRunJaré€€å‡ºï¼Œjobå®Œæˆ å‚è€ƒhttps://hub.docker.com/r/cloudera/clusterdock/ https://wenku.baidu.com/view/1c2ad6ee43323968001c92be.html http://www.aboutyun.com/thread-7513-1-1.html cdsæ­å»ºhttps://blog.csdn.net/u010476994/article/details/79257565https://blog.csdn.net/u010936936/article/details/73650417 https://www.cloudera.com/documentation/enterprise/5-6-x/topics/cdh_ig_spark_configure.html CDH5 å¿«é€Ÿå…¥é—¨æ‰‹å†Œv1.0http://blog.itpub.net/31439905/viewspace-2134540/ é”™è¯¯https://www.2cto.com/net/201609/544957.html ä¿®æ”¹å¯†ç å‚è€ƒhttps://blog.csdn.net/yujin2010good/article/details/72482007","categories":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"Hadoop","slug":"Hadoop","permalink":"http://yoursite.com/tags/Hadoop/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"}],"keywords":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}]},{"title":"Elasticsearchå…¥é—¨å­¦ä¹ ","slug":"02å¤§æ•°æ®/elasticsearchå­¦ä¹ ","date":"2018-05-17T00:00:00.000Z","updated":"2018-12-10T17:14:58.608Z","comments":true,"path":"2018/05/17/02å¤§æ•°æ®/elasticsearchå­¦ä¹ /","link":"","permalink":"http://yoursite.com/2018/05/17/02å¤§æ•°æ®/elasticsearchå­¦ä¹ /","excerpt":"","text":"dockerå®‰è£…å‡è®¾å®¿ä¸»æœºipä¸º10.168.1.111ä¸‹è½½ docker pull elasticsearch:5.6.4 docker pull mobz/elasticsearch-head:5 å®‰è£…esmasteré…ç½®mkdir -p ~/mydocker/esdata1/nodes vi ~/mydocker/es1.yml cluster.name: &quot;dali&quot; node.name: node1 node.master: true node.data: true http.cors.enabled: true http.cors.allow-origin: &quot;*&quot; xpack.security.enabled: false network.host: 0.0.0.0 discovery.zen.minimum_master_nodes: 1 docker run -u 1000 -d â€“name es1 -p 9200:9200 -p 9300:9300 -v ~/mydocker/es1.yml:/usr/share/elasticsearch/config/elasticsearch.yml -v ~/mydocker/esdata1:/usr/share/elasticsearch/data docker.elastic.co/elasticsearch/elasticsearch:5.6.4 docker run -u 1000 -d â€“name es1 -p 9200:9200 -p 9300:9300 -v ~/mydocker/es1.yml:/usr/share/elasticsearch/config/elasticsearch.yml -v ~/mydocker/esdata1:/usr/share/elasticsearch/data elasticsearch:5.6.4 å¦‚æœå¯åŠ¨å‡ºç°docker max virtual memory areas vm.max_map_countsudo sysctl -w vm.max_map_count=655360 nodeé…ç½®mkdir -p ~/mydocker/esdata2/nodes vi ~/mydocker/es2.yml cluster.name: &quot;dali&quot; node.name: node2 node.master: false node.data: true http.cors.enabled: true http.cors.allow-origin: &quot;*&quot; xpack.security.enabled: false network.host: 0.0.0.0 discovery.zen.minimum_master_nodes: 1 discovery.zen.ping.unicast.hosts: es1 docker run -d â€“name es2 â€“link es1:es1 -p 9201:9200 -p 9301:9300 -v ~/mydocker/es2.yml:/usr/share/elasticsearch/config/elasticsearch.yml -v ~/mydocker/esdata2:/usr/share/elasticsearch/data docker.elastic.co/elasticsearch/elasticsearch:5.6.4 å®‰è£…headelasticsearch headæ˜¯é›†ç¾¤ç®¡ç†å·¥å…·ã€æ•°æ®å¯è§†åŒ–ã€å¢åˆ æ”¹æŸ¥å·¥å…·ï¼Œ Elasticsearch è¯­å¥å¯è§†åŒ– å®‰è£…è¿‡ç¨‹å¦‚ä¸‹ï¼š docker run -d â€“name head -p 9100:9100 docker.io/mobz/elasticsearch-head:5 é€šè¿‡è®¿é—®http://10.168.1.111:9100ï¼Œæ‰“å¼€headç•Œé¢ï¼Œä¿®æ”¹é›†ç¾¤åœ°å€http://10.168.1.111:9200/ å®‰è£…ä¸­æ–‡åˆ†è¯è¿›å…¥å®¹å™¨ docker exec -it es1 /bin/bash æ‰§è¡Œå¦‚ä¸‹: ./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v5.6.4/elasticsearch-analysis-ik-5.6.4.zip é‡æ–°å¯åŠ¨docker restart es1 åŸºæœ¬æ¦‚å¿µNode ä¸ ClusterèŠ‚ç‚¹ï¼ˆNodeï¼‰ï¼Œä¸€ä¸ªè¿è¡Œçš„Elasticearchå®ä¾‹ï¼Œä¸€èˆ¬æ˜¯ä¸€å°æœºå™¨ä¸Šçš„ä¸€ä¸ªè¿›ç¨‹ã€‚ä¸€ç»„èŠ‚ç‚¹æ„æˆä¸€ä¸ªé›†ç¾¤ï¼ˆclusterï¼‰ ç´¢å¼•ï¼ˆindexï¼‰/æ–‡æ¡£ï¼ˆdocumentï¼‰ç´¢å¼•çœ‹æˆå…³ç³»å‹æ•°æ®åº“çš„è¡¨ã€‚Indexé‡Œé¢å•æ¡çš„è®°å½•ç§°ä¸º Documentï¼ˆæ–‡æ¡£ï¼‰ã€‚è®¸å¤šæ¡ Document æ„æˆäº†ä¸€ä¸ª Indexã€‚ä¸€ä¸ªæ–‡æ¡£ç›¸å½“äºæ•°æ®åº“è¡¨ä¸­çš„ä¸€è¡Œè®°å½•ã€‚ æ–‡æ¡£çš„jsonè¡¨ç¤ºå¦‚ä¸‹: { &quot;user&quot;: &quot;å¼ ä¸‰&quot;, &quot;title&quot;: &quot;å·¥ç¨‹å¸ˆ&quot;, &quot;desc&quot;: &quot;æ•°æ®åº“ç®¡ç†&quot; } åˆ†ç‰‡ å‰¯æœ¬ä¸ºäº†æ”¯æŒæ›´å¤§é‡çš„æ•°æ®ï¼Œç´¢å¼•ä¸€èˆ¬ä¼šæŒ‰æŸä¸ªç»´åº¦åˆ†æˆå¤šä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªåˆ†ç‰‡ï¼Œåˆ†ç‰‡è¢«èŠ‚ç‚¹(Node)ç®¡ç†ã€‚ åŒä¸€ä¸ªåˆ†ç‰‡(Shard)çš„å¤‡ä»½æ•°æ®ï¼Œä¸€ä¸ªåˆ†ç‰‡å¯èƒ½ä¼šæœ‰0ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬ï¼Œè¿™äº›å‰¯æœ¬ä¸­çš„æ•°æ®ä¿è¯å¼ºä¸€è‡´æˆ–æœ€ç»ˆä¸€è‡´ã€‚ åŸºæœ¬æ“ä½œç´¢å¼•æ“ä½œæ–°å»ºå’Œåˆ é™¤Indexcurl -X PUT &apos;localhost:9200/weather&apos; curl -X DELETE &apos;localhost:9200/weather&apos; ç´¢å¼•åº“åç§°å¿…é¡»è¦å…¨éƒ¨å°å†™ï¼Œä¸èƒ½ä»¥ä¸‹åˆ’çº¿å¼€å¤´ï¼Œä¹Ÿä¸èƒ½åŒ…å«é€—å· æŸ¥è¯¢æ‰€æœ‰çš„ç´¢å¼•curl -X GET &apos;http://localhost:9200/_cat/indices?v&apos; åˆ›å»ºæ–‡æ¡£æ ¼å¼http://localhost:9200/&lt;index&gt;/&lt;type&gt;/[&lt;id&gt;]åˆ†åˆ«ä¸ºï¼šç´¢å¼•åç§°/ç±»å‹åç§°/ID curl -XPUT &apos;http://10.168.1.111:9200/blog/article/1&apos; -d&apos;{&quot;title&quot;: &quot;New version of Elasticsearch released!&quot;,&quot;content&quot;:&quot;Version 1.0 released today!&quot;}&apos; ç´¢å¼•å’Œç±»å‹æ˜¯å¿…éœ€çš„ï¼Œè€Œidéƒ¨åˆ†æ˜¯å¯é€‰çš„å¦‚æœä¸æŒ‡å®šIDï¼ŒElasticSearchä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªIDã€‚åº”è¯¥ä½¿ç”¨HTTPçš„POSTè€Œä¸æ˜¯PUTè¯·æ±‚å¦‚æœä½¿ç”¨put,å‡ºç°No handler found for urié”™è¯¯ ä»¥ä¸‹ä¸ºä¸æŒ‡å®šidçš„ä½¿ç”¨ç¤ºä¾‹ curl -XPOST &apos;http://10.168.1.111:9200/blog/article/&apos; -d&apos;{&quot;title&quot;: &quot;New version of Elasticsearch released!&quot;,&quot;content&quot;:&quot;Version 2.0 released today!&quot;}&apos; æ›´æ–°æ–‡æ¡£curl -XPOST http://localhost:9200/blog/article/1/_update -d &apos;{&quot;script&quot;: &quot;ctx._source.content = \\&quot;new content\\&quot;&quot;}&apos; æ£€ç´¢æ–‡æ¡£curl -XGET http://localhost:9200/blog/article/1 ##ä¸­æ–‡ç´¢å¼•è®¾ç½® å‡¡æ˜¯éœ€è¦æœç´¢çš„ä¸­æ–‡å­—æ®µï¼Œéƒ½è¦å•ç‹¬è®¾ç½®ä¸€ä¸‹ curl -X PUT â€˜localhost:9200/accountsâ€™ -d â€˜{ â€œmappingsâ€: { â€œpersonâ€: { â€œpropertiesâ€: { â€œuserâ€: { â€œtypeâ€: â€œtextâ€, â€œanalyzerâ€: â€œik_max_wordâ€, â€œsearch_analyzerâ€: â€œik_max_wordâ€ }, â€œtitleâ€: { â€œtypeâ€: â€œtextâ€, â€œanalyzerâ€: â€œik_max_wordâ€, â€œsearch_analyzerâ€: â€œik_max_wordâ€ }, â€œdescâ€: { â€œtypeâ€: â€œtextâ€, â€œanalyzerâ€: â€œik_max_wordâ€, â€œsearch_analyzerâ€: â€œik_max_wordâ€ } } } }}â€™ æ•°æ®æŸ¥è¯¢è¿”å›æ‰€æœ‰è®°å½•curl &apos;localhost:9200/accounts/person/_search&apos; å…¨æ–‡æœç´¢curl &apos;localhost:9200/accounts/person/_search&apos; -d &apos; { &quot;query&quot; : { &quot;match&quot; : { &quot;desc&quot; : &quot;è½¯ä»¶&quot; }} }&apos; å¦‚æœæœç´¢å•ä¸ª curl &apos;localhost:9200/accounts/person/_search&apos; -d &apos; { &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;query_string&quot;: { &quot;default_field&quot;: &quot;_all&quot;, &quot;query&quot;: &quot;å¼ &quot; } } ], &quot;must_not&quot;: [ ], &quot;should&quot;: [ ] } }, &quot;from&quot;: 0, &quot;size&quot;: 10, &quot;sort&quot;: [ ], &quot;aggs&quot;: { } }&apos; orcurl &apos;localhost:9200/accounts/person/_search&apos; -d &apos; { &quot;query&quot; : { &quot;match&quot; : { &quot;desc&quot; : &quot;è½¯ä»¶ ç³»ç»Ÿ&quot; }} }&apos; æ‰§è¡Œå¤šä¸ªå…³é”®è¯çš„andæœç´¢ï¼Œå¿…é¡»ä½¿ç”¨å¸ƒå°”æŸ¥è¯¢ curl &apos;localhost:9200/accounts/person/_search&apos; -d &apos; { &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;match&quot;: { &quot;desc&quot;: &quot;è½¯ä»¶&quot; } }, { &quot;match&quot;: { &quot;desc&quot;: &quot;ç³»ç»Ÿ&quot; } } ] } } }&apos; å®‰è£…kibanadocker pull docker.elastic.co/kibana/kibana:5.6.2 docker run -p 5601:5601 -e &quot;ELASTICSEARCH_URL=http://10.168.1.111:9200&quot; --name my-kibana \\ --network host -d docker.elastic.co/kibana/kibana:5.6.2 å‚è€ƒç¤¾åŒºhttps://elasticsearch.cn Elasticsearch: æƒå¨æŒ‡å—","categories":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"Elasticsearch","slug":"Elasticsearch","permalink":"http://yoursite.com/tags/Elasticsearch/"}],"keywords":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}]},{"title":"Dockerä¸‹MongoDBå¤åˆ¶é›†","slug":"02å¤§æ•°æ®/mongodå­¦ä¹ ","date":"2018-05-17T00:00:00.000Z","updated":"2018-12-10T17:13:48.002Z","comments":true,"path":"2018/05/17/02å¤§æ•°æ®/mongodå­¦ä¹ /","link":"","permalink":"http://yoursite.com/2018/05/17/02å¤§æ•°æ®/mongodå­¦ä¹ /","excerpt":"","text":"å®‰è£…è¿‡ç¨‹å®‰è£…docker run -p27018:27017--name mongo0 -d mongo:3.6.2-jessie --replSet &quot;rs0&quot; --bind_ip_all docker run --name mongo1 -d mongo:3.6.2-jessie --replSet &quot;rs0&quot; --bind_ip_all docker run --name mongo2 -d mongo:3.6.2-jessie --replSet &quot;rs0&quot; --bind_ip_all æŸ¥è¯¢ipåœ°å€docker inspect mongo0 | grep IPAddressï¼Œå¯çŸ¥åœ°å€å¦‚ä¸‹ mongo0: 172.17.0.2:27017mongo1: 172.17.0.3:27017mongo2: 172.17.0.4:27017 /data/db/usr/bin/mongod å¯åŠ¨å’Œå…³é—­å¯åŠ¨mongo å…³é—­è¿›å…¥use admindb.shutdownServer()ï¼› å¤åˆ¶æµ‹è¯•åœ¨ä¸»èŠ‚ç‚¹ä¸­æ’å…¥æ•°æ®è¿›å…¥åˆ°172.17.0.2å®¹å™¨mongo mongodb://172.17.0.2:27017,172.17.0.3:27017,172.17.0.4:27017/test?replicaSet=rs0 åœ¨rs0:PRIMARY&gt;ä¸‹æ‰§è¡Œ db.order.insert({price: 1})WriteResult({ â€œnInsertedâ€ : 1 }) ä»åº“è¿›è¡Œè¯»æ“ä½œmongo --host 172.17.0.3åœ¨rs0:SECONDARY&gt; ä¸‹æ‰§è¡Œ db.getMongo().setSlaveOk()å…è®¸å½“å‰è¿æ¥å¯¹ä»åº“è¿›è¡Œè¯»æ“ä½œè¿›è¡ŒæŸ¥è¯¢db.order.find(){ â€œ_idâ€ : ObjectId(â€œ5a7c5473b74e8cf1bb890979â€), â€œpriceâ€ : 1 } æŸ¥è¯¢çŠ¶æ€rs.status()æŸ¥è¯¢ &quot;_id&quot; : 2, &quot;name&quot; : &quot;172.17.0.4:27017&quot;, &quot;health&quot; : 1, &quot;state&quot; : 1, &quot;stateStr&quot; : &quot;PRIMARY&quot;, é‡æ–°é€‰ä¸¾æµ‹è¯•å…³é—­172.17.0.4docker stop mongo2 é‡æ–°æŸ¥è¯¢ï¼Œè¿™æ—¶ä¸»èŠ‚ç‚¹è¿›è¡Œäº†å˜æ›´ã€‚ å¸¸ç”¨å‘½ä»¤æŸ¥è¯¢åº“åœ¨ä¸»åº“ç¯å¢ƒä¸‹ show dbs; åˆ›å»ºå’Œåˆ‡æ¢åº“use mydb; or mongo mydb; å‚è€ƒhttps://www.cnblogs.com/jay54520/p/8433515.html#%E5%A4%8D%E5%88%B6%E7%89%B9%E6%80%A7 http://blog.51cto.com/5063935/2074332","categories":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"MongoDB","slug":"MongoDB","permalink":"http://yoursite.com/tags/MongoDB/"}],"keywords":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}]},{"title":"Hadoopå¸¸ç”¨ç»„ä»¶æ“ä½œ","slug":"02å¤§æ•°æ®/Hadoopå¸¸ç”¨ç»„ä»¶æ“ä½œ","date":"2018-05-17T00:00:00.000Z","updated":"2018-12-10T17:13:32.396Z","comments":true,"path":"2018/05/17/02å¤§æ•°æ®/Hadoopå¸¸ç”¨ç»„ä»¶æ“ä½œ/","link":"","permalink":"http://yoursite.com/2018/05/17/02å¤§æ•°æ®/Hadoopå¸¸ç”¨ç»„ä»¶æ“ä½œ/","excerpt":"","text":"æµ‹è¯•ç¯å¢ƒå®‰è£…QuickStart VMæ˜¯ä¸€ä¸ªåŒ…å«äº†åˆ†å¸ƒå¼æ•°æ®å¤„ç†å¹³å°çš„è™šæ‹Ÿé•œåƒï¼Œæ–¹ä¾¿ç”¨æˆ·è¯•è¿è¡ŒCDHï¼Œå¹¶äº†è§£CDHçš„æ–°åŠŸèƒ½ã€æ–°ç»„ä»¶ã€‚Dockerä¹Ÿå¯ä»¥ä½œä¸ºå¿«é€Ÿå¯åŠ¨é¡¹æ¥éƒ¨ç½²å¯åŠ¨Apache Hadoopå’ŒClouderaï¼Œè€Œä¸”é€Ÿåº¦è¦æ¯”å…¶ä»–å¯åŠ¨æ–¹å¼æ›´å¿«ã€‚ä½¿ç”¨çš„é•œåƒä¸ºcloudera/quickstart:latest é¢„è£…è½¯ä»¶åŒ…(MySQLã€Oozieã€Hadoopã€Hiveã€Zookeeperã€Stormã€Kafkaä»¥åŠSparkç­‰ç­‰)ã€‚ #hdfs# å¸¸ç”¨å‘½ä»¤hadoop fs -mkdir /user/root/temp hadoop fs -ls /user/root/ hadoop fs -put express-deployment.json /user/root/temp/ hadoop fs -ls /user/root/temp/ å‚è€ƒ hbaseæµ‹è¯•å¯åŠ¨hbase shell æŸ¥çœ‹çŠ¶æ€status åˆ›å»ºè¡¨å»ºç«‹ä¸€ä¸ªè¡¨scoresï¼Œæœ‰ä¸¤ä¸ªåˆ—æ—gradå’Œcourese create &apos;scores&apos;,&apos;grad&apos;,&apos;courese&apos; create &apos;test&apos;,&apos;a&apos; æŸ¥çœ‹è¡¨list æŸ¥çœ‹è¡¨ç»“æ„describe â€˜scoresâ€™ æ’å…¥æ•°æ®put â€˜è¡¨åâ€™,â€™è¡Œé”®åâ€™,â€™åˆ—åâ€™,â€™å•å…ƒæ ¼å€¼â€™,â€™æ—¶é—´æˆ³â€™ï¼Œæ—¶é—´æˆ³å¯ä»¥çœç•¥ put â€˜scoresâ€™,â€™Tomâ€™,â€™courese:mathâ€™,â€™100â€™put â€˜scoresâ€™,â€™Markâ€™,â€™courese:englishâ€™,â€™120â€™ put â€˜scoresâ€™,â€™Markâ€™,â€™gradâ€™,â€™60â€™put â€˜scoresâ€™,â€™Markâ€™,â€™gradâ€™,â€™61â€™put â€˜scoresâ€™,â€™Markâ€™,â€™gradxxâ€™,â€™6â€™ æŸ¥çœ‹æ•°æ®//æŸ¥çœ‹è¡¨æ‰€æœ‰è®°å½•scan â€˜scoresâ€™ //æ¡ä»¶æŸ¥è¯¢get â€˜scoresâ€™,â€™Markâ€™get â€˜scoresâ€™,â€™Markâ€™,â€™gradâ€™ ###ä¿®æ”¹è¡¨ç»“æ„(æ–°å¢åˆ—æ—â€™rankingâ€™) å¢åŠ ä¸€åˆ—æ— alter â€˜scoresâ€™,NAME=â€™rankingâ€™ put â€˜scoresâ€™,â€™Tomâ€™,â€™rankingâ€™,1put â€˜scoresâ€™,â€™Markâ€™,â€™rankingâ€™,2put â€˜scoresâ€™,â€™Markâ€™,â€™ranking:m1â€™,7 ###åˆ é™¤è¡¨disable â€˜hbasenameâ€™ drop â€˜scoresâ€™ webé¡µé¢è¿›è¡Œè®¿é—® hiveæµ‹è¯•å¯åŠ¨ hive zookeeperå¯åŠ¨ zookeeper-client è¿›å…¥åï¼Œå¯ä»¥æ‰§è¡Œçš„å‘½ä»¤ æ˜¾ç¤ºæ ¹ç›®å½•ä¸‹æ–‡ä»¶ï¼šls /åˆ›å»ºæ–‡ä»¶ï¼Œå¹¶è®¾ç½®åˆå§‹å†…å®¹ï¼š create /zk &quot;test&quot;è·å–æ–‡ä»¶å†…å®¹ï¼š get /zkä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼š set /zk &quot;zkbak&quot;åˆ é™¤æ–‡ä»¶ï¼š delete /zk å‚è€ƒ å‚è€ƒhttps://hub.docker.com/r/cloudera/clusterdock/ https://wenku.baidu.com/view/1c2ad6ee43323968001c92be.html ä»MySQLåˆ°Hivehttps://www.cnblogs.com/charlist/p/7122198.htmlhttps://blog.csdn.net/scgaliguodong123_/article/details/46626779","categories":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"Hadoop","slug":"Hadoop","permalink":"http://yoursite.com/tags/Hadoop/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"}],"keywords":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}]},{"title":"Hbaseå­¦ä¹ ","slug":"02å¤§æ•°æ®/hbaseå­¦ä¹ ","date":"2018-05-17T00:00:00.000Z","updated":"2018-12-10T17:13:39.761Z","comments":true,"path":"2018/05/17/02å¤§æ•°æ®/hbaseå­¦ä¹ /","link":"","permalink":"http://yoursite.com/2018/05/17/02å¤§æ•°æ®/hbaseå­¦ä¹ /","excerpt":"","text":"HBaseçš„ç‰¹æ€§å®¹é‡å·¨å¤§HBaseçš„å•è¡¨å¯ä»¥æœ‰ç™¾äº¿è¡Œã€ç™¾ä¸‡åˆ— é¢å‘åˆ—HBaseæ˜¯é¢å‘åˆ—çš„å­˜å‚¨å’Œæƒé™æ§åˆ¶ï¼Œå¹¶æ”¯æŒåˆ—ç‹¬ç«‹æ£€ç´¢ã€‚ vsä¼ ç»Ÿè¡Œå¼æ•°æ®åº“ æ•°æ®æ˜¯æŒ‰è¡Œå­˜å‚¨çš„ æ²¡æœ‰ç´¢å¼•çš„æŸ¥è¯¢ä½¿ç”¨å¤§é‡I/O å»ºç«‹ç´¢å¼•å’Œç‰©åŒ–è§†å›¾éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å’Œèµ„æº åˆ—å¼æ•°æ®åº“çš„ç‰¹æ€§ æ•°æ®æ˜¯æŒ‰è¡Œå­˜å‚¨çš„ æ•°æ®å³ç´¢å¼•ï¼Œåªè®¿é—®æŸ¥è¯¢æ¶‰åŠçš„åˆ—ï¼Œå¯ä»¥å¤§é‡é™ä½ç³»ç»ŸI/O æ•°æ®ç±»å‹ä¸€è‡´ï¼Œæ•°æ®ç‰¹å¾ç›¸ä¼¼ï¼Œå¯ä»¥é«˜æ•ˆå‹ç¼© ç¨€ç–æ€§åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé‡‡ç”¨ä¼ ç»Ÿè¡Œå¼å­˜å‚¨çš„æ•°æ®å¾€å¾€æ˜¯ç¨€ç–çš„ï¼Œå³å­˜åœ¨å¤§é‡ä¸ºç©ºï¼ˆNULLï¼‰çš„åˆ—ï¼Œè€Œè¿™äº›åˆ—éƒ½æ˜¯å ç”¨å­˜å‚¨ç©ºé—´çš„ï¼Œè¿™å°±é€ æˆå­˜å‚¨ç©ºé—´çš„æµªè´¹ã€‚å¯¹äºHBaseæ¥è®²ï¼Œä¸ºç©ºçš„åˆ—å¹¶ä¸å ç”¨å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤ï¼Œè¡¨å¯ä»¥è®¾è®¡å¾—éå¸¸ç¨€ç–ã€‚ æ‰©å±•æ€§HBaseåº•å±‚æ–‡ä»¶å­˜å‚¨ä¾èµ–HDFSï¼Œä»â€œåŸºå› â€ä¸Šå†³å®šäº†å…¶å…·å¤‡å¯æ‰©å±•æ€§ã€‚ é«˜å¯é æ€§HBaseæä¾›WALå’ŒReplicationæœºåˆ¶ã€‚å‰è€…ä¿è¯äº†æ•°æ®å†™å…¥æ—¶ä¸ä¼šå› é›†ç¾¤å¼‚å¸¸è€Œå¯¼è‡´å†™å…¥æ•°æ®çš„ä¸¢å¤±ï¼›åè€…ä¿è¯äº†åœ¨é›†ç¾¤å‡ºç°ä¸¥é‡é—®é¢˜æ—¶ï¼Œæ•°æ®ä¸ä¼šå‘ç”Ÿä¸¢å¤±æˆ–è€…æŸåã€‚ æ“ä½œ## create â€˜JSpider_cn.made-in-china.comâ€™,â€™aâ€™ è¯»å–HBaseä¸èƒ½æ”¯æŒwhereæ¡ä»¶ã€Order by æŸ¥è¯¢ï¼Œåªæ”¯æŒæŒ‰ç…§Row keyæ¥æŸ¥è¯¢ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡HBaseæä¾›çš„APIè¿›è¡Œæ¡ä»¶è¿‡æ»¤ scan â€˜blogtableâ€™ ,{COLUMNS =&gt; [â€˜text:â€™,â€™info:titleâ€™] } â€”&gt; åˆ—å‡º æ–‡ç« çš„å†…å®¹å’Œæ ‡é¢˜scan â€˜blogtableâ€™ , {COLUMNS =&gt; â€˜info:urlâ€™ , STARTROW =&gt; â€˜2â€™} â€”&gt; æ ¹æ®èŒƒå›´åˆ—å‡º æ–‡ç« çš„å†…å®¹å’Œæ ‡é¢˜ get â€˜blogtableâ€™,â€™1â€™, {COLUMN =&gt; â€˜infoâ€™} â€”&gt; åˆ—å‡º æ–‡ç« id ç­‰äº1çš„info çš„å¤´(Head)å†…å®¹get â€˜blogtableâ€™,â€™1â€™, {COLUMN =&gt; [â€˜textâ€™,â€™info:authorâ€™]} å‚è€ƒhttps://hub.docker.com/r/cloudera/clusterdock/ https://blog.csdn.net/scgaliguodong123_/article/details/46626779http://www.cnblogs.com/cnmenglang/p/6555828.html å€¼å¾—å­¦ä¹ https://www.cnblogs.com/charlist/p/7063991.htmlæ¥å£æ–‡ç« https://cloud.tencent.com/developer/article/1018573 https://blog.csdn.net/dreamsigel/article/details/53835013?fps=1&amp;locationNum=8 Elasticsearch+hbasehttps://blog.csdn.net/cafebar123/article/details/79430782 elasticsearchæ•´åˆhbaseæ­¥éª¤https://blog.csdn.net/high2011/article/details/51596853 mobhttps://yq.aliyun.com/articles/586784 æ­å»ºå®‰è£…https://www.jianshu.com/p/b2d9194ad6f5 HBaseä¸­å­˜å–å›¾ç‰‡ã€æ–‡æ¡£æ•°æ®ï¼ˆHBase MOBï¼‰https://my.oschina.net/u/234661/blog/1553207","categories":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"Hbase","slug":"Hbase","permalink":"http://yoursite.com/tags/Hbase/"}],"keywords":[{"name":"ç©è½¬å¤§æ•°æ®","slug":"ç©è½¬å¤§æ•°æ®","permalink":"http://yoursite.com/categories/ç©è½¬å¤§æ•°æ®/"}]},{"title":"kuberneteså®‰è£…","slug":"11å®¹å™¨æŠ€æœ¯/kuberneteså®‰è£…","date":"2018-02-27T00:00:00.000Z","updated":"2018-12-10T15:21:23.904Z","comments":true,"path":"2018/02/27/11å®¹å™¨æŠ€æœ¯/kuberneteså®‰è£…/","link":"","permalink":"http://yoursite.com/2018/02/27/11å®¹å™¨æŠ€æœ¯/kuberneteså®‰è£…/","excerpt":"","text":"å®‰è£…åŸºæœ¬éƒ¨ç½²æ­¥éª¤1ï¼‰minionèŠ‚ç‚¹å®‰è£…docker 2ï¼‰minionèŠ‚ç‚¹é…ç½®è·¨ä¸»æœºå®¹å™¨é€šä¿¡ 3ï¼‰masterèŠ‚ç‚¹éƒ¨ç½²å¹¶å¯åŠ¨etcdã€kube-apiserverã€kube-controller-managerå’Œkube-schedulerç»„ä»¶ 4ï¼‰minionèŠ‚ç‚¹éƒ¨ç½²å¹¶å¯åŠ¨kubeletã€kube-proxyç»„ä»¶ minionèŠ‚ç‚¹é…ç½®è·¨ä¸»æœºå®¹å™¨é€šä¿¡ç”±äºdockerè‡ªèº«è¿˜æœªæ”¯æŒè·¨ä¸»æœºå®¹å™¨é€šä¿¡ï¼Œéœ€è¦å€ŸåŠ©dockerç½‘ç»œå¼€æºè§£å†³æ–¹æ¡ˆå®ç°ã€‚è¿™é‡Œåˆ©ç”¨OpenVSwichå³å¼€æ”¾å¼è™šæ‹Ÿäº¤æ¢æœºå®ç°å®¹å™¨è·¨ä¸»æœºé€šä¿¡ã€‚ ä»€ä¹ˆæ˜¯OpenVSwichï¼Ÿ OpenVSwichæ˜¯ä¸€ç§å¼€æºè½¯ä»¶ï¼Œé€šè¿‡è½¯ä»¶çš„æ–¹å¼å®ç°äºŒå±‚äº¤æ¢æœºåŠŸèƒ½ï¼Œä¸“é—¨ç®¡ç†å¤šç§Ÿèµäº‘è®¡ç®—ç½‘ç»œç¯å¢ƒï¼Œæä¾›è™šæ‹Ÿç½‘ç»œä¸­çš„è®¿é—®ç­–ç•¥ã€ç½‘ç»œéš”ç¦»ã€æµé‡ç›‘æ§ç­‰ã€‚æ—¢ç„¶æ˜¯è™šæ‹Ÿäº¤æ¢æœºï¼Œè‡ªç„¶ä¸ä¼ ç»Ÿçš„ç‰©ç†äº¤æ¢æœºæœ‰ç€ç›¸åŒçš„ç‰¹æ€§ï¼Œæ“ä½œä¸­å¯ä»¥æŒ‰ç…§ç†è§£ç‰©ç†äº¤æ¢æœºçš„æ–¹å¼å»æ“ä½œã€‚ å®‰è£…æ­¥éª¤å®‰è£…openvswitch sudo apt-get install openvswitch-switch bridge-utils æ·»åŠ ç½‘æ¡¥obr0 sudo ovs-vsctl add-br obr0 ç†è§£ä¸ºæ·»åŠ äº†ä¸€ä¸ªäº¤æ¢æœº å°†gre0æ¥å£åŠ å…¥åˆ°ç½‘æ¡¥obr0ï¼Œ è¿œç¨‹IPå†™å¯¹ç«¯IPï¼ˆåˆ›å»ºä¸€ä¸ªGREéš§é“å¹¶æ·»åŠ åˆ°ç½‘æ¡¥ä¸­ï¼‰ sudo ovs-vsctl add-port obr0 gre0 -- set Interface gre0 type=gre options:remote_ip=10.168.1.184 æŸ¥çœ‹ovsä¿¡æ¯ $ sudo ovs-vsctl show â€”â€”â€”-åˆ†ç•Œçº¿ 5ã€æ·»åŠ dockerç½‘æ¡¥ $ sudo brctl addbr kbr0 å°†obr0ç½‘æ¡¥åŠ å…¥kbr0ç½‘æ¡¥ï¼Œå¹¶å¯åŠ¨ $ sudo brctl addif kbr0 obr0 //sudo ip link dev kbr0 up $ sudo ip link set dev kbr0 up æŸ¥çœ‹ç½‘æ¡¥ä¿¡æ¯ $ sudo brctl show æ·»åŠ dockerç½‘æ¡¥é…ç½®ä¿¡æ¯ é…ç½®ç³»ç»Ÿè·¯ç”±å‚æ•°,é˜²æ­¢kubeadmæŠ¥è·¯ç”±è­¦å‘Šecho &quot; net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 &quot; &gt;&gt; /etc/sysctl.conf sysctl -p ##åŠ è½½é•œåƒ for image in ls -l . |awk &#39;{print $9}&#39;;do echo â€œ$image is loadingâ€&amp;&amp;docker load &lt; ${image};done å¯¼å…¥é•œåƒdocker load &lt; /root/k8s_images/docker_images/etcd-amd64_v3.1.10.tardocker load &lt;/root/k8s_images/docker_images/flannel\\:v0.9.1-amd64.tardocker load &lt;/root/k8s_images/docker_images/k8s-dns-dnsmasq-nanny-amd64_v1.14.7.tardocker load &lt;/root/k8s_images/docker_images/k8s-dns-kube-dns-amd64_1.14.7.tardocker load &lt;/root/k8s_images/docker_images/k8s-dns-sidecar-amd64_1.14.7.tardocker load &lt;/root/k8s_images/docker_images/kube-apiserver-amd64_v1.9.0.tardocker load &lt;/root/k8s_images/docker_images/kube-controller-manager-amd64_v1.9.0.tardocker load &lt;/root/k8s_images/docker_images/kube-scheduler-amd64_v1.9.0.tardocker load &lt; /root/k8s_images/docker_images/kube-proxy-amd64_v1.9.0.tardocker load &lt;/root/k8s_images/docker_images/pause-amd64_3.0.tardocker load &lt; /root/k8s_images/docker_images/kubernetes-dashboard_v1.8.1.tar apt-get install -y socat ebtables cat kube_apt_key.gpg | apt-key add - echo â€œdeb [arch=amd64] https://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial mainâ€ &gt;&gt; /etc/apt/sources.list apt-get update &amp;&amp; apt-get install -y kubelet kubeadm kubectl å®‰è£…etcd apt install etcd systemctl start etcd æ£€æµ‹ etcdctl cluster-health http://localhost:2379 é…ç½®k8sé›†ç¾¤é‡å¯kubeletå¹¶è®¾ç½®å¼€æœºå¯åŠ¨(Master Nodeéƒ½éœ€è¦é…ç½®) systemctl enable kubelet &amp;&amp; sudo systemctl start kubeletsystemctl status kubelet #å‚è€ƒç½‘ç«™ # https://segmentfault.com/a/1190000013903445 å‚è€ƒubuntu æ­å»ºKubenetes1.9.2 é›†ç¾¤https://www.jianshu.com/p/21a39ee86311 https://my.oschina.net/andylo25/blog/1618342?from=timeline&amp;isappinstalled=0 kubernetes_init.githttps://www.jianshu.com/p/0e54aa7a20cf DockerCloudåˆ©ç”¨GitHubæ„å»ºé•œåƒhttp://blog.csdn.net/zgkpy/article/details/79181326 æœ€æœ‰ç”¨http://www.mamicode.com/info-detail-1186209.html http://fishcried.com/2016-02-09/openvswitch-ops-guide/","categories":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/tags/Docker/"}],"keywords":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}]},{"title":"Ubuntu 17ç¯å¢ƒå®‰è£…å’Œé…ç½®","slug":"13åŸºç¡€æŠ€æœ¯/linux/ubuntu/ubuntuä¸­javaç¯å¢ƒçš„å®‰è£…","date":"2018-02-27T00:00:00.000Z","updated":"2018-05-27T09:06:00.058Z","comments":true,"path":"2018/02/27/13åŸºç¡€æŠ€æœ¯/linux/ubuntu/ubuntuä¸­javaç¯å¢ƒçš„å®‰è£…/","link":"","permalink":"http://yoursite.com/2018/02/27/13åŸºç¡€æŠ€æœ¯/linux/ubuntu/ubuntuä¸­javaç¯å¢ƒçš„å®‰è£…/","excerpt":"","text":"å¸¸ç”¨å®‰è£…mavenå’ŒNexuså®‰è£…mavenå®‰è£… cd /mydate/temp wget https://archive.apache.org/dist/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz tar zxvf apache-maven-3.3.9-bin.tar.gz mv apache-maven-3.3.9 /opt/ ä¿®æ”¹ç¯å¢ƒå˜é‡ vi /etc/profile å°†ä¸‹é¢çš„å†…å®¹è¿½åŠ åˆ°ä¸‹é¢ export M2_HOME=/opt/apache-maven-3.3.9 export PATH=${M2_HOME}/bin:$PATH ç¼–è¯‘æµ‹è¯• source /etc/profile mvn -v å®‰è£…Nexuswget http://download.sonatype.com/nexus/oss/nexus-2.12.0-01-bundle.tar.gztar zxvf nexus-2.12.0-01-bundle.tar.gz -C /opt/ cd /opt/nexus-2.12.0-01/binvi nexusä¿®æ”¹RUN_AS_USER=root ä¿®æ”¹nexusçš„å·¥ä½œç›®å½•/opt/nexus-2.12.0-01/confä¿®æ”¹nexus-work=/mydata/data/sonatype-work/nexusï¼Œä¿®æ”¹ç›®å½•æƒé™sudo chmod -R 777 sonatype-work/nexus å¯åŠ¨./nexus start æµ‹è¯•è®¿é—®åœ°å€ï¼šhttp://10.168.1.111:8081/nexus é»˜è®¤ç™»å½•ç”¨æˆ·åå¯†ç ï¼šadmin/admin123 é…ç½®æ•°æ®å­˜å‚¨ç›®å½• http://blog.csdn.net/siyongkai/article/details/53783944 Gitlabå®‰è£…è·å–curl -LJO https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/ubuntu/pool/xenial/main/g/gitlab-ce/gitlab-ce_10.0.6-ce.0_amd64.deb å®‰è£…sudo dpkg -i gitlab-ce_10.0.6-ce.0_amd64.deb ä¿®æ”¹é…ç½®æ–‡ä»¶sudo vi /etc/gitlab/gitlab.rb ä¿®æ”¹gitlabé…ç½®æ–‡ä»¶æŒ‡å®šæœåŠ¡å™¨ipå’Œè‡ªå®šä¹‰ç«¯å£ å¯åŠ¨å’Œé‡å¯GitLabsudo gitlab-ctl reconfiguresudo gitlab-ctl restart æ±‰åŒ–æ­¥éª¤git clone https://gitlab.com/xhang/gitlab.git cd gitlab git diff v10.0.6 v10.0.6-zh &gt; ../10.0.6.diff cd ../ gitlab-ctl stop patch -d /opt/gitlab/embedded/service/gitlab-rails -p1 &lt; 10.0.6.diff gitlab-ctl start gitlab-ctl reconfigure å‚è€ƒhttps://www.cnblogs.com/gabin/p/6385908.htmlé…ç½®å’Œæ±‰åŒ–å‚è€ƒhttp://blog.csdn.net/love8753/article/details/75308652 Jenkinså®‰è£…æ­¥éª¤æ·»åŠ Jenkinsæº wget -q -O - http://pkg.jenkins-ci.org/debian-stable/jenkins-ci.org.key | sudo apt-key add - åˆ›å»ºæºåˆ—è¡¨ sh -c &#39;echo deb http://pkg.jenkins-ci.org/debian-stable binary/ &gt; /etc/apt/sources.list.d/jenkins.list&#39; å®‰è£… sudo apt-get updatesudo apt-get install jenkins å¯åŠ¨å’Œå®‰è£… service jenkins start é…ç½®war /usr/share/jenkins/jenkins.waræ—¥å¿—æ–‡ä»¶ï¼Œ /var/log/jenkins/jenkins.log, é‡åˆ°é—®é¢˜å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹é—®é¢˜æ‰€åœ¨é…ç½®å‚æ•°ï¼Œ/etc/default/jenkins ä¸ºç›¸å…³çš„å„ç§é…ç½®å‚æ•°ï¼Œå¯ä»¥ä¿®æ”¹ç«¯å£å·ï¼Œé»˜è®¤ä¸º8080 è¿›è¡Œè®¿é—®http://10.168.1.111:8090 ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œéœ€è¦è§£é”ï¼Œ/var/lib/jenkins/secrets/initialAdminPassword æŸ¥çœ‹ Jenkins çš„è¿è¡ŒçŠ¶æ€sudo service jenkins status æœåŠ¡ç®¡ç† sudo service jenkins start sudo service jenkins restart sudo service jenkins stop å‚è€ƒhttp://blog.csdn.net/dfhuang09/article/details/54730119","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/tags/Ubuntu/"}],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"Dockerå¸¸ç”¨æ“ä½œ","slug":"11å®¹å™¨æŠ€æœ¯/dockerå¸¸ç”¨æ“ä½œ","date":"2018-02-27T00:00:00.000Z","updated":"2018-12-10T14:06:34.172Z","comments":true,"path":"2018/02/27/11å®¹å™¨æŠ€æœ¯/dockerå¸¸ç”¨æ“ä½œ/","link":"","permalink":"http://yoursite.com/2018/02/27/11å®¹å™¨æŠ€æœ¯/dockerå¸¸ç”¨æ“ä½œ/","excerpt":"","text":"dockeræ¦‚å¿µä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼ˆé•œåƒï¼å®¹å™¨ï¼ä»“åº“ï¼‰ æœåŠ¡å¯ç”¨åœç”¨sudo service docker startsudo service docker stop Dockeråˆæ­¥ä½¿ç”¨ docker run -i -t --name mytest ubuntu:latest /bin/bash iè¡¨ç¤ºä½¿ç”¨äº¤äº’æ¨¡å¼tè¡¨ç¤ºåˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯docker run = docker create + docker startå…¶ä»–å‚æ•°-då‚æ•°ï¼Œå®¹å™¨å¯åŠ¨åè¿›å…¥åå°ã€‚ é•œåƒæœç´¢docker search mavenä¸‹è½½åˆ°æœ¬åœ° docker pull stephenreed/jenkins-java8-maven-git å®¹å™¨é‡æ–°è¿›å…¥å¦‚æœå®¹å™¨ä»¥åå°å½¢å¼è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤è¿›å…¥ï¼Œè¿™æ ·å°±å¯ä»¥çœ‹åˆ°å®¹å™¨çš„ä¿¡æ¯ã€‚docker exec -ti 243c32535da7 /bin/bash æŸ¥çœ‹å®¹å™¨çš„åŸºæœ¬ä¿¡æ¯docker inspect 130a4565c27d å¯ä»¥ç”¨ grep æˆ– â€“format å‚æ•°æ¥è¿‡æ»¤æ„Ÿå…´è¶£çš„ä¿¡æ¯ ç»ˆæ­¢å®¹å™¨docker stopdocker stop $(docker ps -a -q) åˆ é™¤å®¹å™¨docker rm å‘½ååˆ é™¤å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨docker rm $(docker ps -a -q) ##æ•°æ®å·å…±äº« docker run -it â€“volumes-from dbdatab â€“name db1 ubuntu docker run â€“volumes-from dbdatab -ti -v $(pwd):/backup â€“name worker2 ubuntu å¤‡ä»½dbdataæ•°æ®å·å®¹å™¨å†…çš„æ•°æ®å·å°†æœ¬æœºçš„å½“å‰ç›®å½• æŒ‚è½½åˆ° å®¹å™¨çš„æ ¹ç›®å½•ï¼backup docker run -d -P â€“name web -v /src/webapp:/opt/webapp training/webapp python app.pyä¸Šé¢çš„å‘½ä»¤åŠ è½½ä¸»æœºçš„/src/webappç›®å½•åˆ°å®¹å™¨çš„/opt/webappç›®å½•ï¼š ä½¿ç”¨æ–‡ä»¶æ„å»ºdocker build -t u-cents6 . ç›®å½•ä¸‹éœ€è¦å¹²å‡€ï¼Œåªæœ‰dock #å‚è€ƒç½‘ç«™ # docker1.12å®‰è£…é…ç½®åŠä½¿ç”¨ç¬”è®°http://www.cnblogs.com/ilinuxer/p/6367004.html dockå®‰è£…","categories":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/tags/Docker/"}],"keywords":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}]},{"title":"k8så…¥é—¨","slug":"11å®¹å™¨æŠ€æœ¯/k8så®‰è£…","date":"2018-02-27T00:00:00.000Z","updated":"2018-12-10T15:20:45.094Z","comments":true,"path":"2018/02/27/11å®¹å™¨æŠ€æœ¯/k8så®‰è£…/","link":"","permalink":"http://yoursite.com/2018/02/27/11å®¹å™¨æŠ€æœ¯/k8så®‰è£…/","excerpt":"","text":"èƒŒæ™¯å®‰è£…æ­¥éª¤å®‰è£…dockeråŒ…$ sudo apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ software-properties-commonæ·»åŠ dockerå®˜æ–¹GPGç§˜é’¥ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -å®‰è£…ç¨³å®šç‰ˆä»“åº“ sudo add-apt-repository \\ â€œdeb [arch=amd64] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) \\ stableâ€å†æ¬¡æ›´æ–°æº sudo apt-get updateå®‰è£…docker-ce å‚è€ƒapt-cache madison docker-ce sudo apt-get install docker-ce= .é»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªé…ç½®æ–‡ä»¶å¤¹å¹¶ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬è¦åˆ›å»ºå®ƒ$ mkdir -p /etc/systemd/system/docker.service.d ç³»ç»Ÿåˆå§‹åŒ–echo â€œ127.0.0.1 ww-server-32â€ &gt;&gt; /etc/hosts å…³é—­swapå¦‚æœä¸å…³é—­ï¼Œé»˜è®¤é…ç½®ä¸‹kubeletå°†æ— æ³•å¯åŠ¨swapoff -a è®¾ç½®ç³»ç»Ÿå‚æ•°ä¿®æ”¹å†…æ ¸å‚æ•° cat &lt; /etc/sysctl.d/k8s.confnet.bridge.bridge-nf-call-ip6tables = 1net.bridge.bridge-nf-call-iptables = 1EOF ä¿®æ”¹åï¼ŒåŠæ—¶ç”Ÿæ•ˆsysctl â€“system å®‰è£…ç›¸åº”è½¯ä»¶é…ç½®apt-getçš„æºcat kube_apt_key.gpg | apt-key add - echo &quot;deb [arch=amd64] https://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial main main&quot; &gt;&gt; /etc/apt/sources.list apt-get install -y kubelet kubeadm kubectl kubernetes-cni å®‰è£…é•œåƒ å¦‚æœä¸‹è½½è‡ªå·±çš„æˆ–è€…dockerhubçš„é•œåƒã€‚å¯ä»¥åˆ©ç”¨è„šæœ¬ï¼Œæ‰¹é‡æ›¿æ¢é•œåƒimagenamedocker images | sed â€˜s/foxchan/gcr.io\\/google_containers/â€˜| awk â€˜{print â€œdocker tag â€œ$3â€ â€œ$1â€:â€$2}â€™ dockerçš„cgroup driverä¸ â€“cgroup-driverè¦ä¸€è‡´ã€‚ å¯ä»¥ç”¨ docker info |grep Cgroup æŸ¥çœ‹ï¼Œæœ‰å¯èƒ½æ˜¯systemd æˆ–è€… cgroupfs é…ç½®kubeleté…ç½®podçš„åŸºç¡€é•œåƒcat &gt; /etc/systemd/system/kubelet.service.d/10-kubeadm.conf &lt;&lt;EOF [Service] Environment=&quot;KUBELET_EXTRA_ARGS=--pod-infra-container-image=registry.cn-hangzhou.aliyuncs.com/szss_k8s/pause-amd64:3.0&quot; EOF å¯åŠ¨kubeletsystemctl daemon-reload systemctl restart kubelet ä½¿ç”¨kubelet versionå‚çœ‹å¯ä»¥çœ‹åˆ°å·²ç»å¯åŠ¨ systemctl status kubelet.service éœ€è¦å…·ä½“ä¿¡æ¯å¯ä»¥ä½¿ç”¨å‚çœ‹ journalctl -u kubelet -f kubelet version â€“runtime-cgroups=/systemd/system.slice â€“kubelet-cgroups=/systemd/system.slice æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯ä»¥é‡å¯kubelet systemctl restart kubelet systemctl daemon-reload ps -ef | grep kubelet /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf --pod-manifest-path=/etc/kubernetes/manifests --allow-privileged=true --network-plugin=cni --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin --cluster-dns=10.96.0.10 --cluster-domain=cluster.local --authorization-mode=Webhook --client-ca-file=/etc/kubernetes/pki/ca.crt --cadvisor-port=0 --rotate-certificates=true --cert-dir=/var/lib/kubelet/pki --pod-infra-container-image=registry.cn-hangzhou.aliyuncs.com/google_containers/pause-amd64:3.1 é‡æ–°é…ç½®systemctl stop kubelet;docker rm -f $(docker ps -q);mount | grep â€œ/var/lib/kubelet/*â€ | awk â€˜{print $3}â€™ | xargs umount 1&gt;/dev/null 2&gt;/dev/null;rm -rf /var/lib/kubelet /etc/kubernetes /var/lib/etcd /etc/cni;systemctl start kubelet;kubeadm init â€“token= ä½¿ç”¨kubeadmåˆå§‹åŒ–é›†ç¾¤export KUBE_REPO_PREFIX=&quot;registry.cn-hangzhou.aliyuncs.com/szss_k8s&quot; export KUBE_ETCD_IMAGE=&quot;registry.cn-hangzhou.aliyuncs.com/szss_k8s/etcd-amd64:3.0.17&quot; kubeadm init --kubernetes-version=v1.9.0 --skip-preflight-checks kubeadm init â€“kubernetes-version=v1.9.2 â€“skip-preflight-checks kubeadm init â€“pod-network-cidr=172.30.0.0/20 â€“kubernetes-version=v1.9.0 â€“skip-preflight-checks å¦‚æœkubeadmå‡ºé”™ï¼Œä¿®æ”¹å®Œæˆä¹‹åéœ€è¦ kubeadm resetåœ¨é‡å¯åˆå§‹åŒ– è®©masterèŠ‚ç‚¹å‚ä¸è°ƒåº¦é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†ä¿è¯masterçš„å®‰å…¨ï¼Œmasteræ˜¯ä¸ä¼šè¢«è°ƒåº¦åˆ°appçš„ã€‚ä½ å¯ä»¥å–æ¶ˆè¿™ä¸ªé™åˆ¶é€šè¿‡è¾“å…¥ã€‚ kubectl taint nodes --all node-role.kubernetes.io/master- æ£€æŸ¥masterå®‰è£…kubectl get componentstatuses é‡Œé¢æœ‰å…¶ä»–çš„æ–‡ä»¶/etc/kubernetes/manifests é…ç½®kubectlçš„kubeconfigæœ€æ–°çš„kubectlé“¾æ¥api serverä¸æ˜¯é€šè¿‡8080ç«¯å£è¿æ¥çš„ï¼Œè€Œæ˜¯é€šè¿‡6443ç«¯å£ï¼Œå¯ä»¥åœ¨admin.confæŸ¥çœ‹kubectl get nodesThe connection to the server localhost:8080 was refused - did you specify the right host or port? æˆ–è€…å‡ºç°Unable to connect to the server: x509: mkdir -p $HOME/.kubecp -i /etc/kubernetes/admin.conf $HOME/.kube/configchown $(id -u):$(id -g) $HOME/.kube/configkubectl get nodes NAME STATUS ROLES AGE VERSION ww-server-32 NotReady master 3m v1.9.0 kube-dnsé•œåƒä½¿ç”¨ kubectl get nodeså‚çœ‹NotReady æ²¡æœ‰å‘ç°kube-dnsé•œåƒ è¦é…ç½®podçš„ç½‘ç»œï¼Œè¿™é‡Œä½¿ç”¨äº†flannelç½‘ç»œ kubectl create -f kube-flannel-rbac.yml # Create the clusterrole and clusterrolebinding: # $ kubectl create -f kube-flannel-rbac.yml # Create the pod using the same namespace used by the flannel serviceaccount: # $ kubectl create --namespace kube-system -f kube-flannel.yml --- kind: ClusterRole apiVersion: rbac.authorization.k8s.io/v1beta1 metadata: name: flannel rules: - apiGroups: - &quot;&quot; resources: - pods verbs: - get - apiGroups: - &quot;&quot; resources: - nodes verbs: - list - watch - apiGroups: - &quot;&quot; resources: - nodes/status verbs: - patch --- kind: ClusterRoleBinding apiVersion: rbac.authorization.k8s.io/v1beta1 metadata: name: flannel roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: flannel subjects: - kind: ServiceAccount name: flannel namespace: kube-system sudo kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml å®‰è£…å…¶ä»–ä¸»æœºkubeadm init â€“apiserver-advertise-address=172.16.120.200 â€“pod-network-cidr=192.168.0.0/16 â€“ignore-preflight-errors â€˜Swapâ€™ä¸»è¦ç›®çš„æ˜¯ä¸‹è½½k8sç›¸å…³ç»„ä»¶d ä½¿ç”¨flanneï¼Œéœ€è¦è®¾ç½®â€“pod-network-cidrå‚æ•°ï¼Œ10.244.0.0/16æ˜¯kube-flannel.ymlæ–‡ä»¶é…ç½®çš„é»˜è®¤ç½‘æ®µï¼Œå¦‚æœéœ€è¦ä¿®æ”¹ï¼Œâ€“pod-network-cidrå’Œkube-flannel.ymlæ–‡ä»¶éœ€è¦ä¿æŒä¸€è‡´ã€‚kubeadm init â€“kubernetes-version=v1.9.0 â€“pod-network-cidr=10.244.0.0/16 â€“skip-preflight-checks æŸ¥çœ‹é›†ç¾¤çŠ¶æ€æœºå™¨çš„ç«¯å£å¦‚ä¸‹ï¼š å‚æ•° è§£é‡Š Kubernetes API server 6443* etcd server client API 2379-2380 Kubelet API 10250 kube-scheduler 10251 kube-controller-manager 10252 Read-only Kubelet API 10255 é»˜è®¤çš„ç«¯å£èŒƒå›´:https://kubernetes.io/docs/concepts/services-networking/service/ kubectlæŸ¥çœ‹nodeå’Œpodçš„çŠ¶æ€kubectl get nodes nodeèŠ‚ç‚¹å®‰è£…å’ŒåŠ å…¥é›†ç¾¤export KUBE_REPO_PREFIX=â€registry.cn-hangzhou.aliyuncs.com/szss_k8sâ€export KUBE_ETCD_IMAGE=â€registry.cn-hangzhou.aliyuncs.com/szss_k8s/etcd-amd64:3.0.17â€kubeadm join â€“token 242b80.86d585ebd6358b08 172.16.120.151:6443 â€“skip-preflight-checks kubeadm join â€“token 0cb8d6.bc8e73f8d69d3110 10.168.1.111:6443 â€“discovery-token-ca-cert-hash sha256:96015707712d4b6a27c1d63ebfae0e0a22015c38f7c7b1c4983a93fae43d4060 nodeèŠ‚ç‚¹å®‰è£…éªŒè¯kubectl get nodes éƒ¨ç½²Dashboardå­¦ä¹ http://www.dockerinfo.net/4468.htmlåœ¨å¼€å¯TLSçš„Kubernetes1.6é›†ç¾¤ä¸Šå®‰è£…Dashboardhttps://www.kubernetes.org.cn/3238.html wget https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml kubectl create -f kubernetes-dashboard.yml kubectl get secret â€“all-namespaces | grep kubernetes-dashboard-adminkubectl describe secret kubernetes-dashboard-admin-token-xxnml -n kube-system https://10.168.1.111:32270/#!/overview?namespace=defaulthttps://10.168.1.111:30865/#!/overview?namespace=default 10.168.1.111:8080/api/v1/proxy/namespaces/kube-system/services/kubernetes-dashboard kubectl proxy â€“address=â€™10.168.1.111â€™ â€“port=8086 â€“accept-hosts=â€™^*$â€™ http://10.168.1.111:8086/uiå¯ä»¥è®¿é—® å‚è€ƒhttps://blog.csdn.net/chenleiking/article/details/79316171https://www.cnblogs.com/zhenyuyaodidiao/p/6500897.htmlhttps://www.cnblogs.com/xinhaige/p/8595259.html kubectl apply -f kubernetes-dashboard.ymlkubectl apply -f kubernetes-dashboard-rbac-admin.yml kubectl delete deployment kubernetes-dashboard â€“namespace=kube-system kubectl delete svc kubernetes-dashboard â€“namespace=kube-system kubectl get svc â€“all-namespaces http://10.101.36.111:8055 é”™è¯¯Kubernetes failed to get imageFs info: unable to find data for container ä¸€ä¸ªç®€å•çš„æµç¨‹ kubectl create -f mysql-rc.yaml kubectl get rc kubectl get pods æŸ¥è¯¢åŸå› kubectl describe pods mysql å‚è€ƒæ¯å¤©5åˆ†æ”¯http://www.cnblogs.com/CloudMan6/tag/Docker/default.html?page=3 https://www.jianshu.com/p/33b3fa304797 https://mritd.me/2016/10/29/set-up-kubernetes-cluster-by-kubeadm/ https://github.com/EagleChen/kubernetes_init/blob/master/install.shç¼–è¯‘å®‰è£…https://www.kubernetes.org.cn/3336.html https://www.kubernetes.org.cn/3336.html Kubernetesåˆ›å»ºå¯å¤–éƒ¨è®¿é—®çš„mysqlå®¹å™¨https://www.58jb.com/html/133.html https://www.jianshu.com/p/21a39ee86311https://blog.csdn.net/zhuchuangang/article/details/76572157","categories":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/tags/Docker/"}],"keywords":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}]},{"title":"ä½¿ç”¨å®¹å™¨æ„å»ºdubboæœåŠ¡","slug":"11å®¹å™¨æŠ€æœ¯/ä½¿ç”¨å®¹å™¨æ„å»ºdubboæœåŠ¡","date":"2018-02-27T00:00:00.000Z","updated":"2018-12-10T16:08:19.456Z","comments":true,"path":"2018/02/27/11å®¹å™¨æŠ€æœ¯/ä½¿ç”¨å®¹å™¨æ„å»ºdubboæœåŠ¡/","link":"","permalink":"http://yoursite.com/2018/02/27/11å®¹å™¨æŠ€æœ¯/ä½¿ç”¨å®¹å™¨æ„å»ºdubboæœåŠ¡/","excerpt":"","text":"èƒŒæ™¯å®‰è£…æ­¥éª¤å‡è®¾è¿è¡Œdockerçš„æœºå™¨ä¸º10.168.1.111 åˆ›å»ºTomcatå®¹å™¨docker pull chaimm/tomcat:1.1docker run --name gaoxi-user-1 -p 8082:8080 -v /mydata/temp/tomcat/log:/opt/tomcat/gaoxi-log chaimm/tomcat:1.1 â€“nameï¼šæŒ‡å®šå®¹å™¨çš„åå­— -pï¼šæŒ‡å®šå®¹å™¨çš„ç«¯å£æ˜ å°„ -p 8082:8080 è¡¨ç¤ºå°†å®¹å™¨çš„8080ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„8082ç«¯å£ä¸Š -vï¼šæŒ‡å®šå®¹å™¨æ•°æ®å·çš„æ˜ å°„ xxx:yyy è¡¨ç¤ºå°†å®¹å™¨yyyç›®å½•æ˜ å°„åˆ°å®¿ä¸»æœºçš„xxxç›®å½•ä¸Šï¼Œä»è€Œè®¿é—®å®¿ä¸»æœºçš„xxxç›®å½•å°±ç›¸å½“äºè®¿é—®å®¹å™¨çš„yyyç›®å½•ã€‚ chaimm/tomcat:1.1ï¼šè¡¨ç¤ºå®¹å™¨æ‰€å¯¹åº”çš„é•œåƒã€‚ æµ‹è¯•é€šè¿‡http://10.168.1.111:8082 è®¿é—®åˆ°gaoxi-user-1å®¹å™¨çš„tomcat","categories":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/tags/Docker/"}],"keywords":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}]},{"title":"Python3ç¼–ç¨‹åŸºç¡€","slug":"22programming/python/pythonåŸºæœ¬è¯­æ³•","date":"2018-01-07T00:00:00.000Z","updated":"2019-01-24T02:52:33.406Z","comments":true,"path":"2018/01/07/22programming/python/pythonåŸºæœ¬è¯­æ³•/","link":"","permalink":"http://yoursite.com/2018/01/07/22programming/python/pythonåŸºæœ¬è¯­æ³•/","excerpt":"","text":"å‡†å¤‡ç¯å¢ƒMacä¸‹å®‰è£… sudo pip3 install ipython ipython åŸºæœ¬è¯­æ³•åŸºæœ¬è¿ç®—7/3 7//3 #å–æ•´ 100/(1+0.1)**2 #**ç”¨æ¥è®¡ç®—å¹‚å‡½æ•° pow((1+0.1),2) 17%4 #è®¡ç®—ä½™æ•° æ¡ä»¶åˆ†æ”¯ä¸å¾ªç¯æ§åˆ¶ifif è¡¨è¾¾å¼ : ... else : ... if è¡¨è¾¾å¼ : ... elif è¡¨è¾¾å¼ : ... else : ... if-elseæ¡ä»¶åˆ†æ”¯è¯­å¥ï¼Œç³»ç»Ÿä¼šåˆ¤æ–­ifåè¾¹çš„è¡¨è¾¾å¼æ˜¯å¦æˆç«‹ï¼Œå¦‚æœå€¼ä¸ºTrueåˆ™æ‰§è¡Œå†’å·ä¸‹è¾¹çš„ä»£ç ç‰‡ï¼Œå¦åˆ™åˆ¤æ–­éšåelseifçš„è¡¨è¾¾å¼ã€‚ ä¸‰å…ƒè¿ç®—ç¬¦result = x if x&lt;5 else 5 whilewhile i&lt;=x : print(i) i += 1 for forå¾ªç¯çš„ä½œç”¨æ˜¯å¯ä»¥å¾ªç¯è¾“å‡ºé›†åˆ/æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œç±»ä¼¼äºJavaä¸­çš„ForEachè¯­å¥. arr = [1, 2, 3, 4, 5] for j in arr : print(j) æ³¨æ„ä¸æ˜¯arr[j] ä½¿ç”¨rangeå¾ªç¯å†…ç½®rangeå‡½æ•°çš„ä½œç”¨æ˜¯è®°å½•èŒƒå›´ï¼Œé€šå¸¸å’Œforå¾ªç¯ç»“åˆä½¿ç”¨ result = range(0, 10 ,1) #rangeå‡½æ•°è·å¾—ä¸€ä¸ª0-10çš„èŒƒå›´é›†åˆï¼Œä»¥1ä¸ºæ­¥è¿›æ•°ï¼ˆå³æ¯æ¬¡+1ï¼‰ for item in result: #å¾ªç¯è¾“å‡ºæ¯ä¸€ä¸ªå…ƒç´  print(item) æ¨¡æ‹ŸJavaçš„æ ‡å‡†forå¾ªç¯ arr = [1, 2, 3, 4, 5] for i in range(0, len(arr), 1) : print(arr[i]) å‡½æ•°åŸºæœ¬è¯­æ³•def hello(): #å‡½æ•°çš„å£°æ˜ &apos;è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå‡½æ•°&apos; #å®šä¹‰å‡½æ•°æ–‡æ¡£ print(&quot;hello world&quot;) print(hello.__doc__) #æ‰“å°å‡½æ•°æ–‡æ¡£ï¼ŒåŒä¸‹åˆ’çº¿ help(hello) #å¯ä»¥é€šè¿‡helpå‡½æ•°æ‰“å°å‡½æ•°æ–‡æ¡£ æœ‰å‚å‡½æ•°def info(name, age): #å®šä¹‰æœ‰å‚å‡½æ•° return &quot;è¿™æ˜¯æœ‰å‚å‡½æ•°ï¼šI&apos;m %s %s years old&quot; %(name, age) #è¿”å›å­—ç¬¦ä¸² def info1(name=&quot;HanMeimei&quot;, age=36): #å‚æ•°å¯ä»¥è®¾ç½®é»˜è®¤å€¼ print(&quot;è¿™æ˜¯é»˜è®¤å€¼å‚æ•°å‡½æ•°ï¼šI&apos;m %s %s years old&quot; %(name, age)) å¯å˜å‚æ•°å‡½æ•°def myFunction1(*params): #å®šä¹‰å¯å˜å‚æ•°çš„å‡½æ•° print(&quot;å‚æ•°çš„é•¿åº¦æ˜¯ï¼š%s&quot; %len(params)) for item in params: print(item) myFunction1(&quot;hello&quot;, &quot;world&quot;) #å‡½æ•°çš„è°ƒç”¨ åŒ¿åå‡½æ•°ä½¿ç”¨lambdaè¡¨è¾¾å¼ g = lambda x, y: x + y ç­‰åŒä¸‹é¢çš„ def f(a, b): return a + b å­—ç¬¦ä¸²å¸¸ç”¨æ“ä½œstr1 = &quot;hello world&quot; str2 = str1[3:5] #ä»str1çš„ç¬¬4ä½æˆªå–åˆ°åº•6ä½ï¼Œä¸åŒ…å«åº•6ä½ print(str1[6:]) #æˆªå–ç¬¬ä¸ƒä¸ªå­—ç¬¦åˆ°ç»“å°¾ print(str1[:-3]) #æˆªå–ä»å¤´å¼€å§‹åˆ°å€’æ•°ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¹‹å‰ print(str1[2]) #æˆªå–ç¬¬ä¸‰ä¸ªå­—ç¬¦ result1 = str1.lower(); #å°†str1è½¬æ¢æˆå°å†™ result2 = str1.upper(); #å°†str1è½¬æ¢æˆå¤§å†™ str1 = &quot;hello world&quot; str1=str1.capitalize(); #é¦–å­—æ¯å¤§å†™ print(str1) Hello world str1 = &quot; HelloWorld &quot; result1 = str1.lstrip(); #å»str1çš„å·¦ä¾§ç©ºæ ¼ result2 = str1.rstrip(); #å»str1çš„å³ä¾§ç©ºæ ¼ result3 = str1.strip(); #å»str1çš„å·¦å³ä¾§ç©ºæ ¼ str1 = &quot;HelloWorld&quot; len(s1) #æ±‚å­—ç¬¦ä¸²é•¿åº¦ result = str1.count(&apos;o&apos;) #è·å–æ¬¡æ•°çš„å‡½æ•° str1 = &quot;HelloWorld&quot; result1 = str1.startswith(&apos;ld&apos;) #åˆ¤æ–­str1æ˜¯å¦æ˜¯ä»¥å­—ç¬¦ä¸²ldå¼€å¤´ï¼Œè¿”å›å€¼æ˜¯å¸ƒå°”å‹ result2 = str1.endswith(&apos;ld&apos;) #åˆ¤æ–­str1æ˜¯å¦æ˜¯ä»¥å­—ç¬¦ä¸²ldç»“å°¾ï¼Œè¿”å›å€¼æ˜¯å¸ƒå°”å‹ str1 = &quot;HelloWorld&quot; result1 = str1.find(&apos;o&apos;) #ä»str1å·¦ä¾§æŸ¥æ‰¾oï¼Œå¦‚æœæ‰¾åˆ°è¿”å›ä½ç½®ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å›-1 result1 = s1.find(&apos;o&apos;,7,10) result2 = str1.rfind(&apos;o&apos;) #ä»str1å³ä¾§æŸ¥æ‰¾oï¼Œå¦‚æœæ‰¾åˆ°è¿”å›ä½ç½®ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å›-1 str1 = &quot;aaa,bbb,ccc&quot; result = str1.replace(&quot;,&quot;, &quot;#&quot;) #å°†str1ä¸­æ‰€æœ‰çš„é€—å·æ›¿æ¢æˆäº•å· print(&quot;æ›¿æ¢åçš„å­—ç¬¦ä¸²æ˜¯ï¼š%s&quot; %result) str1 = &quot;aaa,bbb,ccc&quot; result = str1.split(&quot;,&quot;) #å°†å­—ç¬¦ä¸²æŒ‰æŒ‡å®šå­—ç¬¦è½¬æ¢æˆå­—ç¬¦ä¸²æ•°ç»„ print(result) list = [&apos;hello&apos;,&apos;world&apos;] str = &apos;-&apos; str.join(list) #listè½¬æ¢ä¸ºstr &apos;hello-world&apos; str1 = &quot;{a} love {b}&quot;.format(a=&quot;LiLei&quot;, b=&quot;HanMeimei&quot;) str2 = &quot;%s love %s&quot; %(&quot;LiLei&quot;, &quot;HanMeimei&quot;) s1 = &apos;hello&apos; s2 = &apos;world&apos; s3 = s1 + s2 #å­—ç¬¦ä¸²è¿æ¥ s1 = &apos;hello&apos; max(s1) #æ±‚å­—ç¬¦ä¸²s1ä¸­æœ€å¤§å­—ç¬¦ s1 = &apos;hello&apos; s1[::-1] #å­—ç¬¦ä¸²ç¿»è½¬ &apos;olleh&apos; l = list(s1)#å­—ç¬¦ä¸²è½¬åˆ—è¡¨ l.reverse() #åˆ—è¡¨åè½¬ï¼ˆreverseç›´æ¥å¯¹åˆ—è¡¨è¿›è¡Œäº†ä¿®æ”¹ï¼‰ result = &quot;&quot;.join(l)#ä½¿ç”¨åˆ—è¡¨çš„reverseæ–¹æ³• s1 = &apos;hello&apos; s1.isdigit()//æ£€æµ‹å­—ç¬¦ä¸²æ—¶å€™åªç”±æ•°å­—ç»„æˆ s1.isalpha() â€”â€”â€”â€” æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦åªç”±å­—æ¯ç»„æˆ str_test = &quot;{&apos;a&apos;: 1, &apos;b&apos;: 2}&quot; dict_test = eval(str_test) #å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—å…¸ str_test2 = str(dict_test) å¸¸ç”¨æ•°æ®ç»“æ„å…ƒç»„tupleå°æ‹¬å·ï¼Œå…ƒç»„ä¸­çš„å…ƒç´ çš„å€¼ä¸å¯ä»¥ä¿®æ”¹ï¼Œå› æ­¤æ¯”åˆ—è¡¨å®‰å…¨ã€‚ z = (&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;) z? Type: tuple print(z) (&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;) åŸºæœ¬æ“ä½œè¯»å–zä¸­çš„å…ƒç´ ï¼Œä¸listç±»ä¼¼print(z[0]) åˆ—è¡¨listä¸­æ‹¬å·,æœ‰ç‚¹åƒjavaä¸­çš„list,listä¸­å¯ä»¥æ”¾ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåœ¨pythonä¸­æ•°ç»„ä¹Ÿæ˜¯ç”¨listè¿›è¡Œè¡¨è¾¾ã€‚ y = [â€œAâ€, â€œBâ€, â€œCâ€, â€œaâ€, â€œbâ€, â€œcâ€] intArr = [1, 4, 2, 5, 3, 7, 9, 0] #æ•´å‹æ•°ç»„ strArr = [â€œåŒ—äº¬â€, â€œä¸Šæµ·â€, â€œæ­å·â€, â€œæ·±åœ³â€] #å­—ç¬¦ä¸²æ•°ç»„ mixArr = [1, 3.44, â€œhelloâ€, [1, 2, 3]] #æ··åˆæ•°ç»„ emptyArr = [] #ç©ºæ•°ç»„ åŸºæœ¬æ“ä½œè¯»å–y[-1]y[0]y[0: 3] æŸ¥æ‰¾y.index(â€œaâ€) æ’å…¥æœ€åé¢æ’å…¥æ–°å…ƒç´  y.append(5)y.append([â€œdâ€, â€œeâ€]) åœ¨æŒ‡å®šä½ç½®æ’å…¥æ–°å…ƒç´ y.insert(3, â€œnewâ€) åˆå¹¶x = [â€œAâ€, â€œBâ€, â€œCâ€]y = [â€œAâ€, â€œBâ€, â€œDâ€]print(x+y)[â€˜Aâ€™, â€˜Bâ€™, â€˜Câ€™, â€˜Aâ€™, â€˜Bâ€™, â€˜Dâ€™] åˆ é™¤y.remove(â€œBâ€) åˆ†ç‰‡æˆªå–æ•°ç»„ä¸­çš„ä¸€ä¸ªç‰‡æ®µï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°ç»„ x=[0,1,2,3,4,5,6,7,8,9] ä»å¼€å§‹ä½ç½®åˆ°ç»“æŸä½ç½®è·å–æ•°ç»„ä¸­çš„å…ƒç´ é›†åˆ x2 = x[1 : 3] print(x2) [1, 2] æ˜¯å¦å­˜åœ¨æŸå…ƒç´ result = &quot;ä¸Šæµ·&quot; in strArr print(result); True result = &quot;ShangHai&quot; not in strArr print(result); è·å–æŒ‡å®šå…ƒç´ çš„ä¸ªæ•°strArr.append(&quot;ä¸Šæµ·&quot;) strArr.append(&quot;ä¸Šæµ·&quot;) result = strArr.count(&quot;ä¸Šæµ·&quot;); print(result); 3 æ’åºintArr.sort() print(result) intArr.reverse() print(intArr) è·å–æœ€å¤§å€¼/æœ€å°å€¼result = max(intArr) print(result) result = min(temp) result = sum(temp) ç»¼åˆç¤ºåˆ—arr = [4, 2, 5, 3, 45, 232, 98, 1, 0, 6, 89, 43] #åˆ›å»ºä¸€ä¸ªæ•´å‹æ•°ç»„ for i in range(0, len(arr), 1): #forå¾ªç¯åˆå§‹å€¼æ˜¯0ï¼ŒèŒƒå›´æ˜¯æ•°ç»„çš„é•¿åº¦ if arr[i] % 2 == 0: #æ‰¾åˆ°å¶æ•°çš„å…ƒç´  arr[i] += 1 #è®©å…ƒç´ +1 arr.sort() #å…ƒç´ ä»å°åˆ°å¤§æ’åº cnt = arr.count(1) #è·å–æŒ‡å®šå…ƒç´ çš„ä¸ªæ•° print(&quot;å€¼=1çš„å…ƒç´ ä¸ªæ•°ï¼š%s&quot; %cnt) print(arr) Setå¤§æ‹¬å·,å¦‚æœéœ€è¦å»æ‰é‡å¤ï¼Œè¿™æ—¶éœ€è¦Set y = {&apos;x&apos;, &apos;z&apos;, &apos;y&apos;} y? Type: set ä½¿ç”¨åˆ—è¡¨è¿›è¡Œæ„å»º a=[&quot;x&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;] b=set(a) print(b) é›†åˆæ“ä½œx1 = set([â€œAâ€, â€œBâ€, â€œCâ€])y1 = set([â€œAâ€, â€œBâ€, â€œDâ€]) äº¤é›†print(x1&amp;y1){â€˜Aâ€™, â€˜Bâ€™} å¹¶é›†print(x1|y1){â€˜Câ€™, â€˜Aâ€™, â€˜Bâ€™, â€˜Dâ€™} å·®é›†print(x1-y1){â€˜Câ€™} å­—å…¸dictä½¿ç”¨å¤§æ‹¬å·{}è¡¨ç¤º x = {&quot;name&quot;: &quot;zhangshang&quot;, &quot;age&quot;: 33, &quot;address&quot;: &quot;xxxx&quot;} print(x[&quot;name&quot;]) è·å–print(x[â€˜nameâ€™]) å¦‚æœå–ä¸€ä¸ªä¸åœ¨çš„å¦‚æœä½¿ç”¨x[â€˜g],ä¼šå‡ºç°å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„getæ–¹æ³•ï¼Œè¿”å›Noneprint(x.get(â€˜gâ€™))print(x.get(â€˜gâ€™,â€™æ²¡æœ‰è¿™ä¸ªå€¼â€™)) æ–¹æ³•print(x.keys())dict_keys([â€˜nameâ€™, â€˜ageâ€™, â€˜addressâ€™]) print(len(x)) å‡ ä¸ªå¸¸ç”¨çš„å†…ç½®å‡½æ•°range range() å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆç±»å‹æ˜¯å¯¹è±¡ï¼‰ï¼Œè€Œä¸æ˜¯åˆ—è¡¨ç±»å‹ l = range(6) list() å‡½æ•°æ˜¯å¯¹è±¡è¿­ä»£å™¨ï¼Œå¯ä»¥æŠŠrange()è¿”å›çš„å¯è¿­ä»£å¯¹è±¡è½¬ä¸ºä¸€ä¸ªåˆ—è¡¨list(range(10)) è¯­æ³•range(stop)range(start, stop[, step]) ä¸¾ä¾‹ï¼š &gt;&gt;&gt;range(5) range(0, 5) &gt;&gt;&gt; for i in range(5): ... print(i) ... 0 1 2 3 4 &gt;&gt;&gt; list(range(5)) [0, 1, 2, 3, 4] &gt;&gt;&gt; list(range(0)) [] &gt;&gt;&gt; mapmap()æ˜¯ Python å†…ç½®çš„é«˜é˜¶å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•° f å’Œä¸€ä¸ª listï¼Œå¹¶é€šè¿‡æŠŠå‡½æ•° f ä¾æ¬¡ä½œç”¨åœ¨ list çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ list å¹¶è¿”å›ã€‚ map(lambda x: x + 1, l) å†…ç½®çš„mapå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼›ç¬¬äºŒä¸ªæ˜¯ä¸€ä¸ªå¯éå†çš„å¯¹è±¡ def f1(x): return x*x list(map(f1,[1,2,3,4])) filterfilterå‡½æ•°ä¼šå¯¹æŒ‡å®šåºåˆ—æ‰§è¡Œè¿‡æ»¤æ“ä½œã€‚æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›å¸ƒå°”å€¼Trueæˆ–Falseã€‚ list(filter(lambda x: x % 2 == 0, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10])) reducereduceå‡½æ•°ï¼Œreduceå‡½æ•°ä¼šå¯¹å‚æ•°åºåˆ—ä¸­å…ƒç´ è¿›è¡Œç´¯ç§¯ã€‚reduceå‡½æ•°çš„å®šä¹‰ï¼šreduce(function, sequence[, initial]) -&gt; value åœ¨Python 3é‡Œ,reduce()å‡½æ•°å·²ç»è¢«ä»å…¨å±€åå­—ç©ºé—´é‡Œç§»é™¤äº†,å®ƒç°åœ¨è¢«æ”¾ç½®åœ¨fucntoolsæ¨¡å—é‡Œç”¨çš„è¯è¦å…ˆå¼•å…¥ from functools import reduce l = range(6) f = lambda accumValue, newValue: accumValue + newValue reduce(f, l, 0) ç¬¬1ä¸ªå‚æ•°æ˜¯ç›¸åŠ å‡½æ•°ï¼Œç¬¬2ä¸ªå‚æ•°æ˜¯éœ€è¦æ±‚å’Œçš„åˆ—è¡¨â€œlâ€ï¼Œç¬¬3ä¸ªï¼ˆå¯é€‰ï¼‰å‚æ•°ä¸ºåˆå§‹å€¼0ã€‚ ç¬¬ä¸€æ¬¡è°ƒç”¨functionæ—¶ï¼Œå¦‚æœæä¾›initialå‚æ•°ï¼Œä¼šä»¥sequenceä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œinitialä½œä¸ºå‚æ•°è°ƒç”¨functionï¼Œå¦åˆ™ä¼šä»¥åºåˆ—sequenceä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ åšå‚æ•°è°ƒç”¨function é¢å‘å¯¹è±¡å’Œæ¨¡å—åŒ–æ¨¡å—æ¨¡å—æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰ä½ å®šä¹‰çš„å‡½æ•°å’Œå˜é‡çš„æ–‡ä»¶ï¼Œå…¶åç¼€åæ˜¯.pyã€‚æ¨¡å—å¯ä»¥è¢«åˆ«çš„ç¨‹åºå¼•å…¥ï¼Œä»¥ä½¿ç”¨è¯¥æ¨¡å—ä¸­çš„å‡½æ•°ç­‰åŠŸèƒ½ã€‚ æ¨¡å—è®©ä½ èƒ½å¤Ÿæœ‰é€»è¾‘åœ°ç»„ç»‡ä½ çš„pythonä»£ç æ®µï¼›æŠŠç›¸å…³çš„ä»£ç åˆ†é…åˆ°ä¸€ä¸ªæ¨¡å—é‡Œèƒ½è®©ä½ çš„ä»£ç æ›´å¥½ç”¨ï¼Œæ›´æ˜“æ‡‚ã€‚æ¨¡å—èƒ½å®šä¹‰å‡½æ•°ï¼Œç±»å’Œå˜é‡ï¼Œæ¨¡å—é‡Œä¹Ÿèƒ½åŒ…å«å¯æ‰§è¡Œçš„ä»£ç ã€‚ importè¯­æ³•é€šè¿‡importå¯¼å…¥æ•´ä¸ªæ¨¡å— è¯­æ³•ï¼š import module1[, module2[,â€¦ moduleN] ä¾‹å¦‚ import pandas as pd #pdä¸ºåˆ«å Fromâ€¦importå¯¼å…¥æŒ‡å®šæ¨¡å—çš„éƒ¨åˆ†å±æ€§æˆ–è€…æ¨¡ç³Šå¯¼å…¥ è¯­æ³•ï¼š from modname import name1 ä¾‹å¦‚ from mini_project.components.Person import sayHelloè¿™æ ·å°±å¯ä»¥ç›´æ¥ä½¿ç”¨sayHello å¯¼å…¥æ¨¡å—çš„æ‰€æœ‰åŠŸèƒ½ from pandas import * æœç´¢è·¯å¾„å½“å¯¼å…¥ä¸€ä¸ªæ¨¡å—åï¼Œpythonè§£æå™¨å¯¹æ¨¡å—æ–‡ä»¶çš„æœç´¢é¡ºåºæ˜¯ï¼šå½“å‰ç›®å½•â€”-shellå˜é‡PYTHONPATHä¸‹çš„æ¯ä¸ªç›®å½•â€”â€”â€”-pythonæ¨¡å—è·¯å¾„ç›®å½•æ¨¡å—çš„æœç´¢è·¯å¾„å­˜å‚¨åœ¨systemæ¨¡å—çš„sys.pathå˜é‡ä¸­ï¼ŒåŒ…æ‹¬å½“å‰ç›®å½•ï¼Œpythonpathå’Œå®‰è£…è¿‡ç¨‹å†³å®šçš„é»˜è®¤ç›®å½•ã€‚ é€šè¿‡ä¸‹é¢å¯ä»¥å‚çœ‹ç³»ç»Ÿæœç´¢è·¯å¾„ import sys print(sys.path) #é»˜è®¤æœç´¢è·¯å¾„ å¦‚æœç¨‹åºåŠ¨æ€æ·»åŠ å¯ä»¥ä½¿ç”¨ sys.path.append(&quot;/media&quot;) #æ·»åŠ æ¨¡å—è·¯å¾„åˆ°æœç´¢è·¯å¾„ä¸­ åŒ…åŒ…æ˜¯ä¸€ä¸ªåˆ†å±‚æ¬¡çš„æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªç”±æ¨¡å—åŠå­åŒ…ï¼Œå’Œå­åŒ…ä¸‹çš„å­åŒ…ç­‰ç»„æˆçš„ Python çš„åº”ç”¨ç¯å¢ƒã€‚ä½¿ç”¨åŒ…å¯ä»¥å¾ˆå¥½çš„ç»„ç»‡Pythonçš„å·¥ç¨‹ç»“æ„ï¼Œä¸€ä¸ªåŒ…å°±æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚ ç®€å•æ¥è¯´ï¼ŒPythonçš„åº“å…¶å®å°±æ˜¯ä¸€ä¸ªåŒ…å«init.pyæ–‡ä»¶å¤¹ï¼Œä½†è¯¥æ–‡ä»¶å¤¹ä¸‹å¿…é¡»å­˜åœ¨ init.py æ–‡ä»¶ç”¨æ¥æŒ‡æ˜è¿™æ˜¯ä¸€ä¸ªåŒ…ï¼Œå…¶ç”¨æ¥å®šä¹‰åº“å±æ€§å’Œæ–¹æ³•ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹å¯ä»¥ä¸ºç©ºã€‚ ä¸€ä¸ªç®€å•å·¥ç¨‹å‚è€ƒç›®å½•å¦‚ä¸‹ï¼š â”œâ”€â”€ __init__.py â”œâ”€â”€ __pycache__ â”‚ â””â”€â”€ __init__.cpython-36.pyc â”œâ”€â”€ components â”‚ â”œâ”€â”€ Person.py â”‚ â”œâ”€â”€ __init__.py â”‚ â””â”€â”€ __pycache__ â”‚ â”œâ”€â”€ Person.cpython-36.pyc â”‚ â””â”€â”€ __init__.cpython-36.pyc â””â”€â”€ tests â”œâ”€â”€ __init__.py â””â”€â”€ test_person.py ç±»åˆ›å»ºPerson.py # -*- coding: UTF-8 -*- #------------------------------------- # file:Person.py class Person: #å±æ€§--å˜é‡ __sex = &quot;ç”·&quot; #ç§æœ‰å˜é‡ï¼Œåªéœ€è¦åœ¨å˜é‡å‰åŠ ä¸¤ä¸ªä¸‹åˆ’çº¿ name = None age = None #æ–¹æ³•--å‡½æ•° def sayHello(self, friendName): print( &quot;Hello %s I&apos;m %s %s years old&quot; % (friendName, self.name, self.age)) #æ„é€ å‡½æ•° def __init__(self, name, age): self.name = name self.age = age é€šè¿‡classå…³é”®å­—å®šä¹‰ç±»åï¼Œè¦æ±‚ç±»åçš„é¦–å­—æ¯å¤§å†™ï¼Œå®šä¹‰æˆå‘˜æ–¹æ³•æ—¶ï¼Œè¦æ±‚ä¼ é€’selfå‚æ•°ï¼ˆç›¸å½“äºJavaä¸­çš„thiså…³é”®å­—ï¼‰ï¼›Pythonä¸­å®šä¹‰æ„é€ å‡½æ•°ï¼Œè¦æ±‚æ„é€ å‡½æ•°çš„åç§°æ˜¯init Python æ²¡æœ‰ä¸¥æ ¼åŒºåˆ†å…¬å…± / å¤–éƒ¨å±æ€§å’Œç§æœ‰ / å†…éƒ¨å±æ€§ï¼Œä½†æ˜¯æŒ‰ç…§æƒ¯ä¾‹ï¼Œå‰é¢å¸¦æœ‰ä¸‹åˆ’çº¿è¡¨ç¤ºç§æœ‰å±æ€§æˆ–æ–¹æ³•ã€‚ åˆ›å»ºæµ‹è¯•æ–‡ä»¶test_person.py # -*- coding: UTF-8 -*- &quot;&quot;&quot; test_person.pyæ­¤è„šæœ¬ç”¨äºæµ‹è¯•person &quot;&quot;&quot; from os import sys, path if __name__ == &quot;__main__&quot;: # å¾—åˆ°mini_projectæ‰€åœ¨çš„ç»å¯¹è·¯å¾„ packagePath = path.dirname(path.dirname(path.dirname(path.abspath(__file__)))) # å°†mini_projectæ‰€åœ¨è·¯å¾„ï¼ŒåŠ åˆ°ç³»ç»Ÿè·¯å¾„é‡Œã€‚è¿™æ ·å°±å¯ä»¥å°†mini_projectä½œä¸ºåº“ä½¿ç”¨äº† sys.path.append(packagePath) import mini_project.components.Person as p #import é¢å‘å¯¹è±¡.ç±»å¯¹è±¡.Person as p person = p.Person(&quot;å¼ ä¸‰&quot;, 28) person.sayHello(&quot;xxxxx&quot;) # print(p.__sex) #æ— æ³•è®¿é—®ï¼Œå› ä¸º__sexå˜é‡æ˜¯ç§æœ‰çš„ print(person._Person__sex) #pythonæ˜¯ä¼ªç§æœ‰ï¼Œå¦‚æœæƒ³è®¿é—®ç§æœ‰å˜é‡å¯ä»¥é€šè¿‡ p._Person__sexï¼Œå³ï¼šå¯¹è±¡å._ç±»å__å˜é‡å å¦‚æœä¸€ä¸ªæ¨¡å—ä¸­çš„nameçš„å±æ€§å€¼ä¸ºmain,é‚£ä¹ˆè¿™ä¸ªæ¨¡å—å°±æ˜¯ä¸»æ¨¡å—ã€‚ ç›´æ¥è¿è¡Œpython3 test_person.py ipythonä½¿ç”¨æŠ€å·§ä¸€äº›æŠ€å·§ä½¿ç”¨é€šé…ç¬¦ In [10]: *Warning? In [10]: str.*find*? æ ‡å‡†çš„ Python shell ä»…ä»…åŒ…æ‹¬ä¸€ä¸ªç”¨äºè·å–ä»¥å‰çš„è¾“å‡ºçš„ç®€å•å¿«æ·é”®ã€‚ In [9]: print(_) å¦‚æœæƒ³ä¸€æ¬¡æ€§è·å–æ­¤å‰æ‰€æœ‰çš„è¾“å…¥å†å²ï¼Œ%history é­”æ³•å‘½ä»¤ä¼šéå¸¸æœ‰ç”¨ In [16]: %history -n 1-4 ! ç¬¦å·ä½œä¸ºå‰ç¼€åœ¨ IPython ä¸­æ‰§è¡Œä»»ä½•å‘½ä»¤è¡Œå‘½ä»¤ In [1]: !ls IPython shellä¸­çš„å¿«æ·é”®Ctrl + a å°†å…‰æ ‡ç§»åˆ°æœ¬è¡Œçš„å¼€å§‹å¤„ Ctrl + e å°†å…‰æ ‡ç§»åˆ°æœ¬è¡Œçš„ç»“å°¾å¤„ Ctrl + bï¼ˆæˆ–å·¦ç®­å¤´é”®ï¼‰ å°†å…‰æ ‡å›é€€ä¸€ä¸ªå­—ç¬¦ Ctrl + fï¼ˆæˆ–å³ç®­å¤´é”®ï¼‰ å°†å…‰æ ‡å‰è¿›ä¸€ä¸ªå­—ç¬¦ Ctrl + pï¼ˆæˆ–å‘ä¸Šç®­å¤´ï¼‰ è·å–å‰ä¸€ä¸ªå†å²å‘½ä»¤ Ctrl + nï¼ˆæˆ–å‘ä¸‹ç®­å¤´ï¼‰ è·å–åä¸€ä¸ªå†å²å‘½ä»¤ Ctrl + l æ¸…é™¤ç»ˆç«¯å±å¹•çš„å†…å®¹ Ctrl + c ä¸­æ–­å½“å‰çš„ Python å‘½ä»¤ Ctrl + d é€€å‡º IPython ä¼šè¯ IPythonå¢å¼ºå‘½ä»¤ç²˜è´´ä»£ç å—ï¼š%pasteå’Œ%cpasteæ‰§è¡Œå¤–éƒ¨ä»£ç ï¼š%runè®¡ç®—ä»£ç è¿è¡Œæ—¶é—´ï¼š%timeitå‚è€ƒç½‘ç«™ Pythonè¯­æ³• python3ä¹‹æ¨¡å—","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"è½¯ä»¶æ¶æ„æ¼«è°ˆ","slug":"21ç³»ç»Ÿè®¾è®¡/4+1è§†å›¾","date":"2017-10-06T00:00:00.000Z","updated":"2018-12-10T17:01:41.964Z","comments":true,"path":"2017/10/06/21ç³»ç»Ÿè®¾è®¡/4+1è§†å›¾/","link":"","permalink":"http://yoursite.com/2017/10/06/21ç³»ç»Ÿè®¾è®¡/4+1è§†å›¾/","excerpt":"","text":"æ¶æ„åˆ†ç±»ä¸šåŠ¡æ¶æ„,åŠŸèƒ½æ¶æ„,ï¼ˆç³»ç»Ÿæ¶æ„ï¼æŠ€æœ¯æ¶æ„ï¼‰ï¼Œåº”ç”¨æ¶æ„ ä¸šåŠ¡ï¼ˆé€»è¾‘ï¼‰æ¶æ„ä½¿ç”¨ä¸€å¥—æ–¹æ³•è®ºå¯¹äº§å“ï¼ˆé¡¹ç›®ï¼‰æ‰€æ¶‰åŠåˆ°çš„éœ€æ±‚çš„ä¸šåŠ¡è¿›è¡Œä¸šåŠ¡è¾¹ç•Œåˆ’åˆ†ï¼Œç®€å•çš„è®²å°±æ˜¯æ ¹æ®ä¸€å¥—é€»è¾‘æ€è·¯è¿›è¡Œä¸šåŠ¡çš„æ‹†åˆ†ï¼Œæ€»ä½“åŸåˆ™æ˜¯å¯¹ä¸šåŠ¡è¿›è¡Œä¸šåŠ¡è¾¹ç•Œçš„åˆ’åˆ†ï¼Œæ¯”å¦‚åšä¸€ä¸ªä¼ä¸šè®¢è´­æœåŠ¡ç½‘ç«™ï¼Œä½ éœ€è¦æŠŠå•†å“ç±»ç›®ã€å•†å“ã€è®¢å•ã€è®¢å•æœåŠ¡ã€æ”¯ä»˜ã€é€€æ¬¾å¾ˆæ¸…æ™°çš„åˆ’åˆ†å‡ºæ¥ï¼Œè€Œä¸šåŠ¡æ¶æ„ä¸éœ€è¦è€ƒè™‘è¯¸å¦‚æˆ‘ç”¨ä»€ä¹ˆæŠ€æœ¯å¼€å‘ã€æˆ‘çš„å¹¶å‘å¤§æ€ä¹ˆåŠã€æˆ‘é€‰æ‹©ä»€ä¹ˆæ ·çš„ç¡¬ä»¶ç­‰ç­‰ã€‚ åº”ç”¨æ¶æ„åº”ç”¨æ˜¯ä»‹äºä¸šåŠ¡è¯­è¨€ä¸æŠ€æœ¯è¯­è¨€ä¹‹é—´ï¼Œæ˜¯å¯¹æ•´ä¸ªç³»ç»Ÿå®ç°çš„æ€»ä½“ä¸Šçš„æ¶æ„ï¼Œä»–éœ€è¦æŒ‡å‡ºç³»ç»Ÿçš„å±‚æ¬¡ã€ç³»ç»Ÿå¼€å‘çš„åŸåˆ™ã€ç³»ç»Ÿå„ä¸ªå±‚æ¬¡çš„åº”ç”¨æœåŠ¡ï¼Œä¾‹å¦‚ï¼Œä¸Šè¿°ç³»ç»Ÿä¸­å¯ä»¥åˆ†ä¸ºã€æ•°æ®å±‚ï¼ˆèµ„æºå±‚ï¼‰ã€æ•°æ®æœåŠ¡å±‚ã€ä¸­é—´æ„å»ºæœåŠ¡å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚ã€è¡¨ç°å±‚ï¼Œå¹¶å†™æ˜æ¯ä¸ªå±‚æ¬¡åº”ç”¨æœåŠ¡ã€‚ æ•°æ®æ¶æ„å¯¹å­˜å‚¨æ•°æ®ï¼ˆèµ„æºï¼‰çš„æ¶æ„æ–¹æ³•è®ºï¼Œå…¶æ¶æ„åŸåˆ™åŒåº”ç”¨æ¶æ„å¤§åŒå°å¼‚ï¼Œå³è€ƒè™‘åˆ°å„ä¸ªç³»ç»Ÿåº”ç”¨åœºæ™¯ã€ä¸åŒæ—¶é—´æ®µçš„åº”ç”¨åœºæ™¯å¯¹æ•°æ®è¿›è¡Œè¯¸å¦‚æ•°æ®å¼‚æ„ã€è¯»å†™åˆ†ç¦»ã€æ•°æ®åº“æˆ–NOSQLçš„ç­–ç•¥ã€ç¼“å­˜çš„ä½¿ç”¨ã€åˆ†å¸ƒå¼æ•°æ®ï¼ˆæ•°æ®åº“ï¼‰ç­–ç•¥ç­‰ç­‰ã€‚ æŠ€æœ¯æ¶æ„å¯¹ä¸Šè¿°æ¶æ„ä¸­æå‡ºçš„åŠŸèƒ½ï¼ˆæˆ–æœåŠ¡ï¼‰è¿›è¡ŒæŠ€æœ¯æ–¹æ¡ˆçš„å®ç°ã€‚åŒ…æ‹¬è½¯ä»¶ç³»ç»Ÿå®ç°ã€æ“ä½œç³»ç»Ÿé€‰æ‹©ã€è¿è¡Œæ—¶è®¾è®¡ã€‚ æ¶æ„ä¸æ¶æ„è§†å›¾çš„å…³ç³»è½¯ä»¶æ¶æ„è§†å›¾ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„è§†å›¾å‘¢ï¼ŸPhilippe Kruchtenåœ¨å…¶è‘—ä½œã€ŠRationalç»Ÿä¸€è¿‡ç¨‹å¼•è®ºã€‹ä¸­å†™é“ï¼šä¸€ä¸ªæ¶æ„è§†å›¾æ˜¯å¯¹äºä»æŸä¸€è§†è§’æˆ–æŸä¸€ç‚¹ä¸Šçœ‹åˆ°çš„ç³»ç»Ÿæ‰€åšçš„ç®€åŒ–æè¿°ï¼Œæè¿°ä¸­æ¶µç›–äº†ç³»ç»Ÿçš„æŸä¸€ç‰¹å®šæ–¹é¢ï¼Œè€Œçœç•¥äº†äºæ­¤æ–¹é¢æ— å…³çš„å®ä½“ã€‚ æ¶æ„éœ€è¦æå™2ä¸ªæ–¹é¢çš„å†…å®¹ï¼Œä¸šåŠ¡æ¶æ„å’ŒæŠ€æœ¯æ¶æ„ã€‚ å¯¹åº”éœ€æ±‚ï¼Œå¯ä»¥åˆ†æˆï¼ŒåŠŸèƒ½éœ€æ±‚å’ŒéåŠŸèƒ½éœ€æ±‚ã€‚åŠŸèƒ½éœ€æ±‚åˆ†ä¸ºéåŠŸèƒ½éœ€æ±‚åŒ…å«è´¨é‡å±æ€§ï¼Œçº¦æŸã€‚æ²¡æœ‰å®Œç¾çš„æ¶æ„ï¼Œå› ä¸ºä»»ä½•é¡¹ç›®éƒ½æœ‰çº¦æŸã€‚å…¶ä¸­è´¨é‡å±æ€§åˆåŒ…å«è¿è¡ŒæœŸè´¨é‡å±æ€§å’Œå¼€å‘æœŸè´¨é‡å±æ€§ã€‚è¿è¡ŒæœŸè´¨é‡å±æ€§ï¼Œå¸¸è§å¦‚é«˜æ€§èƒ½ï¼Œæ˜“ç”¨æ€§ç­‰ã€‚å¼€å‘æœŸè´¨é‡å±æ€§ï¼Œå¸¸è§å¦‚æ˜“ç†è§£æ€§ï¼Œæ¨¡å—é—´æ¾è€¦åˆï¼Œæ˜“æµ‹è¯•æ€§ç­‰ã€‚éåŠŸèƒ½éœ€æ±‚åæŠ€æœ¯ä¸€äº›ã€‚ç°ä»£çš„æ¶æ„è¿˜éœ€è¦è€ƒè™‘æœªæ¥çš„æ‰©å±•æ€§çš„é—®é¢˜ï¼Œè¿™æ˜¯ä¸€ç§è‰ºæœ¯ã€‚ 4+1è§†å›¾â€œ4+1â€è§†å›¾æœ€æ—©ç”±Philippe Kruchtenæå‡ºï¼Œä»–åœ¨1995å¹´çš„ã€ŠIEEE Softwareã€‹ä¸Šå‘è¡¨äº†é¢˜ä¸ºã€ŠThe 4+1 View Model of Architectureã€‹çš„è®ºæ–‡ï¼Œå¼•èµ·äº†ä¸šç•Œçš„æå¤§å…³æ³¨ï¼Œå¹¶æœ€ç»ˆè¢«RUPé‡‡çº³ï¼Œç°åœ¨å·²æˆä¸ºæ¶æ„è®¾è®¡çš„ç»“æ„æ ‡å‡†ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ åœºæ™¯è§†å›¾ï¼ç”¨æˆ·éœ€æ±‚ä¹Ÿå«ç”¨ä¾‹è§†å›¾ï¼Œæè¿°ç”¨æˆ·çš„ä¸šåŠ¡åœºæ™¯ï¼Œä»ç”¨æˆ·çš„è§’åº¦è¯†åˆ«å‡ºä¸šåŠ¡éœ€æ±‚ï¼Œå®ƒæ˜¯æ¶æ„è®¾è®¡çš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚ å…·ä½“å¯ä»¥æå™çš„å‚è€ƒå†…å®¹ï¼šä¸šåŠ¡æµç¨‹å›¾ï¼Œç”¨ä¾‹å›¾ï¼Œæ¯ä¸ªç”¨ä¾‹çš„æ´»åŠ¨å›¾ã€‚ é€»è¾‘è§†å›¾ï¼è®¾è®¡æ»¡è¶³åŠŸèƒ½éœ€æ±‚çš„æ¶æ„é€»è¾‘è§†å›¾å…³æ³¨åŠŸèƒ½ï¼Œä¸ä»…åŒ…æ‹¬ç”¨æˆ·å¯è§çš„åŠŸèƒ½ï¼Œè¿˜åŒ…æ‹¬ä¸ºå®ç°ç”¨æˆ·åŠŸèƒ½è€Œå¿…é¡»æä¾›çš„â€è¾…åŠ©åŠŸèƒ½æ¨¡å—â€ã€‚ å¦‚æœè®¾è®¡é‡‡ç”¨é¢å‘å¯¹è±¡çš„æ–¹æ³•ï¼Œé€»è¾‘è§†å›¾å°±æ˜¯å¯¹è±¡æ¨¡å‹ã€‚é€»è¾‘è§†å›¾é‡ç‚¹åœ¨äºåŠŸèƒ½ï¼ŒåŠŸèƒ½åŒ…æ‹¬å¯è§çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œä¹ŸåŒ…æ‹¬ä¸å¯è§çš„ç³»ç»ŸåŠŸèƒ½ï¼ˆå¦‚æ—¥å¿—ã€æƒé™ã€äº‹åŠ¡ç­‰ï¼‰ã€‚åŒæ—¶æ›´é‡è¦çš„æ˜¯ç¡®ç«‹é€»è¾‘åˆ†å±‚ã€æ¨¡å—åˆ’åˆ†å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ å…·ä½“å¯ä»¥æå™çš„å‚è€ƒå†…å®¹ï¼šæ¨¡å—åˆ’åˆ†ä¸ä¾èµ–å…³ç³»ï¼ˆé€»è¾‘ç»“æ„å›¾ï¼‰ï¼Œä¸šåŠ¡å®ä½“ï¼Œé¢†åŸŸæ¨¡å‹ï¼ˆç±»å›¾ï¼‰ã€‚ å¼€å‘è§†å›¾ï¼è®¾è®¡æ»¡è¶³å¼€å‘æœŸè´¨é‡å±æ€§çš„æ¶æ„ä¾§é‡æè¿°å¼€å‘æœŸè´¨é‡å±æ€§ï¼Œè½¯ä»¶åœ¨å¼€å‘ç¯å¢ƒä¸‹çš„é™æ€ç»„ç»‡ã€‚å¼€å‘è§†å›¾å…³æ³¨ç¨‹åºåŒ…ï¼Œåº”ç”¨çš„ç»Ÿä¸€æ¡†æ¶ï¼Œå¼•ç”¨çš„ç±»åº“ã€SDKå’Œä¸­é—´ä»¶ï¼Œä»¥åŠå·¥ç¨‹å’ŒåŒ…çš„åˆ’åˆ†è§„åˆ™ç­‰ï¼Œè§„èŒƒã€çº¦æŸå¼€å‘ç¯å¢ƒçš„ç»“æ„ã€‚ å…·ä½“å¯ä»¥æå™çš„å‚è€ƒå†…å®¹ï¼šå¼€å‘ç¯å¢ƒï¼ŒæŠ€æœ¯æ¡†æ¶ï¼Œåˆ†å±‚ç­–ç•¥ï¼Œç›®å½•ç»“æ„ å¤„ç†è§†å›¾ï¼è®¾è®¡æ»¡è¶³è¿è¡ŒæœŸè´¨é‡å±æ€§çš„æ¶æ„æè¿°ç³»ç»Ÿçš„å¹¶å‘å’ŒåŒæ­¥æ–¹é¢çš„è®¾è®¡ï¼Œä¾§é‡è¿è¡ŒæœŸè´¨é‡å±æ€§ã€‚å¤„ç†è§†å›¾å…³æ³¨è¿›ç¨‹ã€çº¿ç¨‹ã€å¯¹è±¡ç­‰è¿è¡Œæ—¶æ¦‚å¿µï¼Œä»¥åŠç›¸å…³çš„å¹¶å‘ã€åŒæ­¥ã€é€šä¿¡ç­‰é—®é¢˜ã€‚å¦‚æœç³»ç»Ÿä¸éœ€è¦è€ƒè™‘è¿™äº›æ–¹é¢ï¼Œæœ¬è§†å›¾å¯ä»¥çœç•¥ã€‚ VSå¼€å‘è§†å›¾ï¼šå¼€å‘è§†å›¾ä¸€èˆ¬åé‡ç¨‹åºåŒ…åœ¨ç¼–è¯‘æ—¶æœŸçš„é™æ€ä¾èµ–å…³ç³»ï¼Œè€Œè¿™äº›ç¨‹åºè¿è¡Œèµ·æ¥ä¹‹åä¼šè¡¨ç°ä¸ºå¯¹è±¡ã€çº¿ç¨‹ã€è¿›ç¨‹ï¼Œå¤„ç†è§†å›¾æ¯”è¾ƒå…³æ³¨çš„æ­£æ˜¯è¿™äº›è¿è¡Œæ—¶å•å…ƒçš„äº¤äº’é—®é¢˜ã€‚ ç‰©ç†è§†å›¾ï¼éƒ¨ç½²ç›¸å…³çš„æ¶æ„å†³ç­–ä¹Ÿå«éƒ¨ç½²è§†å›¾ï¼Œæè¿°è½¯ä»¶å¦‚ä½•æ˜ å°„åˆ°ç¡¬ä»¶ï¼Œåæ˜ ç³»ç»Ÿåœ¨åˆ†å¸ƒ/éƒ¨ç½²ä¸Šçš„è®¾è®¡ã€‚ è½¯ä»¶æœ€ç»ˆè¦é©»ç•™ã€å®‰è£…æˆ–éƒ¨ç½²åˆ°ç¡¬ä»¶æ‰èƒ½è¿è¡Œï¼Œç‰©ç†è§†å›¾å…³æ³¨â€ç›®æ ‡ç¨‹åºåŠå…¶ä¾èµ–çš„è¿è¡Œåº“å’Œç³»ç»Ÿè½¯ä»¶â€æœ€ç»ˆå¦‚ä½•å®‰è£…æˆ–éƒ¨ç½²åˆ°ç‰©ç†æœºå™¨ï¼Œä»¥åŠå¦‚ä½•éƒ¨ç½²æœºå™¨å’Œç½‘ç»œæ¥é…åˆè½¯ä»¶ç³»ç»Ÿçš„å¯é æ€§ã€å¯ä¼¸ç¼©æ€§ç­‰è¦æ±‚ã€‚ é—®é¢˜ç±»ï¼åº“ï¼æœåŠ¡ï¼åº”ç”¨é¢†åŸŸæ¨¡å‹åœ¨å®ç°æ—¶å¯å¤§å¯å°ï¼Œåœ¨ä¸šåŠ¡çš„æ—©æœŸï¼Œåœ¨ç³»ç»Ÿæ¯”è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œå®ƒæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªç±»ã€‚å½“ç³»ç»Ÿåšå¤§äº†ä»¥åï¼Œå®ƒå¯èƒ½æ˜¯ä¸ª DLL åº“ã€‚å†åšæ›´å¤§ä¸€ç‚¹çš„æ—¶å€™ï¼Œå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œç»™ä¸åŒçš„åº”ç”¨å»è°ƒç”¨ã€‚æ¯ä¸€ä¸ªæ–¹æ³•éƒ½æœ‰æˆä¸ºæœåŠ¡çš„æ½œè´¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ç³»ç»Ÿä¸­åæœŸã€‚é¢†åŸŸæ¨¡å‹æ˜¯ä¸šåŠ¡é€»è¾‘ä»£ç çš„æ–½å·¥å›¾çº¸ï¼Œå®ƒä¸ä»…æœ‰åˆ©äºå¯¹ç°åœ¨ç³»ç»Ÿä¸šåŠ¡é€»è¾‘çš„äº†è§£ï¼ŒåŒæ—¶ä¹ŸæŒ‡å¯¼æœªæ¥çš„æ¶æ„æ”¹é€ ã€‚å¦å¤–ä¸€ä¸ªè¯é¢˜ï¼Œæ¶æ„æ¼”åŒ–ã€‚ ä¸ºä»€ä¹ˆéœ€è¦è¿›è¡Œæ¶æ„éªŒè¯ï¼Ÿå°†é£é™©æå‰ï¼Œä¸ºäº†æœ‰æ•ˆçš„è¯†åˆ«é£é™©ã€‚å¯ä»¥å°†ä»£ä»·é™åˆ°æœ€ä½ã€‚åªæœ‰ç³»ç»Ÿåšä¸€æ¬¡ï¼Œæ‰ä¸éœ€è¦è¿›è¡ŒéªŒè¯ã€‚é£é™©åº”è¯¥è´¯å½»åˆ°æ¶æ„çš„æ¯ä¸ªé˜¶æ®µã€‚ ä¸ºä»€ä¹ˆéœ€è¦æ¶æ„æ¼”åŒ–çº¦æŸåœ¨è¿›è¡Œå˜åŒ–ï¼Œäº§ç”Ÿçš„ç»“æœä¹Ÿè¿›è¡Œå˜åŒ–ã€‚ä¸šåŠ¡çš„å‘å±•æ¨ç”Ÿæ¶æ„éœ€è¦è¿›è¡Œç›¸åº”çš„è°ƒæ•´ã€‚ http://www.cnitpm.com/pm/21856.html å‚è€ƒhttp://www.cnblogs.com/JCSU/articles/2803598.html","categories":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}],"tags":[],"keywords":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}]},{"title":"Droolsåˆæ­¥å­¦ä¹ ","slug":"13åŸºç¡€æŠ€æœ¯/è§„åˆ™å¼•æ“/droolsåˆæ­¥å­¦ä¹ ","date":"2017-08-30T00:00:00.000Z","updated":"2018-12-10T14:33:32.222Z","comments":true,"path":"2017/08/30/13åŸºç¡€æŠ€æœ¯/è§„åˆ™å¼•æ“/droolsåˆæ­¥å­¦ä¹ /","link":"","permalink":"http://yoursite.com/2017/08/30/13åŸºç¡€æŠ€æœ¯/è§„åˆ™å¼•æ“/droolsåˆæ­¥å­¦ä¹ /","excerpt":"","text":"ç®€ä»‹ä½•ä¸ºè§„åˆ™å¼•æ“è§„åˆ™å¼•æ“ï¼ˆrule engineï¼‰æ˜¯æŒ‡å°†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘æŠ½è±¡æˆè§„åˆ™ï¼Œç„¶åä½¿ç”¨ç‰¹å®šçš„ç®—æ³•ï¼ˆæ¯”å¦‚Reteï¼‰å¯¹è§„åˆ™è¿›è¡Œæ±‚å€¼ç­‰æ“ä½œã€‚ç®€å•ç‚¹è¯´ï¼Œè§„åˆ™å¼•æ“å°±æ˜¯å®ç°å¤æ‚ä¸šåŠ¡é€»è¾‘çš„æ¡†æ¶ã€‚ è§„åˆ™å¼•æ“ç”±æ¨ç†å¼•æ“å‘å±•è€Œæ¥ï¼Œæ˜¯ä¸€ç§åµŒå…¥åœ¨åº”ç”¨ç¨‹åºä¸­çš„ç»„ä»¶ï¼Œå®ç°äº†å°†ä¸šåŠ¡å†³ç­–ä»åº”ç”¨ç¨‹åºä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå¹¶ä½¿ç”¨é¢„å®šä¹‰çš„è¯­ä¹‰æ¨¡å—ç¼–å†™ä¸šåŠ¡å†³ç­–ã€‚æ¥å—æ•°æ®è¾“å…¥ï¼Œè§£é‡Šä¸šåŠ¡è§„åˆ™ï¼Œå¹¶æ ¹æ®ä¸šåŠ¡è§„åˆ™åšå‡ºä¸šåŠ¡å†³ç­–,ä»è€Œç»™ç¼–ç¨‹å¸¦æ¥äº†æå¤§çš„æ–¹ä¾¿ã€‚ å¼•å…¥ä¸šåŠ¡è§„åˆ™æŠ€æœ¯çš„ç›®çš„å¯¹ç³»ç»Ÿçš„ä½¿ç”¨äººå‘˜ æŠŠä¸šåŠ¡ç­–ç•¥ï¼ˆè§„åˆ™ï¼‰çš„åˆ›å»ºã€ä¿®æ”¹å’Œç»´æŠ¤çš„æƒåˆ©äº¤ç»™ä¸šåŠ¡ç»ç† æé«˜ä¸šåŠ¡çµæ´»æ€§ åŠ å¼ºä¸šåŠ¡å¤„ç†çš„é€æ˜åº¦ï¼Œä¸šåŠ¡è§„åˆ™å¯ä»¥è¢«ç®¡ç† å‡å°‘å¯¹ITäººå‘˜çš„ä¾èµ–ç¨‹åº¦ é¿å…å°†æ¥å‡çº§çš„é£é™© å¯¹ITå¼€å‘äººå‘˜ ç®€åŒ–ç³»ç»Ÿæ¶æ„ï¼Œä¼˜åŒ–åº”ç”¨ æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œç»´æŠ¤æˆæœ¬ æ–¹ä¾¿ç³»ç»Ÿçš„æ•´åˆ å‡å°‘ç¼–å†™â€œç¡¬ä»£ç â€ä¸šåŠ¡è§„åˆ™çš„æˆæœ¬å’Œé£é™© Droolsç®€ä»‹Droolsæ˜¯ä¸€æ¬¾åŸºäºJavaçš„å¼€æºè§„åˆ™å¼•æ“ï¼Œä»¥å°†å¤æ‚å¤šå˜çš„è§„åˆ™ä»ç¡¬ç¼–ç ä¸­è§£æ”¾å‡ºæ¥ï¼Œä»¥è§„åˆ™è„šæœ¬çš„å½¢å¼å­˜æ”¾åœ¨æ–‡ä»¶ä¸­ï¼Œä½¿å¾—è§„åˆ™çš„å˜æ›´ä¸éœ€è¦ä¿®æ­£ä»£ç é‡å¯æœºå™¨å°±å¯ä»¥ç«‹å³åœ¨çº¿ä¸Šç¯å¢ƒç”Ÿæ•ˆã€‚ Droolsæ¨å‡ºäº†ä¸€å¥—æ–°çš„åŸºäºKIEï¼ˆKnowledge Is Everything çŸ¥è¯†å°±æ˜¯ä¸€åˆ‡ï¼‰æ¦‚å¿µçš„APIï¼Œå…¶ç›®çš„æ˜¯å°†ä¹‹å‰ç‰ˆæœ¬ä¸­å¯¹è§„åˆ™å¼•æ“ç¹ççš„è°ƒç”¨å’ŒåŠ è½½è¿‡ç¨‹åŠ ä»¥ç®€åŒ–ã€‚ Droolsçš„åŸºæœ¬å·¥ä½œè¿‡ç¨‹Droolsæ‰§è¡Œæ—¶ä¼ é€’è¿›å»æ•°æ®ï¼Œç”¨äºè§„åˆ™çš„æ£€æŸ¥ï¼Œè°ƒç”¨å¤–éƒ¨æ¥å£ï¼ŒåŒæ—¶è¿˜å¯èƒ½éœ€è¦è·å–åˆ°è§„åˆ™æ‰§è¡Œå®Œæ¯•åå¾—åˆ°çš„ç»“æœã€‚åœ¨droolsä¸­ï¼Œè¿™ä¸ªä¼ é€’æ•°æ®è¿›å»çš„å¯¹è±¡ï¼Œæœ¯è¯­å«Factå¯¹è±¡ã€‚Factå¯¹è±¡æ˜¯ä¸€ä¸ªæ™®é€šçš„java beanï¼Œè§„åˆ™ä¸­å¯ä»¥å¯¹å½“å‰å¯¹è±¡è¿›è¡Œä»»ä½•çš„è¯»å†™æ“ä½œï¼Œè°ƒç”¨è¯¥å¯¹è±¡æä¾›çš„æ–¹æ³•ã€‚ è§„åˆ™ï¼šLHSï¼ˆLeft Hand Sideï¼‰éƒ¨åˆ†ä¸ºæ¡ä»¶åˆ†æ”¯é€»è¾‘ã€‚ åœ¨ LHS å½“ä¸­ï¼Œå¯ä»¥åŒ…å« 0~n ä¸ªæ¡ä»¶ï¼Œå¦‚æœ LHS éƒ¨åˆ†æ²¡ç©ºçš„è¯ï¼Œé‚£ä¹ˆå¼•æ“ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªeval(true)çš„æ¡ä»¶ã€‚ RHSï¼ˆRight Hand Sideï¼‰ä¸ºæ‰§è¡Œé€»è¾‘ã€‚åœ¨RHSå½“ä¸­å¯ä»¥ä½¿ç”¨LHS éƒ¨åˆ†å½“ä¸­å®šä¹‰çš„ç»‘å®šå˜é‡åã€è®¾ç½®çš„å…¨å±€å˜é‡ã€æˆ–è€…æ˜¯ç›´æ¥ç¼–å†™Javaä»£ç ã€‚ ç»“æœå¯¹è±¡ï¼šè§„åˆ™å¤„ç†å®Œæ¯•åçš„ç»“æœã€‚éœ€è¦æ”¯æŒè‡ªå®šä¹‰ç±»å‹æˆ–è€…ç®€å•ç±»å‹ï¼ˆIntegerã€Longã€Floatã€Doubleã€Shortã€Stringã€Booleanç­‰ï¼‰ ##ç¬¬ä¸€ä¸ªç¨‹åº ###å»ºç«‹ä¸€ä¸ªmavenå·¥ç¨‹ï¼Œpomå¦‚ä¸‹ &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.fir.drools&lt;/groupId&gt; &lt;artifactId&gt;drools-moudles&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;drools-moudles&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;!-- drools è§„åˆ™å¼•æ“ ç‰ˆæœ¬ --&gt; &lt;drools.version&gt;6.4.0.Final&lt;/drools.version&gt; &lt;spring.version&gt;4.2.6.RELEASE&lt;/spring.version&gt; &lt;log4j2.version&gt;2.5&lt;/log4j2.version&gt; &lt;/properties&gt; &lt;!-- ä¾èµ–é¡¹å®šä¹‰ --&gt; &lt;dependencies&gt; &lt;!-- start drools --&gt; &lt;dependency&gt; &lt;groupId&gt;org.drools&lt;/groupId&gt; &lt;artifactId&gt;drools-core&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.drools&lt;/groupId&gt; &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.drools&lt;/groupId&gt; &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.drools&lt;/groupId&gt; &lt;artifactId&gt;drools-workbench-models-guided-template&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.drools&lt;/groupId&gt; &lt;artifactId&gt;drools-simulator&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jbpm&lt;/groupId&gt; &lt;artifactId&gt;jbpm-flow-builder&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.kie&lt;/groupId&gt; &lt;artifactId&gt;kie-spring&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.kie&lt;/groupId&gt; &lt;artifactId&gt;kie-ci&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.kie&lt;/groupId&gt; &lt;artifactId&gt;kie-internal&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.kie&lt;/groupId&gt; &lt;artifactId&gt;kie-api&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.drools&lt;/groupId&gt; &lt;artifactId&gt;drools-workbench-models-guided-dtable&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.drools&lt;/groupId&gt; &lt;artifactId&gt;drools-templates&lt;/artifactId&gt; &lt;version&gt;${drools.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- end drools --&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;testResources&gt; &lt;testResource&gt; &lt;directory&gt; ${project.basedir}/src/main/resources &lt;/directory&gt; &lt;/testResource&gt; &lt;/testResources&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.7&lt;/source&gt; &lt;target&gt;1.7&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt; ç¼–è¾‘Kmodule.xmlæ–°å»ºkmodule.xmlæ–‡ä»¶æ”¾åˆ°src/main/resources/META-INF/æ–‡ä»¶å¤¹ä¸‹ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;kmodule xmlns=&quot;http://www.drools.org/xsd/kmodule&quot;&gt; &lt;kbase name=&quot;kbase1&quot; packages=&quot;rules.testwrod&quot;&gt; &lt;ksession name=&quot;session&quot;/&gt; &lt;/kbase&gt; &lt;/kmodule&gt; ç¼–è¾‘ä¸€ä¸ªè§„åˆ™æ–‡ä»¶åœ¨src/main/resources/rules/testwrod/ä¸‹æ–°å»ºä¸€ä¸ªPerson.drlæ–‡ä»¶å¦‚ä¸‹ï¼š package rules.testwrod import com.drools.test.Person rule test001 when $p:Person(name==&quot;å¼ ä¸‰&quot;,age==30); then $p.setName(&quot;æå››&quot;); System.out.println(&quot;æ”¹å®Œåçš„åå­—&quot;+$p.getName()); end åˆ›å»ºä¸€ä¸ªjavaæ–‡ä»¶package com.drools.test; /** * Created by ww on 17/8/29. */ import org.kie.api.KieServices; import org.kie.api.runtime.KieContainer; import org.kie.api.runtime.KieSession; import org.kie.api.runtime.rule.FactHandle; public class TestWrod{ public static void main(String[] args) { KieServices kss = KieServices.Factory.get(); //ä»classpathä¸­è¯»å–kmoduleï¼Œåˆ›å»ºKieContainderå®¹å™¨ KieContainer kc = kss.getKieClasspathContainer(); //kieContaineræ ¹æ®kmodule.xmlå®šä¹‰çš„ksessionçš„åç§°æ‰¾åˆ°KieSessionçš„å®šä¹‰ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªKieSessionçš„å®ä¾‹ KieSession ks =kc.newKieSession(&quot;session&quot;); //Factå¯¹è±¡ Person person=new Person(&quot;å¼ ä¸‰&quot;,30); FactHandle insert = ks.insert(person); //KieSessionå°±æ˜¯ä¸€ä¸ªåˆ°è§„åˆ™å¼•æ“çš„é“¾æ¥ï¼Œé€šè¿‡å®ƒå°±å¯ä»¥è·Ÿè§„åˆ™å¼•æ“é€šè®¯ï¼Œå¹¶ä¸”å‘èµ·æ‰§è¡Œè§„åˆ™çš„æ“ä½œ int count = ks.fireAllRules(); //æœ€åå°†kiesessionè¿æ¥å…³é—­ System.out.println(&quot;æ€»æ‰§è¡Œäº†&quot;+count+&quot;æ¡è§„åˆ™&quot;); ks.dispose(); } } è¿è¡Œjavaç¨‹åºï¼ŒæŸ¥çœ‹ç»“æœæ”¹å®Œåçš„åå­—æå›› æ€»æ‰§è¡Œäº†1æ¡è§„åˆ™ è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸã€‚ Droolsè¯­æ³•å­¦ä¹ å¤æ‚ä¸€ç‚¹çš„è¯­æ³•rule &quot;rule1&quot; when $customer:Customer(age&gt;20,gender==&apos;male&apos;) Order(customer==$customer,price&gt;1000) then .... end ç¬¬ä¸€ä¸ªï¼špattern(æ¨¡å¼) æœ‰ä¸‰ä¸ªçº¦æŸ1ã€ å¯¹è±¡ ç±»å‹å¿…é¡»æ˜¯ Cutomerï¼›2ã€Cutomer çš„ age è¦å¤§äº 203ã€Cutomer çš„ gender è¦æ˜¯ maleç¬¬äºŒä¸ª:pattern(æ¨¡å¼) æœ‰ä¸‰ä¸ªçº¦æŸ1ã€ å¯¹è±¡ç±»å‹å¿…é¡»æ˜¯ Order;2ã€ Order å¯¹åº”çš„ Cutomer å¿…é¡»æ˜¯å‰é¢çš„é‚£ä¸ª Customer3ã€ å½“å‰è¿™ä¸ª Order çš„ price è¦å¤§äº 1000 è¿™ä¸¤ä¸ª pattern æ²¡æœ‰ç¬¦å·è¿æ¥ï¼Œåœ¨ Drools å½“ä¸­åœ¨ pattern ä¸­æ²¡æœ‰è¿æ¥ç¬¦å·ï¼Œé‚£ä¹ˆå°±ç”¨ and æ¥ä½œä¸ºé»˜è®¤è¿æ¥ï¼Œæ‰€ä»¥åœ¨è¯¥è§„åˆ™çš„ LHS éƒ¨åˆ† ä¸­ä¸¤ä¸ªpattern(æ¨¡å¼)åªæœ‰éƒ½æ»¡è¶³äº†æ‰ä¼šè¿”å› trueã€‚å¯¹äºå¯¹è±¡å†…éƒ¨çš„å¤šä¸ªçº¦æŸå¯ä»¥é‡‡ç”¨&amp;&amp;ï¼ˆandï¼‰ã€||(or)å’Œ,(and)æ¥è¿æ¥ã€‚&amp;&amp;å’Œ,ä¸èƒ½æ··ç”¨ è§„åˆ™çš„å±æ€§Salienceä¼˜å…ˆçº§ä½œç”¨æ˜¯ç”¨æ¥è®¾ç½®è§„åˆ™æ‰§è¡Œçš„ä¼˜å…ˆçº§ï¼Œ salience å±æ€§çš„å€¼æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ•°å­—è¶Šå¤§æ‰§è¡Œä¼˜å…ˆçº§è¶Šé«˜ï¼ŒåŒæ—¶å®ƒçš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªè´Ÿæ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè§„åˆ™çš„ salience é»˜è®¤å€¼ä¸º 0 package rules.testwrod rule test001 salience 2 when then System.out.println(&quot;æ‰§è¡Œtest001&quot;); end rule test002 salience 1 when then System.out.println(&quot;æ‰§è¡Œtest002&quot;); end no-loopé˜²æ­¢æ­»å¾ªç¯date-effectiveæ—¥æœŸæ¯”è¾ƒå°äºç­‰äºè¯¥å±æ€§æ˜¯ç”¨æ¥æ§åˆ¶è§„åˆ™åªæœ‰åœ¨åˆ°è¾¾åæ‰ä¼šè§¦å‘ date-expiresæ—¥æœŸæ¯”è¾ƒå¤§äºdate-expires çš„ä½œç”¨æ˜¯ç”¨æ¥è®¾ç½®è§„åˆ™çš„æœ‰æ•ˆæœŸ Enabledæ˜¯å¦å¯ç”¨lock-on-active è§„åˆ™åªæ‰§è¡Œä¸€æ¬¡activation-groupåˆ†ç»„å…·æœ‰ç›¸åŒ activation-group å±æ€§çš„è§„åˆ™ä¸­åªè¦æœ‰ä¸€ä¸ªä¼šè¢«æ‰§è¡Œï¼Œå…¶å®ƒçš„è§„åˆ™éƒ½å°†ä¸å†æ‰§è¡Œã€‚ agenda-groupè®®ç¨‹åˆ†ç»„å¼•æ“åœ¨è°ƒç”¨è¿™äº›è®¾ç½®äº† agenda-group å±æ€§çš„è§„åˆ™çš„æ—¶å€™éœ€è¦æ˜¾ç¤ºçš„æŒ‡å®šæŸä¸ª Agenda Group å¾—åˆ° Focusï¼ˆç„¦ç‚¹ï¼‰ï¼Œè¿™æ ·ä½äºè¯¥ Agenda Group å½“ä¸­çš„è§„åˆ™ä¼šæ‰è§¦å‘æ‰§è¡Œï¼Œå¦åˆ™å°†ä¸æ‰§è¡Œã€‚ auto-focusç„¦ç‚¹åˆ†ç»„å®é™…åº”ç”¨å½“ä¸­ agenda-group å¯ä»¥å’Œ auto-focuså±æ€§ä¸€èµ·ä½¿ç”¨ï¼Œè¿™æ ·å°±ä¸ä¼šåœ¨ä»£ç å½“ä¸­æ˜¾ç¤ºçš„ä¸ºæŸä¸ª Agenda Group è®¾ç½® setFocus äº†ã€‚ä¸€æ—¦å°†æŸä¸ªè§„åˆ™çš„ auto-focus å±æ€§è®¾ç½®ä¸º trueï¼Œé‚£ä¹ˆå³ä½¿è¯¥è§„åˆ™è®¾ç½®äº† agenda-group å±æ€§ï¼Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦åœ¨ä»£ç å½“ä¸­æ˜¾ç¤ºçš„è®¾ç½® Agenda Group çš„setFocusäº†ã€‚ ruleflow-groupè§„åˆ™æµ åœ¨ä½¿ç”¨è§„åˆ™æµçš„æ—¶å€™è¦ç”¨åˆ° ruleflow-groupå±æ€§ï¼Œåœ¨è§„åˆ™æµå½“ä¸­é€šè¿‡ä½¿ç”¨ ruleflow-group å±æ€§çš„å€¼ï¼Œä»è€Œä½¿ç”¨å¯¹åº”çš„è§„åˆ™ï¼Œè¯¥å±æ€§ä¼šé€šè¿‡æµç¨‹çš„èµ°å‘ç¡®å®šè¦æ‰§è¡Œå“ªä¸€æ¡è§„åˆ™ã€‚ ##Droolså‡½æ•°çš„ä½¿ç”¨ å‡½æ•°æ˜¯åœ¨ä½ çš„è§„åˆ™æºæ–‡ä»¶ä¸­æ”¾ç½®è¯­ä¹‰ä»£ç çš„ä¸€ç§æ–¹æ³•ï¼Œç›¸å¯¹äºåœ¨æ™®é€šçš„ java ç±»ä¸­çš„æ–¹æ³•ã€‚åœ¨ä¸€æ¡è§„åˆ™çš„æ¨è®ºï¼ˆthenï¼‰éƒ¨åˆ†ä¸­è°ƒç”¨åŠ¨ä½œï¼Œå‡½æ•°æ˜¯æœ€æœ‰ç”¨çš„ï¼Œç‰¹åˆ«æ˜¯å¦‚æœåå¤ä½¿ç”¨çš„ç‰¹æ®ŠåŠ¨ä½œã€‚ package rule.testword function String hello(String name) { return &quot;Hello &quot;+name+&quot;!&quot;; } rule &quot;using a static function&quot; when eval( true ) then System.out.println( hello( &quot;Bob&quot; ) ); end Droolæ”¯æŒå‡½æ•°å¯¼å…¥çš„åº”ç”¨ï¼Œimport function my.package.Foo.hello å‡½æ•°ä¸èƒ½ç›´æ¥ç”¨åœ¨whenæ¡ä»¶é‡Œï¼Œæ­£ç¡®çš„åº”è¯¥eval(hello(&quot;å¼ ä¸‰functionTest&quot;)); ##å…ƒæ•°æ®çš„å®šä¹‰ ##Droolså®å‡½æ•° Droolså½“ä¸­ï¼Œåœ¨RHSé‡Œé¢ï¼Œæä¾›äº†ä¸€äº›å¯¹å½“å‰ Working Memory å®ç°å¿«é€Ÿæ“ä½œçš„å®å‡½æ•°æˆ–å¯¹è±¡ï¼Œæ¯”å¦‚insert/insertLogicalã€update/modify å’Œ retract å°±å¯ä»¥å®ç°å¯¹å½“å‰ Working Memory ä¸­çš„ Fact å¯¹è±¡è¿›è¡Œæ–°å¢ã€ä¿®æ”¹æˆ–è€…æ˜¯åˆ é™¤ï¼›å¦‚æœæ‚¨è§‰å¾—è¿˜è¦ä½¿ç”¨ Drools å½“ä¸­æä¾›çš„å…¶å®ƒæ–¹æ³•ï¼Œé‚£ä¹ˆæ‚¨è¿˜å¯ä»¥ä½¿ç”¨å¦ä¸€å¤–å®å¯¹è±¡ droolsï¼Œé€šè¿‡è¯¥å¯¹è±¡å¯ä»¥ä½¿ç”¨æ›´å¤šçš„æ“ä½œå½“å‰ Working Memory çš„æ–¹æ³•ï¼›åŒæ—¶Droolsè¿˜æä¾›äº†ä¸€ä¸ªåä¸º kcontext çš„å®å¯¹è±¡ï¼Œä½¿æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥å¯¹è±¡ç›´æ¥è®¿é—®å½“å‰ Working Memory çš„ KnowledgeRuntimeã€‚ å‚è€ƒæ–‡ç«  jbossè§„åˆ™å¼•æ“KIE Drools 6.3.0 Final æ•™ç¨‹(1) http://blog.csdn.net/column/details/16183.html?&amp;page=2","categories":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}],"tags":[{"name":"Drools","slug":"Drools","permalink":"http://yoursite.com/tags/Drools/"},{"name":"è§„åˆ™å¼•æ“","slug":"è§„åˆ™å¼•æ“","permalink":"http://yoursite.com/tags/è§„åˆ™å¼•æ“/"}],"keywords":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}]},{"title":"rsyslogå­¦ä¹ ","slug":"13åŸºç¡€æŠ€æœ¯/linux/ubuntu/rsyslogä½¿ç”¨","date":"2017-03-26T00:00:00.000Z","updated":"2018-05-27T09:06:00.058Z","comments":true,"path":"2017/03/26/13åŸºç¡€æŠ€æœ¯/linux/ubuntu/rsyslogä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2017/03/26/13åŸºç¡€æŠ€æœ¯/linux/ubuntu/rsyslogä½¿ç”¨/","excerpt":"","text":"rsyslogå­¦ä¹ ç®€ä»‹æœ€æ–°çš„æ“ä½œç³»ç»Ÿå¤§éƒ½å·²ç»é‡‡ç”¨äº†rsyslogå–ä»£syslogï¼Œä½œä¸ºæ–°çš„ç³»ç»Ÿæ—¥å¿—ç¨‹åºï¼Œrsyslogæ”¯æŒå°†æ—¥å¿—å­˜å‚¨åˆ°è¿œç«¯çš„æ—¥å¿—æœåŠ¡å™¨ã€‚ 1.æ”¯æŒå¤šçº¿ç¨‹2.æ”¯æŒTCP,SSL,TLS,RELPç­‰åè®®3.æ”¯æŒå°†æ—¥å¿—å†™å…¥MySQL, PGSQL, Oracleç­‰å¤šç§å…³ç³»å‹æ•°æ®ä¸­4.æ‹¥æœ‰å¼ºå¤§çš„è¿‡æ»¤å™¨ï¼Œå¯å®ç°è¿‡æ»¤ç³»ç»Ÿä¿¡æ¯ä¸­çš„ä»»æ„éƒ¨åˆ†5.å¯ä»¥è‡ªå®šä¹‰æ—¥å¿—è¾“å‡ºæ ¼å¼6.é€‚ç”¨äºä¼ä¸šçº§çš„æ—¥å¿—è®°å½•éœ€æ±‚ rsyslogæ—¥å¿—æœåŠ¡çš„é…ç½®æ–‡ä»¶Rsyslogçš„é…ç½®æ–‡ä»¶ä¸º/etc/rsyslog.conf,å…¶ä¸­å…±åˆ†ä¸ºä¸‰å—å†…å®¹: å®šä¹‰æ¨¡å—ç›¸å…³ä¿¡æ¯$MmodLoad imuxsock #ç”¨äºåŠ è½½æ¨¡å— $ModLoad imuxsock åŠ è½½socketçš„æ—¥å¿—$ModLoad imklog åŠ è½½logçš„æ—¥å¿—$ModLoad imudp åŠ è½½è¿œç¨‹æ—¥å¿—æœåŠ¡å™¨çš„UDPåè®®â€¦.. å®šä¹‰å…¨å±€çš„é…ç½®ä¿¡æ¯$IncludeConfig /etc/rsyslog.d/*.conf#ç”¨äºåŠ è½½å…¶ä»–çš„é…ç½®æ–‡ä»¶,å®ç°åˆ†æ®µç®¡ç† å®šä¹‰æ—¥å¿—è®°å½•è§„åˆ™*.info;mail.none;authpriv.none;cron.none/var/log/messages #å®šä¹‰å„ç±»å‹æ—¥å¿—å­˜æ”¾ä½ç½® rsyslogè§„åˆ™å®šä¹‰æ ¼å¼facility.priority Targetauth #pamäº§ç”Ÿçš„æ—¥å¿—ï¼Œè®¤è¯æ—¥å¿— facility(è®¾æ–½)auth â€“pamäº§ç”Ÿçš„æ—¥å¿—authpriv â€“ssh,ftpç­‰ç™»å½•ä¿¡æ¯çš„éªŒè¯ä¿¡æ¯cron â€“æ—¶é—´ä»»åŠ¡ç›¸å…³kern â€“å†…æ ¸lpr â€“æ‰“å°mail â€“é‚®ä»¶mark(syslog)â€“rsyslogæœåŠ¡å†…éƒ¨çš„ä¿¡æ¯,æ—¶é—´æ ‡è¯†news â€“æ–°é—»ç»„user â€“ç”¨æˆ·ç¨‹åºäº§ç”Ÿçš„ç›¸å…³ä¿¡æ¯uucp â€“unix to unix copy, unixä¸»æœºä¹‹é—´ç›¸å…³çš„é€šè®¯local 1~7 â€“è‡ªå®šä¹‰çš„æ—¥å¿—è®¾å¤‡ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é€šé…ç¬¦:*:æ‰€æœ‰è®¾æ–½f1,f2,f3â€¦..:åˆ—è¡¨!:å–å priority(çº§åˆ«)debug â€“æœ‰è°ƒå¼ä¿¡æ¯çš„ï¼Œæ—¥å¿—ä¿¡æ¯æœ€å¤šinfo â€“ä¸€èˆ¬ä¿¡æ¯çš„æ—¥å¿—ï¼Œæœ€å¸¸ç”¨notice â€“æœ€å…·æœ‰é‡è¦æ€§çš„æ™®é€šæ¡ä»¶çš„ä¿¡æ¯warning â€“è­¦å‘Šçº§åˆ«err â€“é”™è¯¯çº§åˆ«ï¼Œé˜»æ­¢æŸä¸ªåŠŸèƒ½æˆ–è€…æ¨¡å—ä¸èƒ½æ­£å¸¸å·¥ä½œçš„ä¿¡æ¯crit â€“ä¸¥é‡çº§åˆ«ï¼Œé˜»æ­¢æ•´ä¸ªç³»ç»Ÿæˆ–è€…æ•´ä¸ªè½¯ä»¶ä¸èƒ½æ­£å¸¸å·¥ä½œçš„ä¿¡æ¯alert â€“éœ€è¦ç«‹åˆ»ä¿®æ”¹çš„ä¿¡æ¯emerg â€“å†…æ ¸å´©æºƒç­‰ä¸¥é‡ä¿¡æ¯none â€“ä»€ä¹ˆéƒ½ä¸è®°å½•ä»ä¸Šåˆ°ä¸‹ï¼Œçº§åˆ«ä»ä½åˆ°é«˜ï¼Œè®°å½•çš„ä¿¡æ¯è¶Šæ¥è¶Šå°‘è¯¦ç»†çš„å¯ä»¥æŸ¥çœ‹æ‰‹å†Œ: man 3 syslog Target(ç›®æ ‡)/path/to/file#è·¯å¾„*#æ‰“å°åˆ°å·²ç™»å½•çš„ç”¨æˆ·ç•Œé¢@ServerIP#å‘é€åˆ°æ—¥å¿—æœåŠ¡å™¨|COMMAND#å‘é€åˆ°æŒ‡å®šç›®å½•è¿›è¡Œå¤„ç† ##é…ç½®åº”ç”¨ä¾‹å­ :: *.info;mail.none;authpriv.none;cron.none /var/log/messages authpriv.* /var/log/secure mail.* /var/log/maillog cron.* /var/log/cron *.emerg * uucp,news.crit /var/log/spooler local7.* /var/log/boot.log ä¾‹å­è®°å½•åˆ°æ™®é€šæ–‡ä»¶æˆ–è®¾å¤‡æ–‡ä»¶::. /var/log/file.log # ç»å¯¹è·¯å¾„. /dev/pts/0æµ‹è¯•: logger -p local3.info â€˜KadeFor is testing the rsyslog and logger â€˜ logger å‘½ä»¤ç”¨äºäº§ç”Ÿæ—¥å¿— è½¬å‘åˆ°è¿œç¨‹::. @192.168.0.1 # ä½¿ç”¨UDPåè®®è½¬å‘åˆ°192.168.0.1çš„514(é»˜è®¤)ç«¯å£. @@192.168.0.1:10514 # ä½¿ç”¨TCPåè®®è½¬å‘åˆ°192.168.0.1çš„10514(é»˜è®¤)ç«¯å£ å‘é€ç»™ç”¨æˆ·(éœ€è¦åœ¨çº¿æ‰èƒ½æ”¶åˆ°)::. root. root,kadefor,up01 # ä½¿ç”¨,å·åˆ†éš”å¤šä¸ªç”¨æˆ·. # å·è¡¨ç¤ºæ‰€æœ‰åœ¨çº¿ç”¨æˆ· å¿½ç•¥,ä¸¢å¼ƒ::local3.* ~ # å¿½ç•¥æ‰€æœ‰local3ç±»å‹çš„æ‰€æœ‰çº§åˆ«çš„æ—¥å¿— æ‰§è¡Œè„šæœ¬::local3.* ^/tmp/a.sh # ^å·åè·Ÿå¯æ‰§è¡Œè„šæœ¬æˆ–ç¨‹åºçš„ç»å¯¹è·¯å¾„ å®‰è£…/etc/rsyslog.conf rsyslogæ—¥å¿—çš„ä¸»é…ç½®æ–‡ä»¶/etc/rsyslog.d/*.conf rsyslogæ—¥å¿—çš„è¾…åŠ©é…ç½®æ–‡ä»¶/var/log/ æ—¥å¿—æ–‡ä»¶çš„ç›®å½• å‚è€ƒhttp://www.cnblogs.com/zengkefu/p/5606875.htmlhttp://dddbk.blog.51cto.com/6837943/1542807","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/tags/Ubuntu/"}],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"å¼€å‘æ–¹æ³•è®ºæ€»ç»“","slug":"21ç³»ç»Ÿè®¾è®¡/æˆ‘çš„å¼€å‘ä¸–ç•Œè§‚","date":"2017-02-07T00:00:00.000Z","updated":"2018-12-10T16:58:12.486Z","comments":true,"path":"2017/02/07/21ç³»ç»Ÿè®¾è®¡/æˆ‘çš„å¼€å‘ä¸–ç•Œè§‚/","link":"","permalink":"http://yoursite.com/2017/02/07/21ç³»ç»Ÿè®¾è®¡/æˆ‘çš„å¼€å‘ä¸–ç•Œè§‚/","excerpt":"","text":"å¼•è¨€å½“ç¼–ç¨‹å¼€å‘çš„å¹´é™åˆ°äº†ç¾äºå‘å¤–äººé“çš„æ—¶å€™ï¼Œè¿™æœŸé—´å‡ºç°äº†å¾ˆå¤šç¼–ç¨‹æ€ç»´å’Œæ–¹æ³•è®ºã€‚å°†è‡ªå·±é€‰æ‹©å’Œåº”è¯¥éµå¾ªçš„è®°å½•ä¸‹æ¥ã€‚ èŒä¸šè§‚ï¼æˆä¸ºä¸“å®¶æˆ‘ä»¬å¹¶ä¸æ˜¯å› ä¸ºä¸“ä¸šæŠ€æœ¯æˆä¸ºä¸“å®¶ï¼Œè€Œæ˜¯å› ä¸ºâ€œå‘ä¸Šå¸å‘èª“ï¼Œä»¥æ­¤ä¸ºèŒä¸šâ€â€”â€”æŠŠé¡¾å®¢ä½œä¸ºå‡ºå‘ç‚¹è€Œæˆä¸ºä¸“å®¶ã€‚è¯­å‡º å¤§å‰ç ”ä¸€ã€Šä¸“ä¸šç²¾ç¥ã€‹ äº§å“è§‚-å·¥åŒ ç²¾ç¥æŠŠè‡ªå·±çš„æ‰‹è‰ºå½“æˆæ˜¯ä¸è¿™ä¸ªä¸–ç•Œå‘¼å¸åçº³çš„å…¥å£ï¼Œä¸è®ºè¿™æ‰‹è‰ºæ˜¯ä»€ä¹ˆã€‚ä»60%æé«˜åˆ°99%ï¼Œå’Œä»99%æé«˜åˆ°99.99%æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚ï¼ï¼å·¥åŒ ç²¾ç¥ æ¶æ„è®¾è®¡æ¶æ„å¸ˆï¼Œé¦–è¦çš„æ˜¯ç†æ¸…æ¥šéœ€æ±‚ã€‚æ¸¸ç¦»ä¸æŠ€æœ¯å’Œä¸šåŠ¡ä¹‹é—´ã€‚ä¸šåŠ¡æ¶æ„éœ€è¦è€ƒè™‘çš„å†…å®¹ï¼šä¸»è¦ä¸¤ç‚¹ä¸šåŠ¡æµç¨‹ä¸ ä¸šåŠ¡è§„åˆ™ã€‚å¼„æ¸…æ¥šä¸šåŠ¡æµç¨‹ï¼Œè¦ææ¸…æ¥šå®ƒçš„æœªæ¥ï¼Œè¿‡å»ï¼Œä»¥åŠç°åœ¨? å“ªäº›æ˜¯äººå·¥å®Œæˆï¼Œå“ªäº›æ˜¯ç³»ç»Ÿå®Œæˆï¼Ÿå¦‚æœæ˜¯äººå·¥çš„ï¼Œå¯èƒ½å°±æ˜¯æœ¬æ¬¡é¡¹ç›®éœ€è¦å®Œæˆçš„ï¼Œå³é¡¹ç›®èŒƒå›´ã€‚ç¡®å®šé¡¹ç›®èŒƒå›´åï¼Œå°±éœ€è¦è¿›ä¸€æ­¥äº†è§£ç›¸å…³çš„ä¸šåŠ¡è§„åˆ™ã€‚ é™¤äº†åŠŸèƒ½æ€§éœ€æ±‚ï¼Œè¿˜éœ€è¦è€ƒè™‘éåŠŸèƒ½æ€§éœ€æ±‚ï¼ˆæ€§èƒ½ï¼æ‰©å±•å‹ï¼‰æ ¹æ®éœ€æ±‚ï¼Œè¿›è¡ŒæŠ€æœ¯è®¾è®¡ï¼Œé‡‡å–åŸºäºé£é™©çš„æ¶æ„è®¾è®¡ã€‚å‚è€ƒã€Šæ°å¦‚å…¶åˆ†çš„è½¯ä»¶æ¶æ„ã€‹ å¦‚æœæ˜¯è‡ªå·±å…¬å¸çš„é¡¹ç›®ï¼Œè€ƒè™‘åˆ°æˆæœ¬å’Œæœªæ¥çš„æ‰©å±•æ€§ã€‚å¯ä»¥é‡‡ç”¨ä¹Ÿå¯æ‰©å±•æ€§ä½œä¸ºæ¶æ„è®¾è®¡çš„æ ¸å¿ƒã€‚å¦‚æœæœ‰è¶³å¤Ÿçš„è¯è¯­æƒï¼Œæˆä¸ºå¤§æ¶æ„å¸ˆï¼Œå°†äººå‘˜çš„æ‰©å±•å’Œå…¬å¸çš„ä¸šåŠ¡çš„æ‰©å¼ ä½œä¸ºæ¶æ„è®¾è®¡çš„å…ƒç´ ã€‚ é¡¹ç›®ç®¡ç†é¡¹ç›®å°±æ˜¯åœ¨å·²ç»ç¡®å®šå¥½çš„æ—¶é—´å†…å¿…é¡»è§£å†³çš„é—®é¢˜ã€‚å¯ä»¥é‡‡å–åŸºäºé£é™©çš„é©±åŠ¨çš„æŒ‰æ—¶äº¤ä»˜æˆ–è€…åŸºäºæˆæœ¬çš„æŒ‰æ—¶äº¤ä»˜ã€‚ åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½åº”è¯¥æ˜ç™½ï¼Œç»„ç»‡æ˜¯äººçš„é›†åˆï¼Œè¿‡ç¨‹æ˜¯äººåœ¨å¤„ç†ã€‚å¦‚æœäººçš„å› ç´ å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆè¿‡ç¨‹å°±å¯èƒ½å‡ºç°é—®é¢˜ã€‚ é¡¹ç›®ç®¡ç†çš„ä¸‰é‡çº¦æŸâ€”â€”è´¨é‡ã€æ—¶é—´å’Œæˆæœ¬ï¼Œæ¢ä¸ªè¯´æ³•ï¼Œå°±æ˜¯å¥½ã€å¿«ã€çœã€‚é€šå¸¸çš„è¯´æ³•æ˜¯ï¼šå¥½ã€å¿«ã€çœä¸­åªèƒ½é€‰ä¸¤ä¸ªã€‚å°±æ˜¯è¯´ï¼Œä¸‰è€…ä¹‹ä¸­ä½ åªèƒ½å†³å®šä¸¤ä¸ªï¼Œç¬¬ä¸‰ä¸ªæ˜¯ä¸ªå˜é‡ã€‚è¿˜æœ‰ä¸€ä¸ªçº¦æŸæ˜¯èŒƒå›´ä¸è§„æ¨¡ã€‚å‰é¢ä¸‰ä¸ªå†³å®šèŒƒå›´çš„å¤§å°ã€‚å¦‚æœéœ€æ±‚èŒƒå›´èƒ½å¤Ÿç¡®å®šä¸‹æ¥ï¼Œé‚£å°±å¯ä»¥è°ƒèŠ‚å…¶ä»–2ä¸ªå˜é‡ï¼ˆä¸€èˆ¬é™ä½æ€§èƒ½è´¨é‡æ˜¯æ— æ³•æ¥å—ï¼‰ã€‚å¦‚æœæˆæœ¬ä¹Ÿç¡®å®šäº†ï¼Œé‚£å°±åªèƒ½è¦ä¹ˆç¼©å‡è§„æ¨¡ï¼Œè¦ä¹ˆå»¶é•¿æ—¶é—´ã€‚","categories":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}],"tags":[{"name":"ä¸–ç•Œè§‚","slug":"ä¸–ç•Œè§‚","permalink":"http://yoursite.com/tags/ä¸–ç•Œè§‚/"}],"keywords":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}]},{"title":"Rediså…¥é—¨","slug":"13åŸºç¡€æŠ€æœ¯/redis/rediså…¥é—¨","date":"2017-02-04T00:00:00.000Z","updated":"2018-12-10T14:23:54.355Z","comments":true,"path":"2017/02/04/13åŸºç¡€æŠ€æœ¯/redis/rediså…¥é—¨/","link":"","permalink":"http://yoursite.com/2017/02/04/13åŸºç¡€æŠ€æœ¯/redis/rediså…¥é—¨/","excerpt":"","text":"Rediså­¦ä¹ ç®€ä»‹Redisæ˜¯ä¸€ç§åŸºäºé”®å€¼å¯¹ï¼ˆkey-valueï¼‰çš„NoSQLæ•°æ®åº“ï¼Œä¸å¾ˆå¤šé”®å€¼å¯¹æ•°æ®åº“ä¸åŒçš„æ˜¯ï¼ŒRedisä¸­çš„å€¼å¯ä»¥æ˜¯ç”±stringï¼ˆå­—ç¬¦ä¸²ï¼‰ã€hashï¼ˆå“ˆå¸Œï¼‰ã€listï¼ˆåˆ—è¡¨ï¼‰ã€setï¼ˆé›†åˆï¼‰ã€zsetï¼ˆæœ‰åºé›†åˆï¼‰ã€Bitmapsï¼ˆä½å›¾ï¼‰ã€HyperLogLogã€GEOï¼ˆåœ°ç†ä¿¡æ¯å®šä½ï¼‰ç­‰å¤šç§æ•°æ®ç»“æ„å’Œç®—æ³•ç»„æˆã€‚ å¸¸ç”¨å‘½ä»¤é”®æ€»æ•°dbsize æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨exists not_exist_keyå¦‚æœé”®å­˜åœ¨åˆ™è¿”å›1ï¼Œä¸å­˜åœ¨åˆ™è¿”å›0 åˆ é™¤é”®del a b c é”®è¿‡æœŸexpire hello 10ä¸ºé”®helloè®¾ç½®äº†10ç§’è¿‡æœŸæ—¶é—´ æŸ¥çœ‹é”®çš„å‰©ä½™è¿‡æœŸttlå‘½ä»¤ä¼šè¿”å›é”®çš„å‰©ä½™è¿‡æœŸæ—¶é—´ï¼Œå®ƒæœ‰3ç§è¿”å›å€¼ï¼šÂ·å¤§äºç­‰äº0çš„æ•´æ•°ï¼šé”®å‰©ä½™çš„è¿‡æœŸæ—¶é—´ã€‚Â·-1ï¼šé”®æ²¡è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚Â·-2ï¼šé”®ä¸å­˜åœ¨ ttl hello æŸ¥è¯¢å†…éƒ¨ç¼–ç object encoding mylist æŸ¥çœ‹é”®çš„æ•°æ®ç»“æ„ç±»å‹type mylist è®¾ç½®å€¼set key value [ex seconds] [px milliseconds] [nx|xx]ä¾‹å¦‚SET abc abcvalue EX 60 NX ex secondsï¼šä¸ºé”®è®¾ç½®ç§’çº§è¿‡æœŸæ—¶é—´ã€‚px millisecondsï¼šä¸ºé”®è®¾ç½®æ¯«ç§’çº§è¿‡æœŸæ—¶é—´ã€‚nxï¼šé”®å¿…é¡»ä¸å­˜åœ¨ï¼Œæ‰å¯ä»¥è®¾ç½®æˆåŠŸï¼Œç”¨äºæ·»åŠ ã€‚xxï¼šä¸nxç›¸åï¼Œé”®å¿…é¡»å­˜åœ¨ï¼Œæ‰å¯ä»¥è®¾ç½®æˆåŠŸï¼Œç”¨äºæ›´æ–° setnxsetnx hello rediså¦‚æœæœ‰å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶æ‰§è¡Œsetnx key valueï¼Œæ ¹æ®setnxçš„ç‰¹æ€§åªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯èƒ½è®¾ç½®æˆåŠŸï¼Œsetnxå¯ä»¥ä½œä¸ºåˆ†å¸ƒå¼é”çš„ä¸€ç§å®ç°æ–¹æ¡ˆ è·å–å€¼get hello æ‰¹é‡è®¾ç½®å€¼å’Œè·å–å€¼mset key value mset a 1 b 2 c 3 d 4 mget a b c d è®¡æ•°incr key incrå‘½ä»¤ç”¨äºå¯¹å€¼åšè‡ªå¢æ“ä½œï¼Œè¿”å›ç»“æœåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼šÂ·å€¼ä¸æ˜¯æ•´æ•°ï¼Œè¿”å›é”™è¯¯ã€‚Â·å€¼æ˜¯æ•´æ•°ï¼Œè¿”å›è‡ªå¢åçš„ç»“æœã€‚Â·é”®ä¸å­˜åœ¨ï¼ŒæŒ‰ç…§å€¼ä¸º0è‡ªå¢ï¼Œè¿”å›ç»“æœä¸º1ã€‚ é™¤äº†incrå‘½ä»¤ï¼ŒRedisæä¾›äº†decrï¼ˆè‡ªå‡ï¼‰ã€incrbyï¼ˆè‡ªå¢æŒ‡å®šæ•°å­—ï¼‰ã€decrbyï¼ˆè‡ªå‡æŒ‡å®šæ•°å­—ï¼‰ã€incrbyfloatï¼ˆè‡ªå¢æµ®ç‚¹æ•°ï¼‰ æ•°æ®ç»“æ„å“ˆå¸Œè®¾ç½®å€¼hset user:1 name abc è·å–å€¼hget user:1 name åˆ é™¤fieldhdel user:1 name æ‰¹é‡è®¾ç½®å’Œè·å–hmset user:1 name mike age 12 city tianjin hmget user:1 name age city è·å–æ‰€æœ‰fieldhkeys user:1 åˆ—è¡¨åœ¨Redisä¸­ï¼Œå¯ä»¥å¯¹åˆ—è¡¨ä¸¤ç«¯æ’å…¥ï¼ˆpushï¼‰å’Œå¼¹å‡ºï¼ˆpopï¼‰ï¼Œè¿˜å¯ä»¥è·å–æŒ‡å®šèŒƒå›´çš„å…ƒç´ åˆ—è¡¨ã€è·å–æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å…ƒç´ ç­‰ã€‚ åˆ—è¡¨æ˜¯ä¸€ç§æ¯”è¾ƒçµæ´»çš„æ•°æ®ç»“æ„ï¼Œå®ƒå¯ä»¥å……å½“æ ˆå’Œé˜Ÿåˆ—çš„è§’è‰²ï¼Œåœ¨å®é™…å¼€å‘ä¸Šæœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ã€‚ è·å–åˆ—è¡¨æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å…ƒç´ lindex listkey -1 ç´¢å¼•ä¸‹æ ‡æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼šç¬¬ä¸€ï¼Œç´¢å¼•ä¸‹æ ‡ä»å·¦åˆ°å³åˆ†åˆ«æ˜¯0åˆ°N-1ï¼Œä½†æ˜¯ä»å³åˆ°å·¦åˆ†åˆ«æ˜¯-1åˆ°-N è·å–æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ åˆ—è¡¨ä»å·¦åˆ°å³è·å–åˆ—è¡¨å…ƒç´ lrange listkey 1 3 ä»å³å‘å·¦æ’å…¥å…ƒç´ rpush listkey c b a ä»åˆ—è¡¨å·¦è¾¹å¼€å§‹åˆ é™¤4ä¸ªä¸ºaçš„å…ƒç´ lrem listkey 4 a å…¸å‹ä½¿ç”¨åœºæ™¯ç¼“å­˜è®¡æ•°è®¸å¤šåº”ç”¨éƒ½ä¼šä½¿ç”¨Redisä½œä¸ºè®¡æ•°çš„åŸºç¡€å·¥å…·ï¼Œå®ƒå¯ä»¥å®ç°å¿«é€Ÿè®¡æ•°ã€æŸ¥è¯¢ç¼“å­˜çš„åŠŸèƒ½ï¼ŒåŒæ—¶æ•°æ®å¯ä»¥å¼‚æ­¥è½åœ°åˆ°å…¶ä»–æ•°æ®æºã€‚ æ’è¡Œæ¦œç³»ç»ŸRedisæä¾›äº†åˆ—è¡¨å’Œæœ‰åºé›†åˆæ•°æ®ç»“æ„ï¼Œåˆç†åœ°ä½¿ç”¨è¿™äº›æ•°æ®ç»“æ„å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ„å»ºå„ç§æ’è¡Œæ¦œç³»ç»Ÿã€‚ ###åˆ†å¸ƒå¼é” ###ä¸€åˆ†é’Ÿä¸èƒ½è¶…è¿‡5æ¬¡ SET key value EX 60 NX #å‚è€ƒ # ä¸€ä¸ªå¾®æœåŠ¡çš„ç¼–æ’å™¨","categories":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://yoursite.com/tags/Redis/"}],"keywords":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}]},{"title":"çº¿ç¨‹æ± çš„å­¦ä¹ ","slug":"22programming/java/thread/çº¿ç¨‹æ± çš„å­¦ä¹ ","date":"2017-02-01T00:00:00.000Z","updated":"2018-12-10T16:12:15.590Z","comments":true,"path":"2017/02/01/22programming/java/thread/çº¿ç¨‹æ± çš„å­¦ä¹ /","link":"","permalink":"http://yoursite.com/2017/02/01/22programming/java/thread/çº¿ç¨‹æ± çš„å­¦ä¹ /","excerpt":"","text":"çº¿ç¨‹æ± çš„å­¦ä¹ Javaæä¾›äº†4é’Ÿçº¿ç¨‹æ± ï¼šnewCachedThreadPoolnewFixedThreadPoolnewSingleThreadExecutornewScheduledThreadPoolè¿™å››ç§çº¿ç¨‹æ± éƒ½ç›´æ¥æˆ–è€…é—´æ¥è·å–çš„ThreadPoolExecutorå®ä¾‹ï¼Œå…¶æ„é€ å‡½æ•°å¦‚ä¸‹ public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue) { this(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, Executors.defaultThreadFactory(), defaultHandler); } public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) corePoolSizeï¼š æ ¸å¿ƒæ± çš„å¤§å°ã€‚ å½“æœ‰ä»»åŠ¡æ¥ä¹‹åï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡ï¼Œå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®è¾¾åˆ°corePoolSizeåï¼Œå°±ä¼šæŠŠåˆ°è¾¾çš„ä»»åŠ¡æ”¾åˆ°ç¼“å­˜é˜Ÿåˆ—å½“ä¸­maximumPoolSizeï¼š çº¿ç¨‹æ± æœ€å¤§çº¿ç¨‹æ•°ï¼Œå®ƒè¡¨ç¤ºåœ¨çº¿ç¨‹æ± ä¸­æœ€å¤šèƒ½åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹ï¼›keepAliveTimeï¼š è¡¨ç¤ºçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ‰§è¡Œæ—¶æœ€å¤šä¿æŒå¤šä¹…æ—¶é—´ä¼šç»ˆæ­¢ã€‚unitï¼š å‚æ•°keepAliveTimeçš„æ—¶é—´å•ä½ï¼Œæœ‰7ç§å–å€¼ï¼Œåœ¨TimeUnitç±»ä¸­æœ‰7ç§é™æ€å±æ€§ã€‚workQueueï¼š ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œç”¨æ¥å­˜å‚¨ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚å¯ä»¥é€‰æ‹©LinkedBlockingQueueï¼ŒSynchronousQueueã€‚threadFactoryï¼š çº¿ç¨‹å·¥å‚ï¼Œä¸»è¦ç”¨æ¥åˆ›å»ºçº¿ç¨‹ï¼›handlerï¼š è¡¨ç¤ºå½“æ‹’ç»å¤„ç†ä»»åŠ¡æ—¶çš„ç­–ç•¥ï¼Œæœ‰ä»¥ä¸‹å››ç§å–å€¼ï¼š ThreadPoolExecutor.AbortPolicy:ä¸¢å¼ƒä»»åŠ¡å¹¶æŠ›å‡ºRejectedExecutionExceptionå¼‚å¸¸ã€‚ ThreadPoolExecutor.DiscardPolicyï¼šä¹Ÿæ˜¯ä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ä¸æŠ›å‡ºå¼‚å¸¸ã€‚ ThreadPoolExecutor.DiscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—æœ€å‰é¢çš„ä»»åŠ¡ï¼Œç„¶åé‡æ–°å°è¯•æ‰§è¡Œä»»åŠ¡ï¼ˆé‡å¤æ­¤è¿‡ç¨‹ï¼‰ ThreadPoolExecutor.CallerRunsPolicyï¼šåªè¦çº¿ç¨‹æ± ä¸å…³é—­ï¼Œè¯¥ç­–ç•¥ç›´æ¥åœ¨è°ƒç”¨è€…çº¿ç¨‹ä¸­ï¼Œè¿è¡Œå½“å‰è¢«ä¸¢å¼ƒçš„ä»»åŠ¡ å¦‚æœè¿™4ä¸­ç­–ç•¥ä¸ç¬¦åˆè¦æ±‚ï¼Œæœ€å¥½è‡ªå·±å®šä¹‰æ‹’ç»ç­–ç•¥ï¼Œå®ç°RejectedExecutionHandleræ¥å£ æ‰§è¡Œè¿‡ç¨‹é˜Ÿåˆ—æœ‰ç•Œçš„æƒ…å†µ1.åˆå§‹çš„poolSize &lt; corePoolSizeï¼Œæäº¤çš„runnableä»»åŠ¡ï¼Œä¼šç›´æ¥åšä¸ºnewä¸€ä¸ªThreadçš„å‚æ•°ï¼Œç«‹é©¬æ‰§è¡Œ ã€‚2.å½“æäº¤çš„ä»»åŠ¡æ•°è¶…è¿‡äº†corePoolSizeï¼Œä¼šå°†å½“å‰çš„runableæäº¤åˆ°ä¸€ä¸ªblock queueä¸­,ã€‚3.é˜Ÿåˆ—æ»¡äº†ä¹‹åï¼Œå¦‚æœpoolSize &lt; maximumPoolsizeæ—¶ï¼Œä¼šå°è¯•new ä¸€ä¸ªThreadçš„è¿›è¡Œæ•‘æ€¥å¤„ç†ï¼Œç«‹é©¬æ‰§è¡Œå¯¹åº”çš„runnableä»»åŠ¡ã€‚4.å¦‚æœ3ä¸­ä¹Ÿæ— æ³•å¤„ç†äº†ï¼Œå°±ä¼šèµ°åˆ°ç¬¬å››æ­¥æ‰§è¡Œrejectæ“ä½œã€‚ å…¶ä»–å‚è€ƒç½‘ç«™ æœ‰ç•Œã€æ— ç•Œé˜Ÿåˆ—å¯¹ThreadPoolExcutoræ‰§è¡Œçš„å½±å“","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"JVM","slug":"JVM","permalink":"http://yoursite.com/tags/JVM/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"å¼‚æ­¥ç†è®ºå­¦ä¹ ","slug":"22programming/java/thread/å¼‚æ­¥å­¦ä¹ ","date":"2017-02-01T00:00:00.000Z","updated":"2018-12-10T16:12:33.999Z","comments":true,"path":"2017/02/01/22programming/java/thread/å¼‚æ­¥å­¦ä¹ /","link":"","permalink":"http://yoursite.com/2017/02/01/22programming/java/thread/å¼‚æ­¥å­¦ä¹ /","excerpt":"","text":"æ¦‚å¿µä»‹ç»é˜»å¡/éé˜»å¡é˜»å¡è°ƒç”¨æ˜¯æŒ‡è°ƒç”¨ç»“æœè¿”å›ä¹‹å‰ï¼Œå½“å‰çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ã€‚vsåŒæ­¥ï¼Œå¯¹äºåŒæ­¥è°ƒç”¨æ¥è¯´ï¼Œå¾ˆå¤šæ—¶å€™å½“å‰çº¿ç¨‹è¿˜æ˜¯æ¿€æ´»çš„ï¼Œåªæ˜¯ä»é€»è¾‘ä¸Šå½“å‰å‡½æ•°æ²¡æœ‰è¿”å›è€Œå·²ã€‚ éé˜»å¡å’Œé˜»å¡çš„æ¦‚å¿µç›¸å¯¹åº”ï¼ŒæŒ‡åœ¨ä¸èƒ½ç«‹åˆ»å¾—åˆ°ç»“æœä¹‹å‰ï¼Œä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œè€Œä¼šç«‹åˆ»è¿”å›ã€‚ åŒæ­¥/å¼‚æ­¥åŒæ­¥è°ƒç”¨ï¼šä¸€ç§é˜»å¡å¼è°ƒç”¨ï¼Œè°ƒç”¨æ–¹è¦ç­‰å¾…å¯¹æ–¹æ‰§è¡Œå®Œæ¯•æ‰è¿”å›ã€‚å¼‚æ­¥è°ƒç”¨ï¼šä¸€ç§ç±»ä¼¼æ¶ˆæ¯æˆ–äº‹ä»¶çš„æœºåˆ¶ï¼Œä¸è¿‡å®ƒçš„è°ƒç”¨æ–¹å‘åˆšå¥½ç›¸åï¼Œæ¥å£çš„æœåŠ¡åœ¨æ”¶åˆ°æŸç§è®¯æ¯æˆ–å‘ç”ŸæŸç§äº‹ä»¶æ—¶ï¼Œä¼šä¸»åŠ¨é€šçŸ¥è°ƒç”¨æ–¹ã€‚ å¼‚æ­¥æ‰§è¡Œå®Œæˆå¦‚ä½•é€šçŸ¥è°ƒç”¨æ–¹ï¼Ÿå›è°ƒ/future/æ³¨å†Œä¸€ä¸ªç›‘å¬å™¨å¦‚æœç»“æœå¯ä»¥ä¿å­˜åœ¨ä¸€ä¸ªå…¬ç”¨çš„åœ°æ–¹ï¼Œå¯ä»¥é‡‡å–ï¼Œè°ƒç”¨æ–¹ä¸»åŠ¨è½®è¯¢ã€‚ å¼‚æ­¥IOé«˜æ€§èƒ½çš„æ ‡å¿—:äº‹ä»¶é©±åŠ¨ã€å¼‚æ­¥éé˜»å¡ã€‚ ä¾‹å¦‚ï¼šNginxã€‚ å¼‚æ­¥IOï¼šæˆ‘ä»¬éƒ½çŸ¥é“I/Oå’Œcpuè®¡ç®—æ˜¯å¯ä»¥å¹¶è¡Œï¼Œ IOæ˜¯æ˜‚è´µçš„ã€‚ä½†æˆ‘ä»¬çš„è¯­è¨€å¼€å‘å´æ˜¯åŒæ­¥çš„IOã€‚å¼‚æ­¥åœ¨æ“ä½œç³»ç»Ÿå±‚é¢æ˜¯æ”¯æŒçš„ã€‚å¤šçº¿ç¨‹é€šè¿‡ä¿¡å·é‡è¿›è¡ŒååŠ©ï¼Œæ¶ˆæ¯ç­‰æ–¹å¼ã€‚äº‹ä»¶æ¨¡å‹æ˜¯å¼‚æ­¥çš„ä¿è¯ã€‚ UNIXæä¾›çš„å‡ ç§IO/æ¨¡å‹1.é˜»å¡I/Oæ¨¡å‹2.éé˜»å¡I/Oæ¨¡å‹ï¼ˆreadè½®è¯¢)3.I/Oå¤ç”¨æ¨¡å‹(æ–‡ä»¶æè¿°ç¬¦select/pollâ€”äº‹ä»¶é€šçŸ¥epoll)4.ä¿¡å·é©±åŠ¨I/Oæ¨¡å‹(å†…æ ¸ä¿¡å·é©±åŠ¨å¼€å§‹I/O)5.å¼‚æ­¥I/Oæ¨¡å‹(å†…æ ¸é€šçŸ¥å·²ç»å®Œæˆ)-AIO ä»»ä½•æŠ€æœ¯éƒ½ä¸æ˜¯å®Œç¾çš„ï¼Œéé˜»å¡æ˜¯éœ€è¦è½®è¯¢çš„,AIOåªæœ‰linuxæœ‰ï¼Œä¸èƒ½åˆ©ç”¨ç³»ç»Ÿç¼“å­˜NodeJsåˆ©ç”¨çº¿ç¨‹æ± å®ç°AIO, Libuvè‡ªè¡Œå®ç°çº¿ç¨‹æ± å®Œæˆå¼‚æ­¥io åŒæ­¥å’Œå¼‚æ­¥çš„è½¬æ¢åˆ©ç”¨javaä¸­futureæ¥å£å¼‚æ­¥è½¬ä¸ºåŒæ­¥import java.util.concurrent.Callable;import java.util.concurrent.ExecutionException;import java.util.concurrent.ExecutorService;import java.util.concurrent.Executors;import java.util.concurrent.Future; public class TestFuture { public static void main(String args[]) { System.out.println(&quot;start&quot;); ExecutorService es = Executors.newCachedThreadPool(); Future&lt;String&gt; fu = es.submit(new Callable() { @Override public String call() throws Exception { mockExecute(); return &quot;hello world&quot;; } }); System.out.println(&quot;hello world1&quot;); String result = &quot;&quot;; try { System.out.println(&quot;hello world2&quot;); result = fu.get(); System.out.println(&quot;hello world3&quot;); System.out.println(&quot;æ‰“å°ç»“æœ:&quot; + result); } catch (InterruptedException | ExecutionException e) { e.printStackTrace(); } es.shutdown(); // shutdown the executor } private static void mockExecute() throws InterruptedException { System.out.println(&quot;hello å¼€å§‹æ‰§è¡Œ&quot;); Thread.sleep(10000); System.out.println(&quot;hello æ‰§è¡Œå®Œæˆ&quot;); } } å¼‚æ­¥ioçš„å¼‚æ­¥è½¬ä¸ºåŒæ­¥å…¶ä»–å‚è€ƒç½‘ç«™http://www.cnblogs.com/caolei1108/p/6210614.html eventloop &amp; actoræ¨¡å¼ &amp; Javaçº¿ç¨‹æ¨¡å‹æ¼”è¿› &amp; Nettyçº¿ç¨‹æ¨¡å‹ æ€»ç»“","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"JVM","slug":"JVM","permalink":"http://yoursite.com/tags/JVM/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"é˜»å¡é˜Ÿåˆ—","slug":"22programming/java/thread/é˜»å¡é˜Ÿåˆ—","date":"2017-02-01T00:00:00.000Z","updated":"2018-12-10T16:12:46.887Z","comments":true,"path":"2017/02/01/22programming/java/thread/é˜»å¡é˜Ÿåˆ—/","link":"","permalink":"http://yoursite.com/2017/02/01/22programming/java/thread/é˜»å¡é˜Ÿåˆ—/","excerpt":"","text":"æ¦‚å¿µä»‹ç»é˜»å¡é˜Ÿåˆ—ä¸æ™®é€šé˜Ÿåˆ—çš„åŒºåˆ«è¯•å›¾ä»ç©ºçš„é˜»å¡é˜Ÿåˆ—ä¸­è·å–å…ƒç´ çš„çº¿ç¨‹å°†ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å…¶ä»–çš„çº¿ç¨‹å¾€ç©ºçš„é˜Ÿåˆ—æ’å…¥æ–°çš„å…ƒç´ ã€‚åŒæ ·ï¼Œè¯•å›¾å¾€å·²æ»¡çš„é˜»å¡é˜Ÿåˆ—ä¸­æ·»åŠ æ–°å…ƒç´ çš„çº¿ç¨‹åŒæ ·ä¹Ÿä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å…¶ä»–çš„çº¿ç¨‹ä½¿é˜Ÿåˆ—é‡æ–°å˜å¾—ç©ºé—²èµ·æ¥ã€‚ é˜»å¡é˜Ÿåˆ—å¸¸ç”¨äºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„åœºæ™¯ï¼Œç”Ÿäº§è€…æ˜¯å¾€é˜Ÿåˆ—é‡Œæ·»åŠ å…ƒç´ çš„çº¿ç¨‹ï¼Œæ¶ˆè´¹è€…æ˜¯ä»é˜Ÿåˆ—é‡Œæ‹¿å…ƒç´ çš„çº¿ç¨‹ã€‚é˜»å¡é˜Ÿåˆ—å°±æ˜¯ç”Ÿäº§è€…å­˜æ”¾å…ƒç´ çš„å®¹å™¨ï¼Œè€Œæ¶ˆè´¹è€…ä¹Ÿåªä»å®¹å™¨é‡Œæ‹¿å…ƒç´ ã€‚ é˜Ÿåˆ—ç±»å‹JDK7æä¾›äº†7ä¸ªé˜»å¡é˜Ÿåˆ—ã€‚åˆ†åˆ«æ˜¯ ArrayBlockingQueue ï¼šä¸€ä¸ªç”±æ•°ç»„ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚ LinkedBlockingQueue ï¼šä¸€ä¸ªç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚ PriorityBlockingQueue ï¼šä¸€ä¸ªæ”¯æŒä¼˜å…ˆçº§æ’åºçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚ DelayQueueï¼šä¸€ä¸ªä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—å®ç°çš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚ SynchronousQueueï¼šä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ã€‚ LinkedTransferQueueï¼šä¸€ä¸ªç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚ LinkedBlockingDequeï¼šä¸€ä¸ªç”±é“¾è¡¨ç»“æ„ç»„æˆçš„åŒå‘é˜»å¡é˜Ÿåˆ—ã€‚ LinkedBlockingQueueå’ŒArrayBlockingQueueæ˜¯FIFOé˜Ÿåˆ—ã€‚PriorityBlockingQueueæ˜¯ä¸€ä¸ªæŒ‰ä¼˜å…ˆçº§é¡ºåºæ’åºçš„é˜Ÿåˆ—ï¼Œå½“ä½ ä¸å¸Œæœ›æŒ‰ç…§FIFOçš„å±æ€§å¤„ç†å…ƒç´ æ—¶ï¼Œè¿™ä¸ªPriorityBolckingQueueæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚SynchronousQueueï¼Œä¸ä¼šä¸ºé˜Ÿåˆ—å…ƒç´ ç»´æŠ¤ä»»ä½•å­˜å‚¨ç©ºé—´ã€‚ä¸è¿‡ï¼Œå®ƒç»´æŠ¤ä¸€ä¸ªæ’é˜Ÿçš„çº¿ç¨‹æ¸…å•ï¼Œè¿™äº›çº¿ç¨‹ç­‰å¾…æŠŠå…ƒç´ åŠ å…¥ï¼ˆenqueueï¼‰é˜Ÿåˆ—æˆ–è€…ç§»å‡ºï¼ˆdequeueï¼‰é˜Ÿåˆ—ã€‚å› ä¸ºSynchronousQueueæ²¡æœ‰å­˜å‚¨èƒ½åŠ›ï¼Œæ‰€ä»¥é™¤éå¦ä¸€ä¸ªçº¿ç¨‹å·²ç»å‡†å¤‡å¥½å‚ä¸ç§»äº¤å·¥ä½œï¼Œå¦åˆ™putå’Œtakeä¼šä¸€ç›´é˜»æ­¢ã€‚SynchronousQueueè¿™ç±»é˜Ÿåˆ—åªæœ‰åœ¨æ¶ˆè´¹è€…å……è¶³çš„æ—¶å€™æ¯”è¾ƒåˆé€‚ï¼Œå®ƒä»¬æ€»èƒ½ä¸ºä¸‹ä¸€ä¸ªä»»åŠ¡ä½œå¥½å‡†å¤‡ã€‚ ç”Ÿäº§è€…-æ¶ˆè´¹è€…é˜»å¡é˜Ÿåˆ—æ”¯æŒç”Ÿäº§è€…-æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼ï¼Œåªè¦ç¬¦åˆç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹çš„éƒ½å¯ä»¥ä½¿ç”¨é˜»å¡é˜Ÿåˆ—ã€‚ é˜»å¡é˜Ÿåˆ—ï¼ˆBlocking queueï¼‰æä¾›äº†å¯é˜»å¡çš„putå’Œtakeæ–¹æ³•ã€‚é˜»å¡é˜Ÿåˆ—ç®€åŒ–äº†æ¶ˆè´¹è€…çš„ç¼–ç ï¼Œå› ä¸ºtakeä¼šä¿æŒé˜»å¡ç›´åˆ°å¯ç”¨æ•°æ®å‡ºç°ã€‚å¦‚æœç”Ÿäº§è€…ä¸èƒ½è¶³å¤Ÿå¿«åœ°äº§ç”Ÿå·¥ä½œï¼Œè®©æ¶ˆè´¹è€…å¿™ç¢Œèµ·æ¥ï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…åªèƒ½ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æœ‰å·¥ä½œå¯åšã€‚åŒæ—¶ï¼Œputæ–¹æ³•çš„é˜»å¡ç‰¹æ€§ä¹Ÿå¤§å¤§åœ°ç®€åŒ–äº†ç”Ÿäº§è€…çš„ç¼–ç ï¼›å¦‚æœä½¿ç”¨ä¸€ä¸ªæœ‰ç•Œé˜Ÿåˆ—ï¼Œé‚£ä¹ˆå½“é˜Ÿåˆ—å……æ»¡çš„æ—¶å€™ï¼Œç”Ÿäº§è€…å°±ä¼šé˜»å¡ï¼Œæš‚ä¸èƒ½ç”Ÿæˆæ›´å¤šçš„å·¥ä½œï¼Œä»è€Œç»™æ¶ˆè´¹è€…æ—¶é—´æ¥èµ¶è¿›è¿›åº¦ã€‚ æœ‰ç•Œé˜Ÿåˆ—æ˜¯å¼ºå¤§çš„èµ„æºç®¡ç†å·¥å…·ï¼Œç”¨æ¥å»ºç«‹å¯é çš„åº”ç”¨ç¨‹åºï¼šå®ƒä»¬éåˆ¶é‚£äº›å¯ä»¥äº§ç”Ÿè¿‡å¤šå·¥ä½œé‡ã€å…·æœ‰å¨èƒçš„æ´»åŠ¨ï¼Œä»è€Œè®©ä½ çš„ç¨‹åºåœ¨é¢å¯¹è¶…è´Ÿè·å·¥ä½œæ—¶æ›´åŠ å¥å£®ã€‚ éé˜»å¡ç®—æ³•ç®€ä»‹ä¸€ä¸ªçº¿ç¨‹çš„å¤±è´¥æˆ–æŒ‚èµ·ä¸åº”è¯¥å½±å“å…¶ä»–çº¿ç¨‹çš„å¤±è´¥æˆ–æŒ‚èµ·ï¼Œè¿™æ ·çš„ç®—æ³•æˆä¸ºéé˜»å¡ï¼ˆnonblockingï¼‰ç®—æ³•ï¼›åŸºäºé”çš„ç®—æ³•ï¼Œå¦‚æœçº¿ç¨‹åœ¨æŒæœ‰é”çš„æ—¶å€™å› ä¸ºé˜»å¡I/Oï¼Œé¡µé¢é”™è¯¯ï¼Œæˆ–å…¶ä»–åŸå› å‘ç”Ÿå»¶è¿Ÿï¼Œå¾ˆå¯èƒ½æ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¸èƒ½å‰è¿›äº†ã€‚éé˜»å¡ç®—æ³•æ²¡æœ‰ä½¿ç”¨é”ï¼Œè€Œæ˜¯ä½¿ç”¨ä½å±‚æ¬¡çš„å¹¶å‘åŸè¯­ï¼Œæ¯”å¦‚æ¯”è¾ƒäº¤æ¢ï¼Œå–ä»£é”ã€‚ å…¶ä»–å‚è€ƒç½‘ç«™ é˜»å¡é˜Ÿåˆ—ä¸éé˜»å¡é˜Ÿåˆ— javaè‡ªå¸¦çº¿ç¨‹æ± å’Œé˜Ÿåˆ—è¯¦ç»†è®²è§£ æœ‰ç•Œã€æ— ç•Œé˜Ÿåˆ—å¯¹ThreadPoolExcutoræ‰§è¡Œçš„å½±å“","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"JVM","slug":"JVM","permalink":"http://yoursite.com/tags/JVM/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ä¸šåŠ¡æ•æ·æ€§","slug":"21ç³»ç»Ÿè®¾è®¡/ä¸šåŠ¡æ•æ·æ€§","date":"2016-12-29T00:00:00.000Z","updated":"2018-12-10T17:02:52.518Z","comments":true,"path":"2016/12/29/21ç³»ç»Ÿè®¾è®¡/ä¸šåŠ¡æ•æ·æ€§/","link":"","permalink":"http://yoursite.com/2016/12/29/21ç³»ç»Ÿè®¾è®¡/ä¸šåŠ¡æ•æ·æ€§/","excerpt":"","text":"æ•æ·ä¸‰ç§ä¸åŒç±»å‹çš„æ•æ·æ€§,æˆ˜ç•¥ã€ä¸šåŠ¡ç»„åˆå’Œè¿è¥çµæ´»æ€§ã€‚æˆ˜ç•¥æ•æ·æ€§åŒ…æ‹¬å‘ç°å¹¶æŠŠæ¡æ”¹å˜æ¸¸æˆè§„åˆ™çš„æœºé‡çš„èƒ½åŠ›ã€‚ä¸šåŠ¡ç»„åˆæ•æ·æ€§æ˜¯æŒ‡å¿«é€Ÿé«˜æ•ˆåœ°å°†èµ„æº(åŒ…æ‹¬ç°é‡‘ã€äººæ‰å’Œç®¡ç†å±‚æ³¨æ„åŠ›)ä»å‰æ™¯ä¸ä½³çš„ä¸šåŠ¡é¢†åŸŸè½¬ç§»åˆ°æ›´æœ‰å¸å¼•åŠ›çš„é¢†åŸŸä¸­çš„èƒ½åŠ›ã€‚ ä¸šåŠ¡æ•æ·æ€§ï¼ˆBusiness Agilityï¼‰å½“ä»Šçš„å•†ä¸šç¯å¢ƒåœ¨ä¸æ–­åœ°æ”¹å˜å¹¶ä¸”å˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚ç»„ç»‡ã€ä¸ªäººã€å…¬ä¼—éƒ½é¢ä¸´ç€å·¨å¤§çš„å‹åŠ›ï¼Œè¿™äº›å‹åŠ›è¿«ä½¿ä»–ä»¬è¦å¯¹å˜åŒ–çš„ç¯å¢ƒä½œå‡ºå¿«é€Ÿçš„ååº”ï¼ŒåŒæ—¶è¿˜è¦æ±‚ä»–ä»¬åœ¨è¿ä½œæ–¹æ³•ä¸Šæœ‰åˆ›æ–°ç²¾ç¥ã€‚è¿™å°±éœ€è¦ç»„ç»‡æœºæ„çµæ´»å¹¶ä¸”é¢‘ç¹å¿«é€Ÿåœ°åœ¨æˆ˜ç•¥å±‚ã€æˆ˜æœ¯å±‚ã€æ“ä½œå±‚åšå‡ºå†³ç­–ã€‚å•†ä¸šç¯å¢ƒå› ç´ å¯ä»¥åˆ†æˆä¸»è¦çš„å››ç§ç±»å‹ï¼šå¸‚åœºå› ç´ ã€é¡¾å®¢éœ€æ±‚å› ç´ ã€æŠ€æœ¯å› ç´ ã€ç¤¾ä¼šç¯å¢ƒå› ç´ ã€‚è¿™äº›å› ç´ çš„å½±å“ä¼šéšç€æ—¶é—´å˜å¾—æ›´å¼ºã€‚è¿™ä¼šå¯¼è‡´æ›´å¤§çš„å‹åŠ›å’Œæ›´æ¿€çƒˆçš„ç«äº‰ã€‚é™¤æ­¤ä»¥å¤–ï¼Œä¸ºäº†å¢åŠ åˆ©æ¶¦ï¼Œç»„ç»‡ã€ä¸ªäººã€ç»„ç»‡å†…çš„éƒ¨é—¨ä¼šé¢ä¸´æ¥è‡ªæ›´å°‘çš„é¢„ç®—å’Œä¸Šå±‚ç®¡ç†å±‚è¦æ±‚æé«˜ç»©æ•ˆå’Œåˆ©æ¶¦çš„æ›´å¤§å‹åŠ›ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç»ç†ä»¬å¿…é¡»ä»¥æ›´å¿«çš„é€Ÿåº¦æ¥åº”å¯¹ï¼Œå³åˆ›æ–°å’Œæ•æ·ã€‚ ã€Šä¸–ç•Œæ˜¯å¹³çš„ã€‹çš„ä½œè€…æ‰˜é©¬æ–¯â€¢å¼—é‡Œå¾·æ›¼åœ¨ä»–çš„ä½œå“ä¸­è®²äº†ä¸¤ä¸ªå¾ˆæœ‰è¶£çš„æ•…äº‹ï¼š â€» ä½œè€…æœ¬äººç»™ä½äºå¾·å…‹è¨æ–¯å·çš„å¥¥æ–¯æ±€çš„Dellç®¡ç†éƒ¨é—¨å†™äº†ä¸€å°ä¿¡ï¼Œè¯¢é—®ä»–è‡ªå·±çš„Dellç¬”è®°æœ¬çš„å„ä¸ªéƒ¨ä»¶æ¥è‡ªå“ªäº›å›½å®¶ã€‚å¾—åˆ°çš„ç­”å¤æ˜¯ï¼šç¾å›½å› ç‰¹å°”å…¬å¸è®¾åœ¨è²å¾‹å®¾ã€å“¥æ–¯è¾¾é»åŠ ã€é©¬æ¥è¥¿äºšæˆ–ä¸­å›½çš„å·¥å‚ç”Ÿäº§çš„å¤„ç†å™¨ï¼›éŸ©å›½ã€æ—¥æœ¬ã€ä¸­å›½å°æ¹¾æˆ–å¾·å›½ç”Ÿäº§çš„å†…å­˜ï¼›ä¸­å›½å†…åœ°æˆ–ä¸­å›½å°æ¹¾ç”Ÿäº§çš„æ˜¾å¡â€¦â€¦ â€» æŸå¤©æ—©ä¸Š10ç‚¹ï¼ŒDellå‘ç°å¾ˆå¤šå®¢æˆ·è®¢è´­çš„ç¬”è®°æœ¬ç”µè„‘éƒ½è¦æ±‚é…å¤‡40Gçš„ç¡¬ç›˜ï¼Œå¦‚æœè¿™æ ·çš„è¯ï¼Œä¸¤ä¸ªå°æ—¶åï¼Œä¾›ç»™é“¾å°†å‡ºç°æ–­è´§ä¿¡å·ï¼Œå¹¶è‡ªåŠ¨åœ°å‘é€ç»™Dellé”€å”®éƒ¨é—¨ã€å…¬å¸ç½‘ç«™ä»¥åŠæ‰€æœ‰çš„è®¢è´­ç”µè¯æ¥çº¿å‘˜ã€‚å¦‚æœä½ æ­£å¥½10ç‚¹åŠå‘Dellå‘å‡ºè®¢å•ï¼Œå…¬å¸çš„é”€å”®ä»£è¡¨ä¼šå¯¹ä½ è¯´ï¼šâ€œæ‚¨ç°åœ¨åªéœ€è¦åœ¨40Gç¡¬ç›˜ä»·æ ¼çš„åŸºç¡€ä¸Šå¤šæ”¯ä»˜10ç¾å…ƒï¼Œå°±å¯ä»¥å¾—åˆ°60Gçš„ç¡¬ç›˜çš„é…ç½®ã€‚â€åˆ©ç”¨è¿™ç§ä¿ƒé”€æ‰‹æ®µï¼Œåœ¨ä¸€ä¸¤ä¸ªå°æ—¶å†…ï¼ŒDellå¯ä»¥æ ¹æ®å…¨çƒä¾›åº”é“¾çš„æƒ…å†µé‡æ–°å¡‘é€ é¡¾å®¢å¯¹äº§å“çš„éœ€æ±‚ç»“æ„ã€‚ ä¸Šè¿°ä¸¤ä¸ªæ•…äº‹éƒ½åœ¨è®²è¿°ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯æ€æ ·è®©ä¼ä¸šçš„ä¸šåŠ¡å˜å¾—æ›´åŠ çµæ´»ï¼Œæˆ–è€…è¯´æ›´åŠ æ•æ·ã€‚ä¸éš¾æƒ³è±¡ï¼ŒDellå…¬å¸å·²ç»å…·å¤‡äº†æ¯”è¾ƒå®Œå–„çš„ä¾›åº”é“¾ç®¡ç†ç³»ç»Ÿã€è´¢åŠ¡ç³»ç»Ÿã€å®¢æˆ·å…³ç³»ç³»ç»Ÿç­‰ITåŸºç¡€è®¾æ–½ï¼Œè¿™ä¹Ÿè¯´æ˜Dellçš„ä¼ä¸šç»è¥ç®¡ç†å·²ç»ä¾èµ–äºITç³»ç»Ÿçš„æ”¯æ’‘ã€‚ä»Šå¤©ï¼Œç»å¤§å¤šæ•°ä¼ä¸šéƒ½å…·å¤‡äº†ç±»ä¼¼ç‰¹å¾ã€‚ä¸å¦è®¤å­˜åœ¨ä¸€äº›ä¼ä¸šçš„ç»è¥ç®¡ç†è¿˜ä¾èµ–äºä¼ ç»Ÿçš„ç”µè¯æ²Ÿé€šã€é¢å¯¹é¢çš„æ´½è°ˆä¼šï¼Œä½†è¿™å·²ç»æ˜¯å°‘æ•°ï¼Œè€Œä¸”ä¼šè¶Šæ¥è¶Šå°‘ã€‚ å¦‚ä»Šä¸€ä¸ªä¼ä¸šæ˜¯å¦èƒ½å¤Ÿè®©CEOçš„å†³ç­–ã€ä¼ä¸šæˆ˜ç•¥çš„è°ƒæ•´ã€å¸‚åœºæ–¹å‘çš„é‡å®šä½ç­‰ç­‰ä¸€ç³»åˆ—é—®é¢˜å¿«é€Ÿå˜æ›´ä¸æ‰§è¡Œï¼Œå‡ ä¹éƒ½ä¾èµ–äºä¿¡æ¯åŒ–å»ºè®¾çš„å®Œå–„ã€‚ç„¶è€Œï¼Œè¿™ç§å®Œå–„ç¨‹åº¦ä¸ä»…æ„å‘³ç€ä¿¡æ¯ç³»ç»Ÿåœ¨ä¼ä¸šå†…éƒ¨çš„è¦†ç›–é¢ï¼Œæ›´ä¾èµ–äºè¿™äº›ç³»ç»Ÿä¹‹é—´çš„åä½œæ€§ä¸æ•æ·æ€§ã€‚ è®©æˆ‘ä»¬åœ¨æ­¤ç”¨ç®€çŸ­çš„ä¸€å¥è¯æ¥ä¸ºä¸šåŠ¡æ•æ·æ€§ä¸‹ä¸ªå®šä¹‰ï¼š ä¸šåŠ¡æ•æ·æ€§æ˜¯æŒ‡ä¼ä¸šå¯¹å˜æ›´å¿«é€Ÿå’Œæœ‰æ•ˆåœ°è¿›è¡Œå“åº”ã€å¹¶ä¸”åˆ©ç”¨å˜æ›´æ¥å¾—åˆ°ç«äº‰ä¼˜åŠ¿çš„èƒ½åŠ›ã€‚ ITç³»ç»Ÿä¸€ç›´åœ¨ä¸æ–­æ¼”å˜å’Œå‘å±•ï¼Œå¯»æ±‚å¯¹ä¸šåŠ¡æ•æ·æ€§çš„æ›´å¥½æ”¯æŒåœ¨ç¾å›½ã€æ¬§æ´²ä¸‰å››åå¹´çš„ITç³»ç»Ÿå»ºè®¾ä¸­ï¼ŒåŸºæœ¬ç»å†äº†ä¸‰ä¸ªåº”ç”¨é˜¶æ®µï¼š ç¬¬ä¸€é˜¶æ®µä¿¡æ¯å‘å¸ƒï¼Œå³ä¼ ç»Ÿçš„Information Management Systemï¼Œåœ¨è¿™ä¸ªé˜¶æ®µæœ€ä¸»è¦çš„ä»»åŠ¡æ˜¯æŠŠæŸä¸€ä¸ªä¸šåŠ¡ä¸‹çš„ä¿¡æ¯æ•°æ®ç®¡ç†èµ·æ¥ï¼Œæ¯”å¦‚æ—©æœŸçš„è´¢åŠ¡ç³»ç»Ÿã€äººåŠ›èµ„æºç³»ç»Ÿï¼› ç¬¬äºŒé˜¶æ®µæ˜¯ä¼ä¸šç³»ç»Ÿçš„å†…éƒ¨æ•´åˆï¼Œå½“ä¼ä¸šå†…éƒ¨ç»å¤§å¤šæ•°ä¿¡æ¯ç³»ç»Ÿéƒ½å·²ç»å»ºç«‹ä¹‹åï¼Œæ˜¯å¦èƒ½å¤Ÿæœ‰æ•ˆåœ°è¿›è¡Œåä½œå’Œèµ„æºæ•´åˆï¼Œæˆä¸ºä¸»è¦è§£å†³çš„é—®é¢˜ï¼› ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼Œæ˜¯ä¼ä¸šå†…éƒ¨çš„ä¿¡æ¯ç³»ç»Ÿéœ€è¦ä¸å¤–éƒ¨ç¯å¢ƒï¼ŒåŒ…æ‹¬ä¾›åº”å•†ã€åˆ†é”€å•†å’Œå®¢æˆ·è¿›è¡Œæ•´åˆã€‚ å½“ç„¶ä¸æ˜¯æ‰€æœ‰çš„ä¼ä¸šéƒ½ç»å†çš„è¿™äº›é˜¶æ®µï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰çš„ä¼ä¸šéƒ½å·²ç»è¿›å…¥ç¬¬ä¸‰é˜¶æ®µï¼Œè¿™åªæ˜¯ä¸€ä¸ªæ•´ä½“æ€§çš„å‘å±•è·¯çº¿ï¼Œæˆ–è€…è¯´è¶‹åŠ¿ã€‚ ä¸šåŠ¡æ•æ·æ€§å–å†³äºä¼ä¸šä¿¡æ¯çš„è‡ªç”±æµåŠ¨ã€æœåŠ¡å’Œä¸šåŠ¡æµç¨‹ã€‚è€Œä¸”è¿™ä¹Ÿè¦æ±‚ITç³»ç»Ÿå¿…é¡»èƒ½å¤Ÿæ»¡è¶³ä¸šåŠ¡çš„å˜æ›´ã€‚ äº‹å®ä¸Šï¼Œæ»¡è¶³ITç³»ç»Ÿçš„æ•æ·æ€§ï¼Œå¿…é¡»é€¾è¶Šå‡ ä¸ªæœ€åŸºæœ¬çš„éšœç¢ï¼š èƒ½å¤Ÿç»Ÿä¸€æè¿°å‡ºå„ç§ä¸šåŠ¡ï¼Œæˆ–è€…è¯´ä¸šåŠ¡å¯¹è±¡ä¸ä¸šåŠ¡æ¨¡å‹ã€‚è¿™äº›ä¸šåŠ¡å¯¹è±¡å’Œä¸šåŠ¡æ¨¡å‹éœ€è¦å¾ˆå®¹æ˜“è¢«ç»„åˆæˆ–é‡ç»„ã€‚å› ä¸ºä¼ä¸šä¸šåŠ¡å¹¶ééšæ„åˆ›å»ºï¼Œè€Œæ˜¯ç”±åŸºæœ¬è§„åˆ™åœ¨æ”¯æ’‘ã€‚å°½ç®¡æˆ‘ä»¬ä¸æ–­å®£ç§°éœ€è¦çµæ´»ã€æ•æ·ï¼Œä½†è¿™æ ·çµæ´»æ€§çš„å˜æ›´å‘å±•ä¹Ÿå¿…é¡»æœ‰ä¸€å®šçš„åŸåˆ™ã€‚è¿™å¦‚åŒä¼ä¸šå¸‚åœºå¼€æ‹“ï¼Œä»ä¸€ä¸ªåŒºåŸŸå‘å¦ä¸€ä¸ªåŒºåŸŸæ‹“å±•ï¼Œè€Œç»éæ¸¸å‡»é˜Ÿçš„æ¨¡å¼ï¼š æ‰“ä¸€æªæ¢ä¸€ä¸ªåœ°æ–¹ã€‚ ä¼ä¸šITç³»ç»Ÿä¸€èˆ¬ä¼šç”±å¤šå¹³å°ï¼ˆIBMã€BEAã€Microsoftã€SAPã€Oracleç­‰ï¼‰å’Œå¤šæŠ€æœ¯ï¼ˆJ2EEã€.NETã€é—ç•™æŠ€æœ¯ç­‰ï¼‰æ„æˆã€‚å¤§ä¼ä¸šçš„å¼‚æ„æ€§ä¼šæ›´å¤æ‚ã€‚æŸé¡¹ä¸šåŠ¡å¯èƒ½æ¶‰åŠåˆ°ä¼ä¸šå†…éƒ¨ç³»ç»Ÿã€å¤–éƒ¨ç¯å¢ƒã€ä¾›åº”å•†ã€åˆ†é”€å•†å’Œå®¢æˆ·ç­‰ç­‰ã€‚è¿™å°±ä½¿å¾—ä¸šåŠ¡çš„å˜æ›´ç‰µæ¶‰åˆ°ä¼—å¤šåˆä½œä¼™ä¼´ã€‚æ‰€ä»¥å¿…é¡»æœ‰æ›´å¥½çš„äº’è”æŠ€æœ¯æ¥æ»¡è¶³ä¸åŒç³»ç»Ÿä¹‹é—´çš„ä¿¡æ¯äº¤äº’ï¼Œè¿™ç§ä¿¡æ¯äº’è”å¿…é¡»åŸºäºç»Ÿä¸€çš„æ ‡å‡†å’Œæ„æ¶ï¼Œè€Œä¸”èƒ½å¤Ÿå¾ˆå®¹æ˜“å®šä½ä¸è·å–ã€‚ SOASOAä¸ºæ”¯æ’‘ä¸šåŠ¡æ•æ·æ€§æä¾›äº†æ–°çš„æ€è·¯å’Œæ–¹æ³•,ä¸Šä¸ªä¸–çºªä¹åå¹´ä»£æ‰€è¯ç”Ÿçš„äº†BPRï¼ˆä¸šåŠ¡è¿‡ç¨‹å†é€ ï¼‰ï¼Œé™¤äº†å¸å¼•äº†å¾ˆå¤šçœ¼çƒä¹‹å¤–ï¼Œæ²¡æœ‰å½¢æˆå®å®åœ¨åœ¨çš„åº”ç”¨ï¼Œç›´åˆ°å¦‚ä»Šé€æ¸æˆç†Ÿèµ·æ¥çš„BPM Suitesï¼ˆä¸šåŠ¡è¿‡ç¨‹ç®¡ç†å¥—ä»¶ï¼‰ï¼Œæ‰è®©BPRå†æ¬¡èµ°å…¥äº†äººä»¬çš„è§†çº¿ã€‚ Forresterç ”ç©¶å…¬å¸çš„åˆ†æå¸ˆä»¬ä¸ºæ­¤è¿˜è®¾æƒ³å‡ºäº†ä¸€ä¸ªå…¨æ–°çš„ç±»åˆ«ï¼šâ€œåŠ¨æ€ä¸šåŠ¡åº”ç”¨â€ã€‚è¿™æ˜¯æ ¹æ®SOAçš„å‘å±•åŸåˆ™ï¼Œå¹¶åœ¨å‘å±•å‰ç¨‹ä¸­æ¶µç›–äº†ä¸€ç§å¤šä¸ªå­—æ¯ç»„åˆçš„æœåŠ¡æŠ€æœ¯ã€‚ è¯¥ç ”ç©¶å…¬å¸æ•´æ•¦ä¿ƒæ¶æ„å¸ˆä¸å¼€å‘äººå‘˜å³å¯å¼€å§‹ç€æ‰‹åˆ¶å®šæœªæ¥5å¹´å†…çš„ä¸šåŠ¡ç­–ç•¥å’ŒæŠ€æœ¯å®ç°è®¡åˆ’ï¼Œä»æ•´ä½“å‡ºå‘ï¼Œè€ƒè™‘SOAä¸B3æŠ€æœ¯å¹³å°ã€‚è¿™é‡Œæ‰€è¯´çš„B3æŠ€æœ¯å¹³å°å³æ˜¯æŒ‡BPM(ä¸šåŠ¡æµç¨‹ç®¡ç†)ã€BI(å•†ä¸šæ™ºèƒ½)å’Œä¸šåŠ¡è§„åˆ™ã€‚ é™¤æ­¤ä¹‹å¤–ï¼ŒForrester ç ”ç©¶å…¬å¸æ‰€å®šä¹‰çš„â€œåŠ¨æ€ä¸šåŠ¡åº”ç”¨â€å°†ä¸ä»…ä»…åœ¨çµæ´»æ€§æ–¹é¢æœ‰äº†çªå‡ºè€ƒè™‘ï¼ŒåŒæ—¶åšåˆ°ä»¥äººä¸ºæœ¬ï¼Œå®ƒè¿˜æå€¡ä½¿ç”¨Ajaxå’Œå…¶ä»–çš„ä¸°å¯Œäº’è”ç½‘åº”ç”¨(rich Internet applicationï¼ŒRIA)æŠ€æœ¯å°†Web 2.0å¼çš„ç¤¾ä¼šå…³ç³»ç½‘ç»œæ–¹æ¡ˆåˆå¹¶å…¶ä¸­ã€‚ å°±ç›®å‰è¡Œä¸šå‘å±•çœ‹æ¥ï¼Œæœ‰å¾ˆå¤šçš„ä¼ä¸šå…¶å®å·²ç»é«˜ç»çš„çœ‹åˆ°äº†è¿™æ–¹é¢çš„å¥½å¤„ï¼Œä»–ä»¬ä¹Ÿåœ¨é€šè¿‡ç»“åˆSOAä¸B3å¹³å°(BPMã€BIã€ä¸šåŠ¡è§„åˆ™)çš„æ–¹æ³•èµ°åœ¨äº†é€šå‘åŠ¨æ€ä¸šåŠ¡åº”ç”¨çš„é“è·¯ä¸Šï¼Œå°½ç®¡è¿™ä¸€è·¯å¯èƒ½ä¼šæœ‰ä¸å°‘çš„æ›²æŠ˜å’Œåå·ï¼ŒForresterç ”ç©¶å…¬å¸åˆ†æå¸ˆå¦‚æ˜¯è¯´ã€‚åŒæ—¶ä»–è¿˜æŒ‡å‡ºäº†ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œç¾å›½Washington Mutualå…¬å¸çš„åœ¨çº¿ç§Ÿè´·åº”ç”¨ç³»ç»Ÿå°±æ˜¯ä½¿ç”¨äº†BPMå®ç°äº†ä¸šåŠ¡è§„åˆ™ï¼Œé€»è¾‘è¿‡ç¨‹çš„è‡ªåŠ¨åŒ–ï¼Œä»¥è½¯ä»¶çš„å½¢å¼è¯„ä¼°ç”³è¯·äººåŠå…¶æ‰€å¯¹åº”çš„å›½å®¶åˆ¶åº¦è§„å®šï¼Œå¹¶é€šè¿‡BIç³»ç»Ÿå®Œæˆäº†å¯¹å®¢æˆ·çš„åŠ¨æ€åŒ–å¤„ç†ã€‚å¦ä¸€ä¸ªä¾‹å­åˆ™æ˜¯Best Buyå…¬å¸ï¼Œä½œä¸ºä¸€ä¸ªç”µå­äº§å“é›¶å”®å•†ï¼Œå®ƒæˆåŠŸåœ°å°†ä¸šåŠ¡è§„åˆ™ä¸BPMç»“åˆï¼Œä»äº§å“éœ€æ±‚æ€§å’Œåœ°åŸŸæ€§ç­‰è§’åº¦è€ƒè™‘ï¼Œæä¾›äº†é€‚å½“çš„æœ¬åœ°è¥é”€è®¡åˆ’ã€‚ BPMä¸SOAçš„å…³ç³»BPMä¸SOAçš„æœ¬è´¨æ˜¯æˆªç„¶ä¸åŒçš„:SOAæ˜¯ä¸€ç§æ¶æ„æ–¹æ³•;BPMåˆ™æ˜¯ä¸€ç»„æµç¨‹åè°ƒç®¡ç†ç†å¿µã€‚ä½†ä¸¤è€…çš„ç»“åˆå®Œç¾çš„è§£å†³äº†ITæŠ€æœ¯ä¸ä¸šåŠ¡çš„é¸¿æ²Ÿ .SOAæä¾›æ¶æ„æ–¹æ³•,ç”¨ITæŠ€æœ¯æŠŠç³»ç»Ÿå®ç°ä¸ºç‹¬ç«‹çš„æœåŠ¡,BPMæŠŠå®ƒä»¬ç®¡ç†èµ·æ¥ã€‚ å‚è€ƒæ–‡ç« èƒ¡é•¿åŸ:SOAä¸ä¸šåŠ¡æ•æ·http://soft.zdnet.com.cn/software_zone/2007/0709/417200.shtmlhttp://news.mbalib.com/story/24901http://www.ciotimes.com/cloud/cjs/74678.html","categories":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}],"tags":[{"name":"å·¥ä½œæµ","slug":"å·¥ä½œæµ","permalink":"http://yoursite.com/tags/å·¥ä½œæµ/"}],"keywords":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}]},{"title":"å…³äºéœ€æ±‚","slug":"80å®ƒå±±ä¹‹ç‰/éœ€æ±‚","date":"2016-12-29T00:00:00.000Z","updated":"2018-12-10T15:26:12.671Z","comments":true,"path":"2016/12/29/80å®ƒå±±ä¹‹ç‰/éœ€æ±‚/","link":"","permalink":"http://yoursite.com/2016/12/29/80å®ƒå±±ä¹‹ç‰/éœ€æ±‚/","excerpt":"","text":"èƒŒæ™¯æœ¬æ–‡æ‘˜æŠ„äºã€Šéœ€æ±‚ : ç¼”é€ ä¼Ÿå¤§å•†ä¸šä¼ å¥‡çš„æ ¹æœ¬åŠ›é‡ã€‹ ä¹¦ä¸­è§‚ç‚¹æ¯ä¸ªç‹¬ä¸€æ— äºŒçš„éœ€æ±‚æ•…äº‹éƒ½æœ‰ç€åŒæ ·çš„èµ·ç‚¹ï¼šä¸€ä¸ªäººã€ä¸€ä¸ªé—®é¢˜ã€ä¸€ä¸ªç‚¹å­ã€‚ çœŸæ­£çš„éœ€æ±‚åˆ›é€ å¤§å¸ˆï¼ŒæŠŠæ‰€æœ‰çš„æ—¶é—´å’Œç²¾åŠ›éƒ½æŠ•å…¥åˆ°å¯¹â€œäººâ€çš„äº†è§£ä¸Šã€‚ä»–ä»¬åˆ›é€ å‡ºçš„äº§å“ä»¤æˆ‘ä»¬æ— æ³•æŠ—æ‹’ï¼Œæ›´ä»¤ç«äº‰å¯¹æ‰‹æ— æ³•å¤åˆ¶ã€‚ æƒ³è¦æˆä¸ºæˆåŠŸçš„éœ€æ±‚åˆ›é€ è€…ï¼Œå°±è¦æŠŠæ€ç»´æ–¹å¼ä»åŠè¯´äººä»¬è´­è¯´äººä»¬è´­ä¹°äº§å“ï¼Œå‡ååˆ°äººä¸äººä¹‹é—´çš„æ·±å…¥ç†è§£ï¼Œå‡ååˆ°ä»å®¢æˆ·çš„åŒçœ¼å’Œæƒ…æ„Ÿè§’åº¦çœ‹ä¸–ç•Œã€‚ å› ä¸ºéº»çƒ¦ï¼Œæ‰€ä»¥éœ€æ±‚ã€‚ æœåŠ¡ä¸æˆ‘ä»¬å®é™…è´­ä¹°çš„ä¸œè¥¿ä¹‹é—´ï¼Œæ€»æ˜¯å­˜åœ¨ç€ä¸€é“å·¨å¤§çš„é¸¿æ²Ÿã€‚è€Œè¿™é“é¸¿æ²Ÿï¼Œå°±ä»£è¡¨ç€åˆ›é€ æ–°çš„æœºä¼šã€‚ éœ€æ±‚ï¼Œä»¥è§£å†³é¡¾å®¢é—®é¢˜ä¸ºä¸­å¿ƒï¼Œè€Œä¸æ˜¯æ»¡è¶³éœ€æ±‚ä¸ºä¸­å¿ƒã€‚ æ‰“å¼€æˆåŠŸå¤§é—¨çš„é’¥åŒ™ï¼Œæ˜¯â€œä»¥ç”¨æˆ·é—®é¢˜ä¸ºä¸­å¿ƒâ€çš„åˆ›æ–°æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯å°†ç›®å…‰é”å®šåœ¨è®¾å¤‡æ€§èƒ½æœ¬èº«ã€‚ æ˜å¤©çš„éœ€æ±‚ä»å“ªé‡Œæ¥ï¼Ÿå¦‚æœå°†åŒæ ·çš„é—®é¢˜æ‘†åœ¨éœ€æ±‚åˆ›é€ è€…é¢å‰ï¼Œä»–ä»¬ä¸ä¼šå°†å¸Œæœ›å¯„æ‰˜äºæ”¿åºœã€ä¸–ç•Œ500å¼ºã€‚ä»–ä»¬ï¼Œåªä¼šæœ›å‘é•œä¸­çš„è‡ªå·±â€¦â€¦ åˆ›é€ éœ€æ±‚çš„6å¤§å…³é”® ä¸ºäº§å“èµ‹äºˆé­”åŠ› è´å®¶å¹¶ä¸æ˜¯å…ˆè¡Œè€…ï¼Œè€Œæ˜¯ç¬¬ä¸€ä¸ªèƒ½åˆ›é€ å‡ºæƒ…æ„Ÿå…±é¸£å¹¶èƒ½æŠŠæ¡ä½å¸‚åœºæ–¹å‘çš„äººã€‚ åŒ–è§£ç”Ÿæ´»ä¸­çš„éº»çƒ¦ æ„å»ºå®Œå–„çš„èƒŒæ™¯å› ç´  å¯»æ‰¾æ¿€å‘åŠ› åˆ›é€ éœ€æ±‚çš„æœ€å¤§éšœç¢æ˜¯äººä»¬çš„æƒ°æ€§ã€å¤šç–‘ã€ä¹ æƒ¯å’Œå†·æ¼ ã€‚å¤§å¤šæ•°å¬è¯´è¿‡æŸäº§å“çš„äººéƒ½ä¼šæŒè§‚æœ›æ€åº¦ï¼Œå¹¶æ²¡æœ‰è´­ä¹°æ„å‘ï¼Œæ­£æ˜¯è¿™ç§å¿ƒæ€é™åˆ¶äº†éœ€æ±‚çš„å¢é•¿ã€‚åªæ’¬åŠ¨æ æ†ï¼Œæ‰èƒ½æ¿€å‘äººä»¬é‡‡å–è¡ŒåŠ¨ã€‚å°±ç®—æ˜¯æœ€ä¼˜ç§€çš„å…¬å¸ï¼Œä¹Ÿå¸¸å¸¸è¦èŠ±ä¸Šå¾ˆå¤šå¹´æ‰èƒ½æ‰¾å‡†æ¿€å‘åŠ›çš„å‘½è„‰ã€‚ä½†éœ€æ±‚åˆ›é€ è€…ä»¬æ€»ä¼šä¸€åˆ»ä¸åœåœ°æœå¯»ï¼ŒæŒç»­ä¸æ–­åœ°å®éªŒï¼Œä»¥æœŸå°½å¿«æ‰¾åˆ°è§‚æœ›è€…è½¬å˜ä¸ºå®¢æˆ·çš„å…³é”®åŠ›é‡ã€‚ å»å¹³å‡åŒ– ä¸¾ä¾‹Zipcarçš„è¯ç”Ÿå¯è°“æ°é€¢å…¶æ—¶ã€‚åœ¨20ä¸–çºª90 å¹´ä»£æœ«ï¼Œç”±äºæœ‰äº†æŠ€æœ¯åˆ›æ–°ï¼ˆåŒ…æ‹¬åŸºäºäº’è”ç½‘çš„é€šä¿¡ã€æ— çº¿ç”µè¯å’Œæ™ºèƒ½å¡ï¼‰ã€ç»æµå‘å±•ï¼ˆä¾‹å¦‚ç‡ƒæ–™æˆæœ¬çš„å¤§å¹…éœ‡è¡ï¼‰ï¼Œä»¥åŠç¤¾ä¼šè¶‹åŠ¿ï¼ˆå¦‚ç¾å›½å¹´è½»äººä¸æ–­å¢é•¿çš„ç¯å¢ƒæ„è¯†ï¼‰ï¼Œæ±½è½¦å…±äº«è¿™æ ·ä¸€å¥—ç®€å•ä¾¿æ·çš„ç³»ç»Ÿæ‰èƒ½åº”è¿è€Œç”Ÿã€‚ å°†å…¬å¸ä¸šåŠ¡ç«‹è¶³äºå®¢æˆ·éœ€æ±‚çš„å·¨å¤§é¸¿æ²Ÿä¹‹ä¸Šã€‚è¿™é“é¸¿æ²Ÿçš„ä¸€è¾¹æ˜¯å®¢æˆ·è´­ä¹°çš„æ±½è½¦åŠå…¶å¸¦æ¥çš„è´¹ç”¨å’Œéº»çƒ¦ï¼Œå¦ä¸€è¾¹æ˜¯å®¢æˆ·çœŸå¿ƒæƒ³è¦çš„é‚£ç§è¯´èµ°å°±èµ°çš„è‡ªç”±æ„Ÿã€‚","categories":[{"name":"ä»–å±±ä¹‹çŸ³","slug":"ä»–å±±ä¹‹çŸ³","permalink":"http://yoursite.com/categories/ä»–å±±ä¹‹çŸ³/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://yoursite.com/tags/è¯»ä¹¦/"},{"name":"äº’è”ç½‘","slug":"äº’è”ç½‘","permalink":"http://yoursite.com/tags/äº’è”ç½‘/"}],"keywords":[{"name":"ä»–å±±ä¹‹çŸ³","slug":"ä»–å±±ä¹‹çŸ³","permalink":"http://yoursite.com/categories/ä»–å±±ä¹‹çŸ³/"}]},{"title":"å…³äºç ´åè¯•åˆ›æ–°","slug":"80å®ƒå±±ä¹‹ç‰/åˆ›æ–°çš„çª˜å¢ƒ","date":"2016-12-29T00:00:00.000Z","updated":"2018-12-10T15:26:22.251Z","comments":true,"path":"2016/12/29/80å®ƒå±±ä¹‹ç‰/åˆ›æ–°çš„çª˜å¢ƒ/","link":"","permalink":"http://yoursite.com/2016/12/29/80å®ƒå±±ä¹‹ç‰/åˆ›æ–°çš„çª˜å¢ƒ/","excerpt":"","text":"èƒŒæ™¯æœ¬æ–‡æ‘˜æŠ„äºã€Šåˆ›æ–°çš„çª˜å¢ƒã€‹ ä¹¦ä¸­è§‚ç‚¹ä¸€èˆ¬æ¥è¯´ï¼Œç ´åæ€§åˆ›æ–°å¹¶ä¸æ¶‰åŠç‰¹åˆ«å¤æ‚çš„æŠ€æœ¯å˜é©ï¼Œå…¶ä¸»è¦è¡¨ç°å½¢å¼å°±æ˜¯å°†æˆå“å…ƒä»¶ç»„è£…åœ¨ä¸€èµ·ï¼Œä½†ç›¸æ¯”ä¹‹å‰çš„äº§å“ï¼Œäº§å“ç»“æ„é€šå¸¸ä¼šå˜å¾—æ›´åŠ ç®€å•ã€‚ ç ´åæ€§åˆ›æ–°å¹¶ä¸èƒ½ä¸ºä¸»æµå¸‚åœºçš„å®¢æˆ·æä¾›æ›´å¥½çš„äº§å“ï¼Œå› æ­¤è¿™ç§åˆ›æ–°é¦–å…ˆå‘ç”Ÿåœ¨ä¸»æµå¸‚åœºçš„å¯èƒ½æ€§å¾ˆå°ã€‚ç›¸åï¼Œç ´åæ€§åˆ›æ–°æä¾›çš„æ˜¯ä¸€ç§å®Œå…¨ä¸åŒçš„äº§å“ç»„åˆï¼Œåªæœ‰è¿œç¦»ä¸»æµå¸‚åœºæˆ–å¯¹ä¸»æµå¸‚åœºæ²¡æœ‰å¤ªå¤§æ„ä¹‰çš„æ–°å…´å¸‚åœºï¼Œå®¢æˆ·æ‰ä¼šé‡è§†è¿™äº›äº§å“ç»„åˆçš„å±æ€§ã€‚ æˆç†Ÿä¼ä¸šä¸€èˆ¬å–„äºæ”¹å–„ä¸šå·²æˆç†Ÿçš„æŠ€æœ¯ï¼Œè€Œæ–°å…´ä¼ä¸šä¼¼ä¹æ›´å–„äºåˆ©ç”¨çªç ´æ€§æ–°æŠ€æœ¯ï¼ŒåŸå› é€šå¸¸æ˜¯å®ƒä»¬å°†å·²ç»ç ”å‘å’Œé‡‡ç”¨è¿‡çš„æŠ€æœ¯ä»ä¸€ä¸ªè¡Œä¸šå¼•å…¥å¦ä¸€ä¸ªè¡Œä¸šã€‚ å…‹æ‹‰å…‹è®¤ä¸ºï¼Œä¼ä¸šä¸€èˆ¬æ˜¯å‡­å€Ÿç»éªŒæˆ–ç­‰çº§æ¥æ„å»ºæŸç§äº§å“ï¼ˆä¾‹å¦‚æ±½è½¦ï¼‰çš„æŠ€æœ¯èƒ½åŠ›ã€‚å¯¹äºåº”è¯¥è§£å†³å’Œåº”è¯¥é¿å…çš„æŠ€æœ¯é—®é¢˜ï¼Œä¼ä¸šçš„å†å²é€‰æ‹©å†³å®šäº†å®ƒæ‰€ç§¯ç´¯çš„æŠ€èƒ½å’ŒçŸ¥è¯†çš„ç±»å‹ã€‚å½“åº”å¯¹äº§å“æˆ–æµç¨‹æ‰§è¡Œé—®é¢˜çš„æœ€ä½³è§£å†³æ–¹æ¡ˆéœ€è¦ä¼ä¸šå…·å¤‡ä¸å…¶ç§¯ç´¯çš„ç»éªŒå¤§ç›¸å¾„åº­çš„çŸ¥è¯†æ—¶ï¼Œè¿™å®¶ä¼ä¸šå¾ˆæœ‰å¯èƒ½ä¼šé­é‡æŒ«æŠ˜ã€‚ â€œå¯†åˆ‡å…³æ³¨ä½ çš„å®¢æˆ·â€è¿™å¥æµè¡Œå£å·ä¼¼ä¹å¹¶ä¸æ€»æ˜¯ä¸€ä¸ªç»å¾—èµ·æ¨æ•²çš„å»ºè®®ã€‚ç›¸åï¼Œäººä»¬å¯èƒ½ä¼šè®¤ä¸ºï¼Œæ˜¯å®¢æˆ·å¼•å¯¼äº†å…¶ä¾›åº”å•†çš„å»¶ç»­æ€§åˆ›æ–°è¿›ç¨‹ï¼Œä½†è¿™å¥è¯åœ¨ç ´åæ€§æŠ€æœ¯å˜é©ä¸­å¹¶æ²¡æœ‰å‘æŒ¥å¼•é¢†ä½œç”¨â€”â€”æˆ–è€…ç”šè‡³æ˜¯æ˜æ˜¾è¯¯å¯¼äº†ä¾›åº”å•†ï¼› å€˜è‹¥æˆç†Ÿä¼ä¸šå†³å®šå¿½ç•¥æ— æ³•è§£å†³å½“å‰å®¢æˆ·éœ€æ±‚çš„æŠ€æœ¯+ï¼Œå½“ä¸¤æ¡æœ¬æ¥äº•æ°´ä¸çŠ¯æ²³æ°´çš„è½¨çº¿æœ€ç»ˆäº¤æ±‡æ—¶ï¼Œè¿™ä¸ªå†³å®šå°†ç»™å®ƒä»¬é€ æˆè‡´å‘½çš„æ‰“å‡»ã€‚ â€œæˆç†Ÿä¼ä¸šé¢ä¸´çš„æœ€å¤§éšœç¢å°±æ˜¯å®ƒä»¬ç¼ºä¹è¿™ä¹ˆåšçš„æ„æ„¿ã€‚â€ å¥½çš„ä¼ä¸šå†…è®¸å¤šå—è¿‡è‰¯å¥½åŸ¹è®­çš„å†³ç­–è€…ï¼Œå¦‚ä½•å‘æŒ¥ä»–ä»¬åœ¨èµ„æºåˆ†é…æ–¹é¢çš„ä½œç”¨â€”â€”ä»–ä»¬å°†æŠŠèµ„é‡‘å’ŒäººåŠ›èµ„æºåˆ†é…åˆ°é‚£äº›ä»–ä»¬è®¤ä¸ºå°†ç»™ä¼ä¸šå¸¦æ¥æœ€å¤§å¢é•¿ç©ºé—´å’Œåˆ©æ¶¦ç‡çš„é¡¹ç›®ä¸Šã€‚å³ä¾¿ä¸€å®¶ä¼ä¸šé¦–å¸­æ‰§è¡Œå®˜å·²ä¸‹å®šå†³å¿ƒï¼Œè¦è®©ä¼ä¸šåŠæ—©æŠŠæ¡ä¸‹ä¸€è½®ç ´åæ€§æŠ€æœ¯æµªæ½®ï¼Œå¹¶å¼•å¯¼ä¼ä¸šæˆåŠŸåœ°è®¾è®¡å‡ºç»æµå‹æ–°äº§å“ï¼›ä½†è¿™å®¶ä¼ä¸šçš„å‘˜å·¥å´ä¸è®¤ä¸ºä¸€ä¸ªè§„æ¨¡ä»…ä¸º8000ä¸‡ç¾å…ƒçš„ä½ç«¯å¸‚åœºï¼Œèƒ½å¤Ÿè§£å†³ä¸€å®¶æ”¶å…¥è¾¾æ•°åäº¿ç¾å…ƒä¼ä¸šçš„å¢é•¿å’Œåˆ©æ¶¦é—®é¢˜â€”â€”ç‰¹åˆ«æ˜¯ä¼ä¸šçš„ç«äº‰å¯¹æ‰‹å°†ä¼šé‡‡å–ä¸€åˆ‡å¯èƒ½çš„æªæ–½ï¼Œæ¥æŠ¢å ä¸ºä»–ä»¬å¸¦æ¥è¿™æ•°åäº¿ç¾å…ƒæ”¶å…¥çš„å®¢æˆ·èµ„æºã€‚ è€Œé¢†å…ˆä¼ä¸šåœ¨è¿™äº›å¸‚åœºä¸Šæ¥åˆ°çš„ç¬¬ä¸€ç¬”è®¢å•ä¹Ÿéƒ½æ˜¯å°è®¢å•ï¼ŒåŸ¹è‚²äº†è¿™äº›æ–°å…´å¸‚åœºçš„ä¼ä¸šæ‰€å»ºç«‹çš„æˆæœ¬ç»“æ„ï¼Œä¹Ÿå¿…é¡»èƒ½ä½¿ä¼ä¸šä»¥å¾ˆå°çš„è§„æ¨¡å®ç°è´åˆ©ã€‚ ç ´åæ€§åˆ›æ–°å¦‚ä½•è½¬åŒ–ä¸ºå•†ä¸šç”¨é€” ç ´åæ€§æŠ€æœ¯é¦–å…ˆç”±æˆç†Ÿä¼ä¸šç ”åˆ¶æˆåŠŸ å¸‚åœºé”€å”®éšåæ”¶é›†å…¬å¸ä¸»è¦å®¢æˆ·çš„åé¦ˆ æˆç†Ÿä¼ä¸šåŠ å¿«å¯¹å»¶ç»­æ€§æŠ€æœ¯çš„å¼€å‘æ­¥ä¼ æ–°ä¼ä¸šå·²ç»å‡ºç°ï¼Œç ´åæ€§æŠ€æœ¯å¸‚åœºåœ¨åå¤å°è¯•ä¸­é€æ¸æˆå½¢ æ–°å…´ä¼ä¸šå‘é«˜ç«¯å¸‚åœºè½¬ç§» æˆç†Ÿä¼ä¸šåœ¨ç»´æŠ¤å®¢æˆ·åŸºç¡€æ–¹é¢æ£‹æ…¢ä¸€æ‹› å»¶ä¼¸ä¸€é’ˆé¡¶ç ´å¤©çš„ç†è®ºæºåˆ›æ–°å’Œæµåˆ›æ–°çš„åŒºåˆ«","categories":[{"name":"ä»–å±±ä¹‹çŸ³","slug":"ä»–å±±ä¹‹çŸ³","permalink":"http://yoursite.com/categories/ä»–å±±ä¹‹çŸ³/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://yoursite.com/tags/è¯»ä¹¦/"},{"name":"äº’è”ç½‘","slug":"äº’è”ç½‘","permalink":"http://yoursite.com/tags/äº’è”ç½‘/"}],"keywords":[{"name":"ä»–å±±ä¹‹çŸ³","slug":"ä»–å±±ä¹‹çŸ³","permalink":"http://yoursite.com/categories/ä»–å±±ä¹‹çŸ³/"}]},{"title":"ä¸šåŠ¡æµç¨‹å¼•è®º","slug":"21ç³»ç»Ÿè®¾è®¡/ä¸šåŠ¡æµç¨‹å¼•è®º","date":"2016-12-29T00:00:00.000Z","updated":"2018-12-10T17:02:41.565Z","comments":true,"path":"2016/12/29/21ç³»ç»Ÿè®¾è®¡/ä¸šåŠ¡æµç¨‹å¼•è®º/","link":"","permalink":"http://yoursite.com/2016/12/29/21ç³»ç»Ÿè®¾è®¡/ä¸šåŠ¡æµç¨‹å¼•è®º/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ä¸šåŠ¡æµç¨‹? ä¸šåŠ¡æµç¨‹ç®€å•ç†è§£å³ä¼ä¸šåšäº‹çš„è¿‡ç¨‹ï¼Œå®ƒå…·æœ‰å‡†ç¡®çš„å®šä¹‰ï¼šæœ‰ç»„ç»‡çš„æ´»åŠ¨ï¼Œç›¸äº’è”ç³»ï¼Œä¸ºå®¢æˆ·åˆ›é€ ä»·å€¼ã€‚ å¯ä»¥è¯´ä»»ä½•ä¼ä¸šçš„æ´»åŠ¨éƒ½æ˜¯ä»¥ä¸šåŠ¡ä¸ºä¸»çº¿ï¼Œä»¥æµç¨‹ä¸ºçº¿ç´¢ä¸²è”èµ·æ¥çš„ã€‚ä¼ä¸šçš„è§„ç« åˆ¶åº¦ã€ä¸šåŠ¡æ“ä½œæ‰‹å†Œç­‰éƒ½ä¸ä¸šåŠ¡æµç¨‹æœ‰ç€å¥‘åˆç‚¹ã€‚ æµç¨‹çš„å­¦æœ¯å®šä¹‰ï¼šè¿ˆå…‹å°”Â·å“ˆé»˜ï¼šä¸šåŠ¡æµç¨‹æ˜¯æŠŠä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥è½¬åŒ–ä¸ºå¯¹é¡¾å®¢æœ‰ä»·å€¼çš„è¾“å‡ºçš„æ´»åŠ¨ã€‚ TÂ·HÂ·è¾¾æ–‡æ³¢ç‰¹ï¼šä¸šåŠ¡æµç¨‹æ˜¯ä¸€ç³»åˆ—ç»“æ„åŒ–çš„å¯æµ‹é‡çš„æ´»åŠ¨é›†åˆï¼Œå¹¶ä¸ºç‰¹å®šçš„å¸‚åœºæˆ–ç‰¹å®šçš„é¡¾å®¢äº§ç”Ÿç‰¹å®šçš„è¾“å‡ºã€‚ ISO9000ï¼šä¸šåŠ¡æµç¨‹æ˜¯ä¸€ç»„å°†è¾“å…¥è½¬åŒ–ä¸ºè¾“å‡ºçš„ç›¸äº’å…³è”æˆ–ç›¸äº’ä½œç”¨çš„æ´»åŠ¨ã€‚ ä¸šåŠ¡æµç¨‹å¯¹äºä¼ä¸šçš„æ„ä¹‰ä¸€å®¶ä¼ä¸šæˆåŠŸçš„åŸºç¡€ï¼Œå°±æ˜¯é€šè¿‡ä¸šåŠ¡æµç¨‹åè°ƒå„ç§èµ„æºæ¥è¾¾æˆä¼ä¸šç›®æ ‡ã€‚æ— è®ºæ˜¯å‘é¡¾å®¢äº¤ä»˜äº§å“ï¼Œä¸åˆä½œä¼™ä¼´ååŒï¼Œè¿˜æ˜¯å¼•å¯¼å‘˜å·¥çš„åŠªåŠ›ï¼Œä¸šåŠ¡æµç¨‹èƒ½å¤Ÿå°†ä¼ä¸šçš„äº§å“ã€å“ç‰Œå’Œä»·å€¼æœ‰æœºåœ°ç¼–ç»‡åˆ°ä¸€èµ·ï¼Œä¾‹å¦‚ä¸‹é¢è¿™äº›ä¸šåŠ¡æ´»åŠ¨éƒ½æ˜¯ä¸šåŠ¡æµç¨‹ï¼šæ ¹æ®ç”Ÿäº§æ‰€éœ€ï¼Œå®‰æ’åŸææ–™çš„æ£€éªŒã€å…¥åº“å’Œä¾›åº”ï¼›å›ç­”å®¢æˆ·çš„å’¨è¯¢ï¼›ä»ä¾›åº”å•†é‚£é‡Œé‡‡è´­ï¼›å‘å¸‚åœºæŠ•æ”¾æ–°äº§å“ã€‚äº‹å®ä¸Šï¼Œä¸šåŠ¡æµç¨‹é›†æˆäº†ä¼ä¸šå†…å„ç§ä¸šåŠ¡çš„ç‰¹å¾ï¼Œä¸šåŠ¡æµç¨‹ä¹Ÿå› æ­¤æˆä¸ºä¼ä¸šè¿ä½œç‰¹æ€§çš„æ ¸å¿ƒã€‚ ä¸šåŠ¡æµç¨‹å¯¹äºä¼ä¸šçš„æ„ä¹‰ä¸ä»…ä»…åœ¨äºå¯¹ä¼ä¸šå…³é”®ä¸šåŠ¡çš„ä¸€ç§æè¿°ï¼Œæ›´åœ¨äºå¯¹ä¼ä¸šçš„ä¸šåŠ¡è¿è¥æœ‰ç€æŒ‡å¯¼æ„ä¹‰ï¼Œè¿™ç§æ„ä¹‰ä½“ç°åœ¨å¯¹èµ„æºçš„ä¼˜åŒ–ã€å¯¹ä¼ä¸šç»„ç»‡æœºæ„çš„ä¼˜åŒ–ä»¥åŠå¯¹ç®¡ç†åˆ¶åº¦çš„ä¸€ç³»åˆ—æ”¹å˜ã€‚è¿™ç§ä¼˜åŒ–çš„ç›®çš„å®é™…ä¹Ÿæ˜¯ä¼ä¸šæ‰€è¿½æ±‚çš„ç›®æ ‡ï¼š é™ä½ä¼ä¸šçš„è¿è¥æˆæœ¬ï¼Œæé«˜å¯¹å¸‚åœºéœ€æ±‚çš„å“åº”é€Ÿåº¦ï¼Œäº‰å–ä¼ä¸šåˆ©æ¶¦çš„æœ€å¤§åŒ–ã€‚ æˆ˜ç•¥å’Œæµç¨‹çš„å…³ç³»æˆ‘ä»¬ç©¶ç«Ÿåº”è¯¥å¦‚ä½•ç†è§£æˆ˜ç•¥å’Œæµç¨‹çš„å…³ç³»å‘¢ï¼Ÿè®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æˆ˜ç•¥å’Œæˆ˜ç•¥ç®¡ç†çš„å®šä¹‰ã€‚ ä¼ä¸šæˆ˜ç•¥æ˜¯æ˜¯å¯¹ä¼ä¸šæ•´ä½“æ€§ã€é•¿æœŸæ€§ã€åŸºæœ¬æ€§é—®é¢˜çš„è®¡è°‹ï¼Œå…¶ä¸­åŒ…æ‹¬ç«äº‰æˆ˜ç•¥ã€è¥é”€æˆ˜ç•¥ã€å‘å±•æˆ˜ç•¥ã€å“ç‰Œæˆ˜ç•¥ã€èèµ„æˆ˜ç•¥ã€æŠ€æœ¯å¼€å‘æˆ˜ç•¥ã€äººæ‰å¼€å‘æˆ˜ç•¥ã€èµ„æºå¼€å‘æˆ˜ç•¥ç­‰ç­‰ã€‚ è€Œæˆ˜ç•¥ç®¡ç†å®šä¹‰ä¸ºæ˜¯ä¼ä¸šç¡®å®šå…¶ä½¿å‘½ï¼Œæ ¹æ®ç»„ç»‡å¤–éƒ¨ç¯å¢ƒå’Œå†…éƒ¨æ¡ä»¶è®¾å®šä¼ä¸šçš„æˆ˜ç•¥ç›®æ ‡ï¼Œä¸ºä¿è¯ç›®æ ‡çš„æ­£ç¡®è½å®å’Œå®ç°è¿›è¡Œè°‹åˆ’ï¼Œå¹¶ä¾é ä¼ä¸šå†…éƒ¨èƒ½åŠ›å°†è¿™ç§è°‹åˆ’å’Œå†³ç­–ä»˜è¯¸å®æ–½ï¼Œä»¥åŠåœ¨å®æ–½è¿‡ç¨‹ä¸­è¿›è¡Œæ§åˆ¶çš„ä¸€ä¸ªåŠ¨æ€ç®¡ç†è¿‡ç¨‹ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æˆ˜ç•¥ç®¡ç†åˆ†è§£æˆä»¥ä¸‹ä¸‰ä¸ªè¿‡ç¨‹ã€‚ æˆ˜ç•¥åˆ¶å®šï¼Œç¡®å®šä¼ä¸šä»»åŠ¡ï¼Œè®¤å®šä¼ä¸šçš„å¤–éƒ¨æœºä¼šä¸å¨èƒï¼Œè®¤å®šä¼ä¸šå†…éƒ¨ä¼˜åŠ¿ä¸å¼±ç‚¹ï¼Œå»ºç«‹é•¿æœŸç›®æ ‡ï¼Œåˆ¶å®šä¾›é€‰æ‹©æˆ˜ç•¥ï¼Œä»¥åŠé€‰æ‹©ç‰¹å®šçš„å®æ–½æˆ˜ç•¥ã€‚ æˆ˜ç•¥å®æ–½ï¼Œæ ‘ç«‹å¹´åº¦ç›®æ ‡ã€åˆ¶å®šæ”¿ç­–ã€æ¿€åŠ±å‘˜å·¥å’Œé…ç½®èµ„æºï¼Œä»¥ä¾¿ä½¿åˆ¶å®šçš„æˆ˜ç•¥å¾—ä»¥è´¯å½»æ‰§è¡Œã€‚ æˆ˜ç•¥è¯„ä»·ï¼Œé‡æ–°å®¡è§†å¤–éƒ¨ä¸å†…éƒ¨å› ç´ ï¼›åº¦é‡ä¸šç»©ï¼›é‡‡å–çº åæªæ–½ã€‚ å¯¼è‡´æˆ˜ç•¥æ‰§è¡Œä¸åŠ›ï¼Œæˆ˜ç•¥è½åœ°ä¸å®çš„åŸå› æ˜¯æµç¨‹æ‰§è¡Œè¿‡ç¨‹å‡ºç°çº°æ¼ï¼Œå°¤å…¶æ˜¯ä¸»è¥ä¸šåŠ¡æµç¨‹è¿è¡Œä¸åˆ°ä½ã€‚å› æ­¤ï¼Œæ„å»ºä¼˜ç§€çš„ç¬¦åˆæˆ˜ç•¥é€‰æ‹©çš„ä¸šåŠ¡æµç¨‹æ˜¯å¯¹æˆ˜ç•¥æœ€å¥½çš„è½åœ°å’Œæ‰§è¡Œï¼ è®©æˆ˜ç•¥è½åœ°çš„æµç¨‹ç®¡ç†ã€‚ æ›´æœ‰å½¢è±¡çš„æ¯”å–»è¯´ï¼Œå¦‚æœä¼ä¸šæ˜¯ä¸€è‰˜èˆ¹ï¼Œé‚£ä¼ä¸šçš„æˆ˜ç•¥å°±æ˜¯èˆ¹å¤´ï¼Œä¸šåŠ¡æµç¨‹æ˜¯èˆ¹èº«ï¼Œæˆ˜ç•¥å¼•å¯¼ä¼ä¸šåˆ°è¾¾ä¼ä¸šç›®æ ‡ï¼Œè€Œä¸šåŠ¡æµç¨‹åˆ™æ‰¿è½½ç€ä¼ä¸šçš„éƒ¨é—¨ã€å²—ä½ã€ç»©æ•ˆç­‰ï¼Œæ¨è¿›ä¼ä¸šä¸æ–­å‰è¿›ã€‚ ä¸šåŠ¡æµç¨‹çš„å®šä¹‰è¦ç´ â€œæµç¨‹â€çš„å®šä¹‰åŒ…æ‹¬äº†è¿™æ ·å…­ä¸ªè¦ç´ ï¼šè¾“å…¥èµ„æºã€æ´»åŠ¨ã€æ´»åŠ¨çš„ç›¸äº’ä½œç”¨ï¼ˆå³ç»“æ„ï¼‰ã€è¾“å‡ºç»“æœã€é¡¾å®¢ã€ä»·å€¼ã€‚ åœ¨æµç¨‹çš„å…­è¦ç´ ä¸­ï¼Œæœ‰ä¸¤ä¸ªå…³é”®è¦ç´ â€“å®¢æˆ·å’Œä»·å€¼ â€œæµç¨‹çš„å®¢æˆ·æ˜¯è°â€ â€œæµç¨‹ç»™å®¢æˆ·åˆ›é€ çš„ä»·å€¼æ˜¯ä»€ä¹ˆâ€ ä¸šåŠ¡æµç¨‹ç®¡ç†ï¼ˆBusiness Process Managementï¼ŒBPMï¼‰å®šä¹‰ä¸šåŠ¡æµç¨‹ç®¡ç†æ˜¯å°†ç”Ÿäº§æµç¨‹ã€ä¸šåŠ¡æµç¨‹ã€å„ç±»è¡Œæ”¿ç”³è¯·æµç¨‹ã€è´¢åŠ¡å®¡æ‰¹æµç¨‹ã€äººäº‹å¤„ç†æµç¨‹ã€è´¨é‡æ§åˆ¶åŠå®¢æœæµç¨‹ç­‰70%ä»¥ä¸Šéœ€è¦ä¸¤äººä»¥ä¸Šåä½œå®æ–½çš„ä»»åŠ¡å…¨éƒ¨æˆ–éƒ¨åˆ†ç”±è®¡ç®—æœºå¤„ç†ï¼Œå¹¶ä½¿å…¶ç®€å•åŒ–ã€è‡ªåŠ¨åŒ–çš„ä¸šåŠ¡è¿‡ç¨‹ã€‚ ä¸šåŠ¡æµç¨‹ç®¡ç†ï¼ˆBusiness Process Management, BPMï¼‰ä¸æ˜¯ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œç”šè‡³ä¸æ˜¯ä¸€ä¸ªæ–°åè¯ã€‚å®ƒæ˜¯ä»ç›¸å…³çš„ä¸šåŠ¡æµç¨‹å˜é©é¢†åŸŸï¼Œå¦‚ä¸šåŠ¡æµç¨‹æ”¹è¿›ï¼ˆBPIï¼‰ã€ä¸šåŠ¡æµç¨‹é‡ç»„ï¼ˆBPRï¼‰ã€ä¸šåŠ¡æµç¨‹é©æ–°ä¸­å‘å±•èµ·æ¥çš„ã€‚ Gartner Incï¼ç»™å‡ºçš„BPMçš„å®šä¹‰æ˜¯ï¼šBPMæ˜¯ä¸€ä¸ªæè¿°ä¸€ç»„æœåŠ¡å’Œå·¥å…·çš„ä¸€èˆ¬åè¯ï¼Œè¿™äº›æœåŠ¡å’Œå·¥å…·ä¸ºæ˜¾å¼çš„æµç¨‹ç®¡ç†(å¦‚æµç¨‹çš„åˆ†æã€å®šä¹‰ã€æ‰§è¡Œã€ç›‘è§†å’Œç®¡ç†)æä¾›æ”¯æŒã€‚ ä¸šåŠ¡æµç¨‹ç®¡ç†çš„éœ€æ±‚ä¸äº§ç”Ÿçš„èƒŒæ™¯20ä¸–çºª90å¹´ä»£ï¼ŒMichael Hammerå’ŒJames Champyçš„æˆåä¹‹ä½œã€Šå…¬å¸å†é€ ã€‹ï¼ˆReengineering the Corporationï¼‰ä¸€ä¹¦åœ¨å…¨ç¾å…¬å¸é¢†åŸŸå¼•å‘äº†ä¸€è‚¡æœ‰å…³ä¸šåŠ¡æµç¨‹æ”¹è¿›çš„æ±¹æ¶Œæµªæ½®ã€‚è¿™ä¸¤ä½ç®¡ç†å­¦å®—å¸ˆåœ¨ä¹¦ä¸­å±•ç¤ºäº†è¿™æ ·ä¸€ä¸ªè§‚ç‚¹â€”â€”é‡æ–°è®¾è®¡å…¬å¸çš„æµç¨‹ã€ç»“æ„å’Œæ–‡åŒ–èƒ½å¤Ÿå¸¦æ¥ç»©æ•ˆä¸Šçš„æ˜¾è‘—æé«˜ã€‚ä½†æ˜¯ç”±äºç¼ºå°‘å¯¹å˜é©ç®¡ç†ä»¥åŠå‘˜å·¥å˜é©ä¸»åŠ¨æ€§çš„å…³æ³¨ï¼Œåœ¨å¾ˆå¤šè‡´åŠ›äºæŠŠä»–ä»¬çš„ç†è®ºä»˜è¯¸å®è·µçš„å…¬å¸èº«ä¸Šäº§ç”Ÿäº†åä½œç”¨çš„ç»“æœã€‚æ›¾ç»çš„æœ‰å…³ä¸šåŠ¡æµç¨‹å†é€ çš„é‡‘ç§‘ç‰å¾‹é»¯ç„¶å¤±è‰²ï¼Œå¹¶ä¸”å˜å¾—è½æ—¶ã€‚ä»Šå¤©ï¼Œä¸šåŠ¡æµç¨‹æ”¹é€ æœ‰äº†æ–°åå­—â€”â€”ä¸šåŠ¡æµç¨‹ç®¡ç†ï¼ˆBPMï¼‰ï¼Œè€Œä¸”å†æ¬¡è¿›å…¥äº†æµè¡Œæ—¶æ®µã€‚å—åˆ°å…¨çƒç«äº‰å‹åŠ›ã€æ¶ˆè´¹å“åŒ–ä»¥åŠæ”¿åºœç›‘ç®¡çš„åˆºæ¿€ï¼Œç¾å›½å…¬å¸æ­£åœ¨é‡æ–°å®¡è§†ä»–ä»¬çš„ä¸šåŠ¡æµç¨‹ï¼Œå¯»æ‰¾åˆ°æ›´é«˜æ•ˆçš„æ–¹æ³•ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–ç”šè‡³å¤–åŒ…çš„æ‰‹æ®µå»å®æ–½å®ƒä»¬ã€‚å…¬å¸å†æ¬¡æŠŠä¸šåŠ¡æµç¨‹ç®¡ç†â€”â€”è¿™ç§é€šè¿‡åˆ†æã€å»ºæ¨¡å’Œç›‘æ§æŒç»­ä¼˜åŒ–ä¸šåŠ¡æµç¨‹çš„å®è·µï¼Œå½“ä½œä¸€ç§è§£å†³ä¸šåŠ¡éš¾é¢˜å’Œå¸®åŠ©å…¬å¸å®ç°è‡ªå·±è´¢åŠ¡ç›®æ ‡çš„ç³»ç»Ÿæ–¹æ³•ã€‚ ä¸šåŠ¡åˆ†æå®é™…è¿™ä¹Ÿæ˜¯ä¸šåŠ¡æµç¨‹ç®¡ç†æœ€é‡è¦çš„éƒ¨åˆ†ã€‚å®ƒéœ€è¦å¯¹ä¼ä¸šä¸šåŠ¡æœ‰ç€å¼ºå¤§çš„åˆ†æèƒ½åŠ›ï¼Œå› ä¸ºä¸šåŠ¡åˆ†æå¯¹ä¼ä¸šçš„è¿è¥æœ‰ç€é‡å¤§çš„æŒ‡å¯¼æ„ä¹‰ï¼Œåªæœ‰å…·å¤‡äº†è¿™æ ·çš„ä¸šåŠ¡åˆ†æèƒ½åŠ›ï¼Œæ‰èƒ½æŠŠæ¡ä½ä¼ä¸šè¿è½¬çš„çœŸå®æµç¨‹ï¼Œè€Œä¸”è¿™ç§åˆ†æèƒ½åŠ›å¾€å¾€å¸¦æœ‰å¯¹æ•´ä¸ªè¡Œä¸šçš„æ·±åˆ»ç†è§£å’Œå‰ç»æ€§ã€‚ä¸šåŠ¡åˆ†æåœ¨äºäººï¼Œä¸ITæ— å…³ã€‚ ä¸šåŠ¡æµç¨‹çš„æŒç»­æ”¹è¿›ä¸ä»…ä»…æ˜¯æµç¨‹ç®¡ç†äººå‘˜ï¼ˆç®¡ç†å†³ç­–å±‚ï¼‰æ ¹æ®è¿è¡Œæ•ˆç›Šçš„åˆ†æå’Œå•†ä¸šç¯å¢ƒçš„åˆ†æå¯¹æµç¨‹è¿›è¡Œé‡æ•´ã€‚è¿˜åŒ…æ‹¬æ¯ä¸ªå‘˜å·¥å¯¹å…¶å‚ä¸çš„æµç¨‹çš„æŒç»­åé¦ˆå’ŒæŒç»­æ”¹è¿›ã€‚ ITç³»ç»Ÿä¸ä¸šåŠ¡æµç¨‹çš„å…³ç³»ä¸šåŠ¡æµç¨‹ç®¡ç†æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å‘½é¢˜ï¼ŒITç³»ç»Ÿé€šè¿‡ä¿¡æ¯åŒ–å¯¹å®ƒçš„å­é›†è¿›è¡Œæ”¯æ’‘ï¼ŒåŠå…¬è‡ªåŠ¨åŒ–ç³»ç»Ÿã€äº‹åŠ¡å¤„ç†ç³»ç»Ÿå’Œå†³ç­–æ”¯æŒç³»ç»Ÿç­‰éƒ½æ˜¯å¸¸è§çš„ä¼ä¸šä¿¡æ¯ç³»ç»Ÿï¼Œä½†è¿™äº›ç³»ç»Ÿå¹¶æ²¡æœ‰åŠ å…¥æµç¨‹çš„å› ç´ ï¼Œåªæ˜¯ç”¨æ¥å¸®åŠ©å‘˜å·¥æ›´å¥½åœ°å®ŒæˆæŸäº›ç‰¹å®šçš„ä»»åŠ¡ã€‚å·¥ä½œæµç³»ç»Ÿçš„å‡ºç°ä½¿å¾—æ•´ä¸ªæµç¨‹çš„è‡ªåŠ¨æµè½¬æˆ–è‡ªåŠ¨æ‰§è¡Œæˆä¸ºå¯èƒ½ï¼Œä½†æ˜¯å·¥ä½œæµä¸€èˆ¬åªè§£å†³ç”Ÿäº§æµç¨‹å±‚çš„é—®é¢˜ï¼Œä¸ä¼ä¸šçš„è®¡åˆ’å’Œæˆ˜ç•¥å†³ç­–è¿˜å­˜åœ¨ä¸€å®šçš„è„±èŠ‚ã€‚å¦å¤–ï¼Œéšç€ä¼ä¸šä¸šåŠ¡æµç¨‹å‘ä¼ä¸šå¤–éƒ¨(ä¾›åº”å•†å’Œå®¢æˆ·)å»¶ä¼¸ï¼Œä¼ ç»Ÿçš„å·¥ä½œæµç³»ç»Ÿæ— åŠ›è§£å†³è·¨ä¼ä¸šçš„æµç¨‹é›†æˆé—®é¢˜ã€‚ ä¸šåŠ¡æµç¨‹ç®¡ç†çš„æ ¸å¿ƒåœ¨äºä¸šåŠ¡æµç¨‹çš„åˆ†æè§£æ„å’Œé‡æ•´ï¼Œè¿™ç‚¹æ˜¯æ‰€æœ‰è½¯ä»¶éƒ½ä¸å¯ä¼åŠçš„ï¼Œå…³é”®åœ¨äºäººçš„å‚ä¸ã€‚ ä¸šåŠ¡æµç¨‹é‡ç»„ç®€ä»‹ä¼ä¸šå†é€  ä¸šåŠ¡æµç¨‹é‡ç»„æ¦‚å¿µ1990å¹´ï¼Œå“ˆé»˜åœ¨ã€Šå“ˆä½›å•†ä¸šè¯„è®ºã€‹ä¸Šå‘è¡¨äº†ä¸€ç¯‡åä¸ºã€Šå†é€ ï¼šä¸æ˜¯è‡ªåŠ¨åŒ–ï¼Œè€Œæ˜¯é‡æ–°å¼€å§‹ã€‹çš„æ–‡ç« ï¼Œç‡å…ˆæå‡ºä¼ä¸šå†é€ çš„æ€æƒ³.æ‰€è°“â€œä¼ä¸šå†é€ â€ï¼Œç®€å•åœ°è¯´å°±æ˜¯ä»¥å·¥ä½œæµç¨‹ä¸ºä¸­å¿ƒï¼Œé‡æ–°è®¾è®¡ä¼ä¸šçš„ç»è¥ã€ç®¡ç†åŠè¿ä½œæ–¹å¼ï¼Œåœ¨æ–°çš„ä¼ä¸šè¿è¡Œç©ºé—´æ¡ä»¶ä¸‹ï¼Œæ”¹é€ åŸæ¥çš„å·¥ä½œæµç¨‹ï¼Œä»¥ä½¿ä¼ä¸šæ›´é€‚åº”æœªæ¥çš„ç”Ÿå­˜å‘å±•ç©ºé—´ã€‚å®ƒä»¥ä¸€ç§å†ç”Ÿçš„æ€æƒ³é‡æ–°å®¡è§†ä¼ä¸šï¼Œå¹¶å¯¹ä¼ ç»Ÿçš„ç®¡ç†å­¦èµ–ä»¥å­˜åœ¨çš„åŸºç¡€â€”â€”åˆ†å·¥ç†è®ºæå‡ºäº†è´¨ç–‘ï¼Œæ˜¯ç®¡ç†å­¦å‘å±•å²ä¸­çš„ä¸€æ¬¡å·¨å¤§å˜é©ã€‚åæ¥å“ˆé»˜æ•™æˆä¸CSC Indexçš„é¦–å¸­æ‰§è¡Œå®˜JamesChampyäº1993å¹´å‘è¡¨äº†ã€Šå…¬å¸é‡ç»„ï¼šä¼ä¸šé©å‘½çš„å®£è¨€ã€‹ã€‚ æ­¤åï¼Œä¸šåŠ¡æµç¨‹é‡ç»„ï¼ˆBusiness Process Reengineeringï¼Œç®€ç§°BPRï¼‰ä½œä¸ºä¸€ç§æ–°çš„ç®¡ç†æ€æƒ³ï¼Œè±¡ä¸€è‚¡é£æ½®å¸­å·äº†æ•´ä¸ªç¾å›½å’Œå…¶ä»–å·¥ä¸šåŒ–å›½å®¶ï¼Œå¹¶å¤§æœ‰é£é¡ä¸–ç•Œä¹‹åŠ¿ã€‚BPRè¢«ç§°ä½œæ˜¯â€œæ¢å¤ç¾å›½ç«äº‰åŠ›çš„å”¯ä¸€é€”å¾„â€ï¼Œå¹¶å°†â€œå–ä»£å·¥ä¸šé©å‘½ï¼Œä½¿ä¹‹è¿›å…¥é‡ç»„é©å‘½çš„æ—¶ä»£â€ã€‚ æ ¹æ®Hammerä¸Champyçš„å®šä¹‰ï¼ŒBPRå°±æ˜¯â€œå¯¹ä¼ä¸šçš„ä¸šåŠ¡æµç¨‹Processï¼‰è¿›è¡Œæ ¹æœ¬æ€§ï¼ˆFundamentalï¼‰å†æ€è€ƒå’Œå½»åº•æ€§ï¼ˆRadicalï¼‰å†è®¾è®¡ï¼Œä»è€Œè·å¾—åœ¨æˆæœ¬ã€è´¨é‡ã€æœåŠ¡å’Œé€Ÿåº¦ç­‰æ–¹é¢ä¸šç»©çš„æˆå‰§æ€§çš„ï¼ˆDramaticï¼‰æ”¹å–„â€ã€‚ ä¼ä¸šæµç¨‹ä¼˜åŒ–-ESIAæµç¨‹æ˜¯ç”±ä¸€ç³»åˆ—çš„æ´»åŠ¨ç»„æˆçš„ï¼Œè€Œæ´»åŠ¨æœ‰å¢å€¼æ´»åŠ¨ä¸éå¢å€¼æ´»åŠ¨ä¹‹åˆ†ã€‚å¯¹äºâ€œå¢å€¼â€çš„åˆ¤æ–­ï¼Œâ€œé‡ç»„â€çš„æå‡ºè€…å“ˆé»˜åšå£«ä¹Ÿæ›¾ç»æå‡ºè¿‡ä¸€ä¸ªå®ç”¨çš„åŸåˆ™â€”-å®¢æˆ·æ„¿æ„ä»˜è´¹çš„å°±æ˜¯å¢å€¼çš„ã€‚ æ‰€æœ‰ä¼ä¸šçš„æœ€ç»ˆç›®çš„éƒ½åº”è¯¥æ˜¯ä¸ºäº†æå‡é¡¾å®¢åœ¨ä»·å€¼é“¾ä¸Šçš„ä»·å€¼åˆ†é…ã€‚é‡æ–°è®¾è®¡æ–°çš„æµç¨‹ä»¥æ›¿ä»£åŸæœ‰æµç¨‹çš„æ ¹æœ¬ç›®çš„ï¼Œå°±æ˜¯ä¸ºäº†ä»¥ä¸€ç§æ–°çš„ç»“æ„æ–¹å¼ä¸ºé¡¾å®¢æä¾›è¿™ç§ä»· å€¼çš„å¢åŠ ï¼ŒåŠå…¶ä»·å€¼å¢åŠ çš„ç¨‹åº¦ã€‚åæ˜ åˆ°å…·ä½“çš„æµç¨‹è®¾è®¡ä¸Šï¼Œå°±æ˜¯å°½ä¸€åˆ‡å¯èƒ½å‡å°‘æµç¨‹ä¸­éå¢å€¼æ´»åŠ¨è°ƒæ•´æµç¨‹ä¸­çš„æ ¸å¿ƒå¢å€¼æ´»åŠ¨ã€‚å…¶åŸºæœ¬åŸåˆ™å°±æ˜¯ESIAã€‚ESIAæ³•æ˜¯å‡å°‘æµç¨‹ä¸­éå¢å€¼æ´»åŠ¨ä»¥åŠè°ƒæ•´æµç¨‹çš„æ ¸å¿ƒå¢å€¼æ´»åŠ¨çš„å®ç”¨åŸåˆ™ã€‚ æ¸…é™¤â€”â€”Eliminateåˆ é™¤æ— é™„åŠ ä»·å€¼çš„æ­¥éª¤ã€‚ ä¼ä¸šå›´ç»•ä»·å€¼é“¾æ‰€è¿›è¡Œçš„æ‰€æœ‰æ´»åŠ¨ï¼Œæœ‰å¤§æ¦‚20%å·¦å³æ˜¯å¢å€¼æ´»åŠ¨ï¼Œ80%å·¦å³çš„æ˜¯éå¢å€¼æ´»åŠ¨ä¸­,è€Œåœ¨éå¢å€¼æ´»åŠ¨ä¸­çš„10%åˆ°20%æ˜¯æ— æ•ˆæ´»åŠ¨ã€‚ æ— æ•ˆæ´»åŠ¨é¦–å…ˆè¦äºˆä»¥æ¸…é™¤ã€‚(åè°ƒä¸æ§åˆ¶) ç­‰å¾…æ—¶é—´ï¼Œç”±äºä¸Šä¸€ä¸ªç¯èŠ‚æ€»æ˜¯ä¸åˆ°ä½ï¼Œå‡ºç°è™šè€—ï¼Œè¿™å°±æ˜¯ä¸€ç§æµªè´¹ï¼Œå¿…é¡»æ¸…é™¤ã€‚ æ•…éšœ\\ç¼ºé™·å’Œå¤±è¯¯ï¼Œç”±äºå¤±è¯¯ï¼Œåœ¨å·¥ä½œä¸­äº§ç”Ÿäº†æ®‹æ¬¡å“ï¼Œè€Œæ¯ç”Ÿäº§ä¸€ä¸ªæ®‹æ¬¡å“å°±æ˜¯å¯¹æˆæœ¬çš„æé«˜ï¼Œå°±æ˜¯å¯¹èµ„æºçš„æµªè´¹ï¼Œå¿…é¡»æ¸…é™¤ã€‚ é‡å¤æ€§åŠ³åŠ¨ï¼Œå•ä½ä¸­æœ‰æ—¶ä¼šå­˜åœ¨å› äººè®¾äº‹æˆ–é‡å¤æ€§çš„åŠ³åŠ¨ï¼Œè¿™äº›éƒ½æ˜¯è¦åšå†³æ¸…é™¤çš„ã€‚ ###ç®€åŒ–â€”â€”Simply###ç®€åŒ–æ‰€æœ‰è¿‡äºå¤æ‚çš„ç¯èŠ‚ã€‚ è¡¨æ ¼ã€ç¨‹åºã€æ²Ÿé€šæ¸ é“ã€é—®é¢˜åŒºåŸŸ æŸäº›è¡¨æ ¼å¾ˆç¹çï¼Œä¸ºäº†æ‹¿ä¸€åªç¯æ³¡ï¼Œè¦ç»è¿‡å¥½å‡ ä¸ªéƒ¨é—¨ç­¾å­—ï¼Œè€Œè¿™äº›éƒ¨é—¨è¿˜ç†ç›´æ°”å£®åœ°é—®ï¼Œä½ æ€ä¹ˆè¿è¡¨éƒ½ä¸ä¼šå¡«ï¼Œåƒè¿™äº›å°±éœ€è¦ç®€åŒ–ã€‚é—®é¢˜åŒºåŸŸä¹Ÿéœ€è¦ç®€åŒ–ã€‚æŸä¸ªç¯èŠ‚ç»å¸¸å‡ºç°é—®é¢˜ï¼Œç§°ä¹‹ä¸ºé—®é¢˜åŒºåŸŸã€‚é—®é¢˜åŒºåŸŸå¾€å¾€æ˜¯å› å·¥ä½œæ°´å¹³é—®é¢˜æˆ–ç”¨äººä¸å½“é€ æˆçš„ï¼Œè¿™æ˜¯åº”è¯¥å…³æ³¨çš„ä¸€ä¸ªé‡ç‚¹ã€‚ ###æ•´åˆâ€”â€”Integrate###é›†æˆåŠŸèƒ½ ï¼Œç†é¡ºæµç¨‹è¿‡ç¨‹ã€‚ æ´»åŠ¨ã€‚èµ‹æƒä¸€ä¸ªäººå®Œæˆä¸€ç³»åˆ—ç®€å•æ´»åŠ¨ï¼Œå°†æ´»åŠ¨è¿›è¡Œæ•´åˆï¼Œä»è€Œå¯ä»¥å‡å°‘æ´»åŠ¨è½¬äº¤çš„å‘é”™ç‡å’Œç¼©çŸ­å·¥ä½œå¤„ç†æ—¶é—´ï¼Œå®ç°æµç¨‹ä¸æµç¨‹ä¹‹é—´çš„â€œå•ç‚¹æ¥è§¦â€ã€‚ å›¢é˜Ÿã€‚åˆå¹¶ä¸“å®¶ç»„æˆå›¢é˜Ÿï¼Œå½¢æˆâ€œä¸ªæ¡ˆå›¢é˜Ÿâ€æˆ–â€œè´£ä»»å›¢é˜Ÿâ€ã€‚è¿™æ ·ä½¿å¾—ç‰©æ–™ã€ä¿¡æ¯å’Œæ–‡ä»¶æ—…è¡Œè·ç¦»æœ€çŸ­ï¼Œæ”¹å–„åŒä¸€æµç¨‹ä¸Šå·¥ä½œçš„äººä¸äººä¹‹é—´çš„æ²Ÿé€šã€‚ é¡¾å®¢ï¼ˆæµç¨‹çš„ä¸‹æ¸¸ï¼‰ã€‚é¢å‘å®¢æˆ·ï¼Œå’Œå®¢æˆ·å»ºç«‹å®Œå…¨çš„åˆä½œå…³ç³»ï¼Œæ•´åˆå®¢æˆ·ç»„ç»‡å’Œè‡ªèº«çš„å…³ç³»ï¼Œå°†è‡ªå·±çš„æœåŠ¡äº¤é€äºé¡¾å®¢ç»„ç»‡çš„æµç¨‹ã€‚ ä¾›åº”å•†ï¼ˆæµç¨‹çš„ä¸Šæ¸¸ï¼‰ã€‚æ¶ˆé™¤ä¼ä¸šå’Œä¾›åº”å•†ä¹‹é—´çš„ä¸€äº›ä¸å¿…è¦çš„å®˜åƒšæ‰‹ç»­ï¼Œå»ºç«‹ä¿¡ä»»å’Œä¼™ä¼´å…³ç³»ï¼Œæ•´åˆåŒæ–¹çš„æµç¨‹ã€‚###è‡ªåŠ¨åŒ–â€”â€”Automate###è¿ç”¨å…ˆè¿›çš„ä¿¡æ¯æŠ€æœ¯åŠ é€Ÿæµç¨‹è½¬ ï¼Œæé«˜æµç¨‹è¿è¡Œè´¨é‡ã€‚ å°†è„æ´»ã€ç´¯æ´»ä¸ä¹å‘³çš„å·¥ä½œï¼Œè¿›è¡Œè‡ªåŠ¨åŒ–ã€‚ æ•°æ®çš„é‡‡é›†ä¸ä¼ è¾“ã€‚å‡å°‘åå¤çš„æ•°æ®é‡‡é›†ï¼Œå¹¶é™ä½å•æ¬¡é‡‡é›†çš„æ—¶é—´ã€‚ æ•°æ®çš„åˆ†æã€‚é€šè¿‡åˆ†æè½¯ä»¶ï¼Œå¯¹æ•°æ®è¿›è¡Œæ”¶é›†ï¼Œæ•´ç†ä¸åˆ†æã€‚åŠ å¼ºå¯¹ä¿¡æ¯çš„åˆ©ç”¨ç‡ã€‚ å‚è€ƒæ–‡ç«  http://wiki.mbalib.com/wiki/%E6%88%98%E7%95%A5%E6%B5%81%E7%A8%8Bhttp://www.chinaacc.com/new/234_237_201104/15hu327116737.shtmlhttp://baike.baidu.com/view/686289.htmhttp://blog.sina.com.cn/s/blog_81c734650101a9pk.htmlhttp://wiki.mbalib.com/wiki/%E4%B8%9A%E5%8A%A1%E6%B5%81%E7%A8%8B%E7%AE%A1%E7%90%86http://wiki.mbalib.com/wiki/%E5%8F%98%E9%9D%A9%E7%AE%A1%E7%90%86http://wiki.mbalib.com/wiki/ESIA","categories":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}],"tags":[{"name":"å·¥ä½œæµ","slug":"å·¥ä½œæµ","permalink":"http://yoursite.com/tags/å·¥ä½œæµ/"}],"keywords":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}]},{"title":"çœ‹è§æœªæ¥è¯»ä¹¦æ‘˜è¦","slug":"80å®ƒå±±ä¹‹ç‰/çœ‹è§æœªæ¥è¯»ä¹¦ç¬”è®°","date":"2016-12-29T00:00:00.000Z","updated":"2018-12-10T15:26:05.263Z","comments":true,"path":"2016/12/29/80å®ƒå±±ä¹‹ç‰/çœ‹è§æœªæ¥è¯»ä¹¦ç¬”è®°/","link":"","permalink":"http://yoursite.com/2016/12/29/80å®ƒå±±ä¹‹ç‰/çœ‹è§æœªæ¥è¯»ä¹¦ç¬”è®°/","excerpt":"","text":"è§‚ç‚¹ç»æµå­¦çš„è§’åº¦ï¼Œç”Ÿäº§è¦ç´  åœ¨å‡¯æ–‡Â·å‡¯åˆ©çœ‹æ¥ï¼Œä¿¡æ¯ä¹ƒæ˜¯ä¸‡ç‰©çš„æ ¹æœ¬å‡¯æ–‡Â·å‡¯åˆ©è§‚ç‚¹ï¼Œ äº’è”ç½‘çš„å‘å±•ï¼Œæ›´åŠ å¥‘åˆç”Ÿå‘½è¿›åŒ–çš„ç‰¹ç‚¹ï¼Œå‘ˆç°å‡ºå»ä¸­å¿ƒåŒ–çš„ç‰¹å¾ï¼Œæ²¡æœ‰ä¸­å¤®æ§åˆ¶ï¼Œåˆ›æ–°æ€»åœ¨è¾¹ç¼˜å‘ç”Ÿã€‚æƒ³èµ·äº†ä¸€æœ¬ä¹¦ï¼Œã€ŠæŠ€æœ¯çš„æœ¬è´¨ã€‹ï¼Œé‡Œé¢ä¹Ÿè°ˆåˆ°äº†æŠ€æœ¯çš„è¿›åŒ–ã€‚ æ²Ÿé€šçš„é‡è¦æ€§ï¼Œ æ²Ÿé€šæ˜¯äººç±»ç”Ÿæ´»çš„æ ¸å¿ƒ æ›¼çº½å°”Â·å¡æ–¯ç‰¹å°”è®¤ä¸ºï¼Œæ²Ÿé€šæ˜¯äººç±»æœ€é‡è¦çš„æ´»åŠ¨ï¼Œæ˜¯ä¸ªäººç”Ÿæ´»ã€å•†ä¸šã€æ•™è‚²ã€å¨±ä¹å’Œä¸€åˆ‡çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯äººç±»ç”Ÿæ´»çš„æ ¸å¿ƒï¼Œæ­£æ˜¯æ²Ÿé€šæˆå°±äº†äººç±»ã€‚ æ²Ÿé€šèƒ½å¤Ÿè¿›è¡Œè¿›è¡Œå‡åï¼Œå½“è°ˆåˆ°æŸç§æ·±åº¦æ—¶ï¼Œå‘ç”Ÿæ€æƒ³çš„ç¢°æ’ï¼Œå°±ä¼šäº§ç”Ÿæ–°çš„æ€æƒ³ï¼Œè¿›è€Œäº§ç”Ÿåˆ›æ–°çš„å‘ç”Ÿã€‚ äº’è”ç½‘æ˜¯ä¸€ç§å¥½çš„æ²Ÿé€šæ‰‹æ®µï¼Œè®©äººé“¾æ¥çš„æ›´ä¸ºç´§å¯†ã€‚è€Œä¸”äº’è”ç½‘èƒ½å¤Ÿå’Œç‰©çš„é“¾æ¥ï¼Œäº§ç”Ÿè¿›ä¸€æ­¥çš„æƒ³è±¡ã€‚éšç€äº’è”ç½‘äº’è”æ²Ÿé€šï¼Œåƒç»†èƒçš„è¿›åŒ–ä¸€æ ·ï¼Œäº§ç”Ÿæ–°çš„ç”Ÿæ€ã€‚ ç¤¾äº¤ï¼Œé‡‘èï¼Œåªæ˜¯è¿™ä¸€è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æŸç§ç”Ÿæ€ã€‚å¹³è¡¡ç„¶ååœ¨æ‰“ç ´ã€‚ ä¸ªä½“çš„è´¡çŒ®ä¸ä»…é™äºå…¶æ‰€èƒ½æä¾›çš„ä»·å€¼ï¼Œè¿˜åŒ…æ‹¬äººä¸äººä¹‹é—´äº’åŠ¨æ‰€äº§ç”Ÿçš„åˆ›é€ åŠ›ã€‚è¿™ç§åˆ›é€ åŠ›å°±æ˜¯ç”Ÿäº§åŠ›çš„æºæ³‰ï¼Œè€Œç”Ÿäº§åŠ›åˆ™æ˜¯è´¢å¯Œçš„æºæ³‰ã€‚ï¼ˆè½¯è´¢å¯Œï¼ŒåŒ…å«äººçš„åˆ›æ„ç­‰ï¼‰ ç”Ÿäº§å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ è·å¾—çŸ¥è¯†çš„é€”å¾„ï¼Ÿ äº¤æµæ˜¯ä¸€ç§è·å¾—çŸ¥è¯†çš„é€”å¾„ï¼Œè€Œè¯»ä¹¦ä¹Ÿæ˜¯ã€‚éƒ½æ˜¯é€šè¿‡äº’è”å…¶ä»–çš„ä¸œè¥¿çš„å½¢å¼ï¼Œäº§ç”Ÿè¿›ä¸€æ­¥çš„å‡åã€‚è¯»ä¸‡å·ä¹¦ï¼Œè¡Œä¸‡é‡Œè·¯ï¼Œé˜…äººæ— æ•°ã€‚ä»è®¡ç®—æœºçš„è§’åº¦æ¥çœ‹ï¼Œäººä¸äººçš„åŒæ­¥äº¤æµï¼Œè€Œè¯»ä¹¦æ—¶æ˜¯äººä¸äººçš„å¼‚æ­¥äº¤æµã€‚æ€è€ƒæ˜¯è‡ªå·±å’Œè‡ªå·±çš„çŸ¥è¯†åº“ï¼Œè¿›è¡Œé“¾æ¥å­¦ä¹ ã€‚æ­¦ä¾ å¸¸æœ‰é—­å…³ä¹‹è¯´ã€‚ä¸»åŠ¨å­¦ä¹ ï¼Œæ·±åº¦å­¦ä¹ ï¼Ÿï¼Ÿ å®è·µåº”ç”¨è§‚å¿µè¦ä¹ˆè¡¨è¾¾å‡ºæ¥ï¼Œç›®çš„æ˜¯æœ‰ç”¨ã€‚ ##åˆ†äº«çš„å¿…è¦æ€§ï¼Ÿäº§ç”Ÿè¿›ä¸€æ­¥çš„çŸ¥è¯†ï¼Œæ²Ÿé€šå‡åã€‚å¯ä»¥è®©åˆ«äººæœç´¢ï¼Œè¿›è¡Œå¯è¿ªã€‚è”ç½‘çš„ç›®çš„ï¼Œä¸æ˜¯äº§ç”Ÿåƒåœ¾ï¼Œè€Œæ˜¯å½¢æˆæ™ºæ…§ç½‘ç»œã€‚ äº’è”ç½‘ä¸ºä½•èƒ½å¢åŠ äººä»¬çš„å¹¸ç¦æ„Ÿ ç›¸äº’åä½œã€ç›¸äº’åˆ†äº«ï¼Œä¿ƒè¿›ä¸ªäººçš„çŸ¥è¯†ã€åˆ›é€ çš„ä»·å€¼èƒ½åœ¨è¿™ä¸ªç½‘ç»œä¸­å®ç°ç¢°æ’ï¼Œå®ç°å¤šæ ·åŒ–ç»„åˆï¼Œè¿›è€Œå¤§å¹…åº¦æå‡çŸ¥è¯†çš„ä¸°å¯Œç¨‹åº¦ï¼Œæ¿€å‘åˆ›æ–°ï¼Œåˆ›é€ æ›´å¤§ã€æ›´æ–°çš„ä»·å€¼ã€‚è¿™æ‰æ˜¯ç½‘ç»œç²¾é«“æ‰€åœ¨ã€‚ æ€æ ·ä½¿ç”¨äº’è”ç½‘ï¼ŸæœåŠ¡ç½‘çš„è·¯ç”±å™¨ï¼Œè¿˜æ˜¯æ•°æ®ä»·å€¼äº§ç”Ÿå™¨ï¼Ÿäººéœ€è¦å­¦ä¼šæ‰¾çŸ¥è¯†ã€‚ æ–°å¥‡çš„è§‚ç‚¹ï¼šäº§å“ç»ç†ï¼Œæ˜¯ä¸æ˜¯éœ€è¦è¿›è¡Œæ’åˆ—ç»„åˆï¼Œç„¶åäº§ç”Ÿæ–°çš„ä»·å€¼ï¼Ÿ é“¾æ¥çš„ä¾‹å­ï¼šé©¬å…‹æ€ä¸»ä¹‰ï¼Œè€å­çš„å“²å­¦ï¼Œä¸­å›½çº ç»“äºæ˜¯åå¯¹å¤–æ¥çš„ä¸œè¥¿ï¼Œè°ˆè¥¿æ–¹çš„ç®¡ç†å’Œä¸œæ–¹çš„ç®¡ç†ã€‚å…¶å®éƒ½æ˜¯äº’ç›¸å­¦ä¹ çš„ç»“æœã€‚ä½•ä¸ºæ‰¹åˆ¤çš„ç»§æ‰¿ï¼Ÿ äº’è”ç½‘çš„é©±åŠ¨åŠ›æé«˜äººæœºäº¤äº’ä½“éªŒå…¶å®æ˜¯äº’è”ç½‘å‘å±•è¿›ç¨‹ä¸­éå¸¸å…³é”®çš„ä¸€æ¡ä¸»çº¿","categories":[{"name":"ä»–å±±ä¹‹çŸ³","slug":"ä»–å±±ä¹‹çŸ³","permalink":"http://yoursite.com/categories/ä»–å±±ä¹‹çŸ³/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://yoursite.com/tags/è¯»ä¹¦/"},{"name":"äº’è”ç½‘","slug":"äº’è”ç½‘","permalink":"http://yoursite.com/tags/äº’è”ç½‘/"}],"keywords":[{"name":"ä»–å±±ä¹‹çŸ³","slug":"ä»–å±±ä¹‹çŸ³","permalink":"http://yoursite.com/categories/ä»–å±±ä¹‹çŸ³/"}]},{"title":"å¿«é€Ÿæ£€æŸ¥LinuxæœåŠ¡å™¨æ€§èƒ½","slug":"13åŸºç¡€æŠ€æœ¯/linux/å¿«é€Ÿæ£€æŸ¥LinuxæœåŠ¡å™¨æ€§èƒ½","date":"2016-12-15T00:00:00.000Z","updated":"2018-05-27T09:06:00.059Z","comments":true,"path":"2016/12/15/13åŸºç¡€æŠ€æœ¯/linux/å¿«é€Ÿæ£€æŸ¥LinuxæœåŠ¡å™¨æ€§èƒ½/","link":"","permalink":"http://yoursite.com/2016/12/15/13åŸºç¡€æŠ€æœ¯/linux/å¿«é€Ÿæ£€æŸ¥LinuxæœåŠ¡å™¨æ€§èƒ½/","excerpt":"","text":"#sar é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥åœ¨1åˆ†é’Ÿå†…å¯¹ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µæœ‰ä¸ªå¤§è‡´çš„äº†è§£ã€‚ uptime å‚è€ƒdmesg | tailæ˜¾ç¤ºäº†æœ€æ–°çš„10ä¸ªç³»ç»Ÿä¿¡æ¯ Linux dmesgå‘½ä»¤ç”¨äºæ˜¾ç¤ºå¼€æœºä¿¡æ¯ã€‚kernelä¼šå°†å¼€æœºä¿¡æ¯å­˜å‚¨åœ¨ring bufferä¸­ã€‚æ‚¨è‹¥æ˜¯å¼€æœºæ—¶æ¥ä¸åŠæŸ¥çœ‹ä¿¡æ¯ï¼Œå¯åˆ©ç”¨dmesgæ¥æŸ¥çœ‹ã€‚å¼€æœºä¿¡æ¯äº¦ä¿å­˜åœ¨/var/logç›®å½•ä¸­ï¼Œåç§°ä¸ºdmesgçš„æ–‡ä»¶é‡Œã€‚ vmstat 1 å‚è€ƒ rï¼šç­‰å¾…CPUçš„è¿›ç¨‹æ•°ã€‚è¯¥æŒ‡æ ‡èƒ½æ›´å¥½åœ°åˆ¤å®šCPUæ˜¯å¦é¥±å’Œï¼Œå› ä¸ºå®ƒä¸åŒ…æ‹¬I/Oã€‚ç®€å•åœ°è¯´ï¼Œrå€¼é«˜äºCPUæ•°æ—¶å°±æ„å‘³ç€é¥±å’Œã€‚freeï¼šç©ºé—²çš„å†…å­˜åƒå­—èŠ‚æ•°ã€‚å¦‚æœä½ æ•°ä¸æ¸…æœ‰å¤šå°‘ä½ï¼Œå°±è¯´æ˜ç³»ç»Ÿå†…å­˜æ˜¯å……è¶³çš„ã€‚æ¥ä¸‹æ¥è¦è®²åˆ°çš„ç¬¬7ä¸ªå‘½ä»¤ï¼Œfree -mï¼Œèƒ½å¤Ÿæ›´æ¸…æ¥šåœ°è¯´æ˜ç©ºé—²å†…å­˜çš„çŠ¶æ€ã€‚siï¼Œsoï¼šSwap-inså’ŒSwap-outsã€‚å¦‚æœå®ƒä»¬ä¸ä¸ºé›¶ï¼Œæ„å‘³ç€å†…å­˜å·²ç»ä¸è¶³ï¼Œå¼€å§‹åŠ¨ç”¨äº¤æ¢ç©ºé—´ã€‚usï¼Œsyï¼Œidï¼Œwaï¼Œstï¼šå®ƒä»¬æ˜¯æ‰€æœ‰CPUçš„ä½¿ç”¨ç™¾åˆ†æ¯”ã€‚å®ƒä»¬åˆ†åˆ«è¡¨ç¤ºuser timeï¼Œsystem timeï¼ˆå¤„äºå†…æ ¸æ€çš„æ—¶é—´ï¼‰ï¼Œidleï¼Œwait I/Oå’Œsteal timeï¼ˆè¢«å…¶å®ƒç§Ÿæˆ·ï¼Œæˆ–è€…æ˜¯ç§Ÿæˆ·è‡ªå·±çš„Xenéš”ç¦»è®¾å¤‡é©±åŠ¨åŸŸï¼ˆisolated driver domainï¼‰ï¼Œæ‰€å ç”¨çš„æ—¶é—´ï¼‰ã€‚ç›¸åŠ uså’Œsyçš„ç™¾åˆ†æ¯”ï¼Œä½ å¯ä»¥ç¡®å®šCPUæ˜¯å¦å¤„äºå¿™ç¢ŒçŠ¶æ€ã€‚ä¸€ä¸ªæŒç»­ä¸å˜çš„wait I/Oæ„å‘³ç€ç“¶é¢ˆåœ¨ç¡¬ç›˜ä¸Šï¼Œè¿™ç§æƒ…å†µå¾€å¾€ä¼´éšç€CPUçš„ç©ºé—²ã€‚ mpstat -P ALL 1å‚è€ƒ æ£€æŸ¥CPUæ˜¯å¦å­˜åœ¨è´Ÿè½½ä¸å‡è¡¡ pidstat 1å‚è€ƒ %CPUåˆ—æ˜¯åœ¨å„ä¸ªCPUä¸Šçš„ä½¿ç”¨é‡çš„æ€»å’Œï¼› iostat -xz 1å‚è€ƒfree -må‚è€ƒsar -n DEV 1å‚è€ƒsar -n TCP,ETCP 1å‚è€ƒtopå‚è€ƒ Ctrl-sæš‚åœï¼ŒCtrl-qç»§ç»­ å‚è€ƒhttp://www.techug.com/linux-performance-analysis-first-60-second","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"perfä½¿ç”¨æŒ‡å—","slug":"13åŸºç¡€æŠ€æœ¯/linux/perfä½¿ç”¨æŒ‡å—","date":"2016-12-11T00:00:00.000Z","updated":"2018-05-27T09:06:00.056Z","comments":true,"path":"2016/12/11/13åŸºç¡€æŠ€æœ¯/linux/perfä½¿ç”¨æŒ‡å—/","link":"","permalink":"http://yoursite.com/2016/12/11/13åŸºç¡€æŠ€æœ¯/linux/perfä½¿ç”¨æŒ‡å—/","excerpt":"","text":"åŸºæœ¬ä½¿ç”¨å®‰è£… apt install linux-tools-commonapt install linux-tools-4.4.0-47-generic æµ‹è¯• perf listæ˜¾ç¤ºå¯é‡‡æ ·çš„äº‹ä»¶ã€‚å¦‚æœèƒ½å¤Ÿæ˜¾ç¤ºï¼Œè¡¨ç¤ºå®‰è£…æˆåŠŸã€‚ perf list miss è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ perfçš„è¿è¡ŒåŸç†æ€§èƒ½è°ƒä¼˜å·¥å…·å¦‚ perfï¼ŒOprofile ç­‰çš„åŸºæœ¬åŸç†éƒ½æ˜¯å¯¹è¢«ç›‘æµ‹å¯¹è±¡è¿›è¡Œé‡‡æ ·ï¼Œæœ€ç®€å•çš„æƒ…å½¢æ˜¯æ ¹æ® tick ä¸­æ–­è¿›è¡Œé‡‡æ ·ï¼Œå³åœ¨ tick ä¸­æ–­å†…è§¦å‘é‡‡æ ·ç‚¹ï¼Œåœ¨é‡‡æ ·ç‚¹é‡Œåˆ¤æ–­ç¨‹åºå½“æ—¶çš„ä¸Šä¸‹æ–‡ã€‚å‡å¦‚ä¸€ä¸ªç¨‹åº 90% çš„æ—¶é—´éƒ½èŠ±è´¹åœ¨å‡½æ•° foo() ä¸Šï¼Œé‚£ä¹ˆ 90% çš„é‡‡æ ·ç‚¹éƒ½åº”è¯¥è½åœ¨å‡½æ•° foo() çš„ä¸Šä¸‹æ–‡ä¸­ã€‚ æ”¹å˜é‡‡æ ·çš„è§¦å‘æ¡ä»¶ä½¿å¾—æˆ‘ä»¬å¯ä»¥è·å¾—ä¸åŒçš„ç»Ÿè®¡æ•°æ®ï¼š ä»¥æ—¶é—´ç‚¹ ( å¦‚ tick) ä½œä¸ºäº‹ä»¶è§¦å‘é‡‡æ ·ä¾¿å¯ä»¥è·çŸ¥ç¨‹åºè¿è¡Œæ—¶é—´çš„åˆ†å¸ƒã€‚ ä»¥ cache miss äº‹ä»¶è§¦å‘é‡‡æ ·ä¾¿å¯ä»¥çŸ¥é“ cache miss çš„åˆ†å¸ƒï¼Œå³ cache å¤±æ•ˆç»å¸¸å‘ç”Ÿåœ¨å“ªäº›ç¨‹åºä»£ç ä¸­ã€‚å¦‚æ­¤ç­‰ç­‰ã€‚ perf äº‹ä»¶ä½¿ç”¨ perf list å‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€æœ‰èƒ½å¤Ÿè§¦å‘ perf é‡‡æ ·ç‚¹çš„äº‹ä»¶ã€‚ äº‹ä»¶åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ï¼šHardware Event æ˜¯ç”± PMU ç¡¬ä»¶äº§ç”Ÿçš„äº‹ä»¶ï¼Œæ¯”å¦‚ cache å‘½ä¸­ï¼Œå½“æ‚¨éœ€è¦äº†è§£ç¨‹åºå¯¹ç¡¬ä»¶ç‰¹æ€§çš„ä½¿ç”¨æƒ…å†µæ—¶ï¼Œä¾¿éœ€è¦å¯¹è¿™äº›äº‹ä»¶è¿›è¡Œé‡‡æ ·ï¼›Software Event æ˜¯å†…æ ¸è½¯ä»¶äº§ç”Ÿçš„äº‹ä»¶ï¼Œæ¯”å¦‚è¿›ç¨‹åˆ‡æ¢ï¼Œtick æ•°ç­‰ ;Tracepoint event æ˜¯å†…æ ¸ä¸­çš„é™æ€ tracepoint æ‰€è§¦å‘çš„äº‹ä»¶ï¼Œè¿™äº› tracepoint ç”¨æ¥åˆ¤æ–­ç¨‹åºè¿è¡ŒæœŸé—´å†…æ ¸çš„è¡Œä¸ºç»†èŠ‚ï¼Œæ¯”å¦‚ slab åˆ†é…å™¨çš„åˆ†é…æ¬¡æ•°ç­‰ã€‚ ç”¨æ³•Perf statperf stat ls æ˜¾ç¤ºå¦‚ä¸‹ï¼š 1234567891011121314Performance counter stats for &apos;ls&apos;: 0.776039 task-clock (msec) # 0.697 CPUs utilized 0 context-switches # 0.000 K/sec 0 cpu-migrations # 0.000 K/sec 92 page-faults # 0.119 M/sec &lt;not supported&gt; cycles &lt;not supported&gt; stalled-cycles-frontend &lt;not supported&gt; stalled-cycles-backend &lt;not supported&gt; instructions &lt;not supported&gt; branches &lt;not supported&gt; branch-misses 0.001113814 seconds time elapsed å‡ ä¸ªç»Ÿè®¡å€¼çš„å«ä¹‰åˆ†åˆ«å¦‚ä¸‹ï¼š task-clock (msec)ï¼šCPUåˆ©ç”¨ç‡ï¼Œè¯¥å€¼è¶Šé«˜ï¼Œè¯´æ˜èŠ±è´¹è¶Šå¤šæ—¶é—´åœ¨CPUè®¡ç®—ä¸Šè€Œéå…¶å®ƒï¼ˆæ¯”å¦‚I/Oï¼‰ï¼›æ‰§è¡Œæ—¶é—´ä¸º0.776039æ¯«ç§’ï¼Œè€Œé€šè¿‡æœ€åä¸€è¡ŒçŸ¥é“ç¨‹åºæ•´ä¸ªæ‰§è¡Œæ—¶é—´ä¸º0.001113814ç§’ï¼Œæ‰€ä»¥ç™¾åˆ†æ¯”ä¸º0.776039/1.113814=0.697ã€‚ context-switchesï¼šè®°å½•ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„è¿›ç¨‹åˆ‡æ¢æ¬¡æ•°ï¼Œåº”è¯¥é¿å…é¢‘ç¹çš„è¿›ç¨‹åˆ‡æ¢ï¼›è¿™é‡Œä¸º0æ¬¡ã€‚ CPU-migrationsï¼šè®°å½•ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„CPUè¿ç§»æ¬¡æ•°ï¼Œå³è¢«è°ƒåº¦å™¨ä»ä¸€ä¸ªCPUè½¬ç§»åˆ°å¦å¤–ä¸€ä¸ª CPUä¸Šè¿è¡Œï¼›è¿™é‡Œä¸º0æ¬¡ã€‚ page-faultsï¼šè®°å½•ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„ç¼ºé¡µä¸­æ–­æ¬¡æ•°ã€‚ cyclesï¼šè®°å½•æ‰§è¡Œç¨‹åºæ‰€å‘è´¹çš„å¤„ç†å™¨å‘¨æœŸæ•°ã€‚instructionsï¼šè®°å½•æ‰§è¡Œç¨‹åºæ‰€å‘è´¹çš„æŒ‡ä»¤æ•°ã€‚branchesï¼šè®°å½•ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„åˆ†æ”¯æŒ‡ä»¤æ•°ã€‚branch-missesï¼šè®°å½•ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„åˆ†æ”¯é¢„æµ‹å¤±è´¥æ¬¡æ•°ã€‚cache-referencesï¼šè®°å½•ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„cacheå‘½ä¸­æ¬¡æ•°ã€‚cache-missesï¼šè®°å½•ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„cacheå¤±æ•ˆæ¬¡æ•°ã€‚ ç»Ÿè®¡è¯¥åº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´ç©¶ç«Ÿå‘ç”Ÿäº†å¤šå°‘æ¬¡ç³»ç»Ÿè°ƒç”¨ã€‚åœ¨å“ªé‡Œå‘ç”Ÿçš„ï¼Ÿperf stat -e raw_syscalls:sys_enter ls å¯¹æ•´ä¸ªç³»ç»Ÿç›´æ¥è¿›è¡Œé‡‡æ ·ä½¿ç”¨ perf stat çš„æ—¶å€™ï¼Œå¾€å¾€æ‚¨å·²ç»æœ‰ä¸€ä¸ªè°ƒä¼˜çš„ç›®æ ‡ã€‚å¦‚æœåªæ˜¯å‘ç°ç³»ç»Ÿæ€§èƒ½æ— ç«¯ä¸‹é™ï¼Œå¹¶ä¸æ¸…æ¥šç©¶ç«Ÿå“ªä¸ªè¿›ç¨‹å¯ä»¥ä½¿ç”¨perf top å®æ—¶æ˜¾ç¤ºå½“å‰ç³»ç»Ÿçš„æ€§èƒ½ç»Ÿè®¡ä¿¡æ¯ã€‚ é€šè¿‡-eæŒ‡å®šå…³æ³¨çš„äº‹ä»¶ï¼Œæ¯”å¦‚å¦‚ä¸‹æŸ¥çœ‹é€ æˆcontext-switchesæœ€å¤šçš„å‡½æ•°æ’è¡Œperf top -e context-switches ç²¾ç¡®åˆ¶å¯¼â€”â€”å®šä½ç¨‹åºç“¶é¢ˆï¼Œä½¿ç”¨ perf recordæŸ¥æ‰¾æ—¶é—´ä¸Šçš„çƒ­ç‚¹å‡½æ•° perf record -e raw_syscalls:sys_enter ls perf report perf record -e writeback:* ls perf report gæŒ‰ç…§è°ƒç”¨å…³ç³»è¿›è¡Œæ˜¾ç¤ºçš„ç»Ÿè®¡ä¿¡æ¯ eæŒ‡å®šå…³æ³¨çš„äº‹ä»¶ã€‚ perf recordçš„å…¶ä»–å‚æ•°ï¼š -fï¼šå¼ºåˆ¶è¦†ç›–äº§ç”Ÿçš„.dataæ•°æ® -cï¼šäº‹ä»¶æ¯å‘ç”Ÿcountæ¬¡é‡‡æ ·ä¸€æ¬¡ -pï¼šæŒ‡å®šè¿›ç¨‹ -tï¼šæŒ‡å®šçº¿ç¨‹ å‚è€ƒhttps://www.ibm.com/developerworks/cn/linux/l-cn-perf1/http://www.blogjava.net/qileilove/archive/2013/09/04/403646.html","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"straceä½¿ç”¨æŒ‡å—","slug":"13åŸºç¡€æŠ€æœ¯/linux/straceä½¿ç”¨æŒ‡å—","date":"2016-12-11T00:00:00.000Z","updated":"2018-05-27T09:06:00.057Z","comments":true,"path":"2016/12/11/13åŸºç¡€æŠ€æœ¯/linux/straceä½¿ç”¨æŒ‡å—/","link":"","permalink":"http://yoursite.com/2016/12/11/13åŸºç¡€æŠ€æœ¯/linux/straceä½¿ç”¨æŒ‡å—/","excerpt":"","text":"åŸºæœ¬ä½¿ç”¨strace -c lsstrace cat /dev/null å‚æ•°è¯¦è§£ å‚æ•° æå™ -c ç»Ÿè®¡æ¯ä¸€ç³»ç»Ÿè°ƒç”¨çš„æ‰€æ‰§è¡Œçš„æ—¶é—´,æ¬¡æ•°å’Œå‡ºé”™çš„æ¬¡æ•°ç­‰. -d è¾“å‡ºstraceå…³äºæ ‡å‡†é”™è¯¯çš„è°ƒè¯•ä¿¡æ¯. -f è·Ÿè¸ªç”±forkè°ƒç”¨æ‰€äº§ç”Ÿçš„å­è¿›ç¨‹. -ff å¦‚æœæä¾›-o -F å°è¯•è·Ÿè¸ªvforkè°ƒç”¨.åœ¨-fæ—¶,vforkä¸è¢«è·Ÿè¸ª. -h è¾“å‡ºç®€è¦çš„å¸®åŠ©ä¿¡æ¯. -i è¾“å‡ºç³»ç»Ÿè°ƒç”¨çš„å…¥å£æŒ‡é’ˆ. -q ç¦æ­¢è¾“å‡ºå…³äºè„±ç¦»çš„æ¶ˆæ¯. -r æ‰“å°å‡ºç›¸å¯¹æ—¶é—´å…³äº,æ¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨. -t åœ¨è¾“å‡ºä¸­çš„æ¯ä¸€è¡Œå‰åŠ ä¸Šæ—¶é—´ä¿¡æ¯. -tt åœ¨è¾“å‡ºä¸­çš„æ¯ä¸€è¡Œå‰åŠ ä¸Šæ—¶é—´ä¿¡æ¯,å¾®ç§’çº§. -ttt å¾®ç§’çº§è¾“å‡º,ä»¥ç§’äº†è¡¨ç¤ºæ—¶é—´. -T æ˜¾ç¤ºæ¯ä¸€è°ƒç”¨æ‰€è€—çš„æ—¶é—´. -v è¾“å‡ºæ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨.ä¸€äº›è°ƒç”¨å…³äºç¯å¢ƒå˜é‡,çŠ¶æ€,è¾“å…¥è¾“å‡ºç­‰è°ƒç”¨ç”±äºä½¿ç”¨é¢‘ç¹,é»˜è®¤ä¸è¾“å‡º. -V è¾“å‡ºstraceçš„ç‰ˆæœ¬ä¿¡æ¯. -x ä»¥åå…­è¿›åˆ¶å½¢å¼è¾“å‡ºéæ ‡å‡†å­—ç¬¦ä¸² -xx æ‰€æœ‰å­—ç¬¦ä¸²ä»¥åå…­è¿›åˆ¶å½¢å¼è¾“å‡º. -a column è®¾ç½®è¿”å›å€¼çš„è¾“å‡ºä½ç½®.é»˜è®¤ä¸º40 -e expr æŒ‡å®šä¸€ä¸ªè¡¨è¾¾å¼,ç”¨æ¥æ§åˆ¶å¦‚ä½•è·Ÿè¸ª -o filename å°†straceçš„è¾“å‡ºå†™å…¥æ–‡ä»¶filename -p pidè·Ÿè¸ªæŒ‡å®šçš„è¿›ç¨‹pid. -s strsizeæŒ‡å®šè¾“å‡ºçš„å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦.é»˜è®¤ä¸º32.æ–‡ä»¶åä¸€ç›´å…¨éƒ¨è¾“å‡º. ä¸¾ä¾‹strace -o output.txt -c -e trace=all -p 988è¾“å‡ºå¦‚ä¸‹1234567% time seconds usecs/call calls errors syscall------ ----------- ----------- --------- --------- ----------------100.00 0.004000 4000 1 restart_syscall 0.00 0.000000 0 1 accept 0.00 0.000000 0 2 futex------ ----------- ----------- --------- --------- ----------------100.00 0.004000 4 total time:æ˜¾ç¤ºç³»ç»ŸcpuèŠ±åœ¨å“ªé‡Œçš„ç™¾åˆ†æ¯”usecs/call: æ¯æ¬¡è°ƒç”¨çš„æ¬¡æ•°å¹³å‡ç³»ç»Ÿcpuæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰calls:ç³»ç»Ÿè°ƒç”¨æ¬¡æ•° è·Ÿè¸ªè¿›ç¨‹çš„æ‰€æœ‰ç³»ç»Ÿè°ƒç”¨ï¼ˆ-e trace=allï¼‰ï¼Œ-c ç”¨äºç³»ç»Ÿè°ƒç”¨æ´»åŠ¨çš„ç»Ÿè®¡æ€»ç»“ã€‚ eç”¨æ¥æ§åˆ¶å±•ç¤ºç‰¹å®šçš„ç³»ç»Ÿè°ƒç”¨,å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‚æ•°-e trace=open,close,rean,writeè¡¨ç¤ºåªè·Ÿè¸ªè¿™å››ä¸ªç³»ç»Ÿè°ƒç”¨-e trace=fileåªè·Ÿè¸ªæœ‰å…³æ–‡ä»¶æ“ä½œçš„ç³»ç»Ÿè°ƒç”¨.-e trace=processåªè·Ÿè¸ªæœ‰å…³è¿›ç¨‹æ§åˆ¶çš„ç³»ç»Ÿè°ƒç”¨.-e trace=networkè·Ÿè¸ªä¸ç½‘ç»œæœ‰å…³çš„æ‰€æœ‰ç³»ç»Ÿè°ƒç”¨.-e strace=signalè·Ÿè¸ªæ‰€æœ‰ä¸ç³»ç»Ÿä¿¡å·æœ‰å…³çš„ ç³»ç»Ÿè°ƒç”¨-e trace=ipcè·Ÿè¸ªæ‰€æœ‰ä¸è¿›ç¨‹é€šè®¯æœ‰å…³çš„ç³»ç»Ÿè°ƒç”¨-e trace=all æ‰€æœ‰ç³»ç»Ÿè°ƒç”¨ å…³äºç³»ç»Ÿè°ƒç”¨çš„åç§°å¯ä»¥å‚è€ƒå¸¸ç”¨ç³»ç»Ÿè°ƒç”¨ strace -o output.txt -T -tt -e trace=all -p 988è·Ÿè¸ªè¿›ç¨‹çš„æ‰€æœ‰ç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶ç»Ÿè®¡ç³»ç»Ÿè°ƒç”¨çš„èŠ±è´¹æ—¶é—´ï¼Œä»¥åŠå¼€å§‹æ—¶é—´ï¼ˆå¹¶ä»¥å¯è§†åŒ–çš„æ—¶åˆ†ç§’æ ¼å¼æ˜¾ç¤ºï¼‰ï¼Œæœ€åå°†è®°å½•ç»“æœå­˜åœ¨output.txtæ–‡ä»¶é‡Œé¢","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"linuxä¸­ä¸ç½‘ç»œç›¸å…³çš„å‘½ä»¤","slug":"13åŸºç¡€æŠ€æœ¯/linux/å¸¸ç”¨ç½‘ç»œå‘½ä»¤æ±‡æ€»","date":"2016-12-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.059Z","comments":true,"path":"2016/12/06/13åŸºç¡€æŠ€æœ¯/linux/å¸¸ç”¨ç½‘ç»œå‘½ä»¤æ±‡æ€»/","link":"","permalink":"http://yoursite.com/2016/12/06/13åŸºç¡€æŠ€æœ¯/linux/å¸¸ç”¨ç½‘ç»œå‘½ä»¤æ±‡æ€»/","excerpt":"","text":"#linuxç½‘ç»œå‘½ä»¤æ±‡æ€» ifconfigifconfigç”¨äºè¾“å‡ºç½‘ç»œæ¥å£é…ç½®ã€è°ƒä¼˜å’Œdebugçš„å„ç§é€‰é¡¹ã€‚å¯ä»¥å¿«æ·åœ°æŸ¥çœ‹IPåœ°å€å’Œå…¶å®ƒç½‘ç»œæ¥å£çš„ä¿¡æ¯ã€‚é”®å…¥ifconfigæŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ç½‘ç»œæ¥å£çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„åå­—ã€‚å¯ä»¥æŒ‡å®šç½‘ç»œæ¥å£çš„åå­—æ¥åªæ˜¾ç¤ºè¿™ä¸€ä¸ªæ¥å£çš„ä¿¡æ¯ã€‚ åŸºæœ¬ç”¨æ³•ifconfigifconfig eth0 1234567891011121314151617enp0s5 Link encap:Ethernet HWaddr 00:1c:42:4b:cf:a2 inet addr:10.5.20.17 Bcast:10.5.20.63 Mask:255.255.255.192 inet6 addr: fe80::3d36:c06:4ec7:1e97/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:555955 errors:0 dropped:267 overruns:0 frame:0 TX packets:157098 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:400812890 (400.8 MB) TX bytes:12261729 (12.2 MB)lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 inet6 addr: ::1/128 Scope:Host UP LOOPBACK RUNNING MTU:65536 Metric:1 RX packets:3418 errors:0 dropped:0 overruns:0 frame:0 TX packets:3418 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1 RX bytes:243353 (243.3 KB) TX bytes:243353 (243.3 KB) eth0 è¡¨ç¤ºç¬¬ä¸€å—ç½‘å¡ï¼Œ å…¶ä¸­ HWaddr è¡¨ç¤ºç½‘å¡çš„ç‰©ç†åœ°å€ï¼Œ inet addr ç”¨æ¥è¡¨ç¤ºç½‘å¡çš„IPåœ°å€ï¼Œå¹¿æ’­åœ°å€Bcast:10.5.20.63 æ©ç åœ°å€Mask:255.255.255.192 lo æ˜¯è¡¨ç¤ºä¸»æœºçš„å›ååœ°å€ï¼Œè¿™ä¸ªä¸€èˆ¬æ˜¯ç”¨æ¥æµ‹è¯•ä¸€ä¸ªç½‘ç»œç¨‹åºï¼Œä½†åˆä¸æƒ³è®©å±€åŸŸç½‘æˆ–å¤–ç½‘çš„ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹ï¼Œåªèƒ½åœ¨æ­¤å°ä¸»æœºä¸Šè¿è¡Œå’ŒæŸ¥çœ‹æ‰€ç”¨çš„ç½‘ç»œæ¥å£ã€‚ ç¬¬ä¸€è¡Œï¼šè¿æ¥ç±»å‹ï¼šEthernetï¼ˆä»¥å¤ªç½‘ï¼‰HWaddrï¼ˆç¡¬ä»¶macåœ°å€ï¼‰ç¬¬äºŒè¡Œï¼šç½‘å¡çš„IPåœ°å€ã€å­ç½‘ã€æ©ç ç¬¬ä¸‰è¡Œï¼šUPï¼ˆä»£è¡¨ç½‘å¡å¼€å¯çŠ¶æ€ï¼‰RUNNINGï¼ˆä»£è¡¨ç½‘å¡çš„ç½‘çº¿è¢«æ¥ä¸Šï¼‰MULTICASTï¼ˆæ”¯æŒç»„æ’­ï¼‰MTU:1500ï¼ˆæœ€å¤§ä¼ è¾“å•å…ƒï¼‰ï¼š1500å­—èŠ‚ç¬¬å››ã€äº”è¡Œï¼šæ¥æ”¶ã€å‘é€æ•°æ®åŒ…æƒ…å†µç»Ÿè®¡ç¬¬ä¸ƒè¡Œï¼šæ¥æ”¶ã€å‘é€æ•°æ®å­—èŠ‚æ•°ç»Ÿè®¡ä¿¡æ¯ã€‚ é…ç½®IPåœ°å€ifconfig eth0 192.168.1.10 netmask 255.255.255.0 upifconfig eth0 192.168.120.56ifconfig eth0 192.168.120.56 netmask 255.255.255.0 ç½‘å¡ç»‘å®šå¤šIPifconfig eth0:1 192.168.1.99 netmask 255.255.255.0 traceroutetracerouteå‘½ä»¤æ˜¾ç¤ºæ•°æ®åŒ…åˆ°è¾¾ç›®çš„ä¸»æœºæ‰€ç»è¿‡çš„è·¯ç”± traceroute www.baidu.com routeæŸ¥çœ‹è·¯ç”±è¡¨route -næˆ–è€…netstat -rn æ·»åŠ é»˜è®¤çš„ç½‘å…³route add default gw 10.0.0.254ç›¸å½“æœ‰route add -net 0.0.0.0 netmask 0.0.0.0 gw 10.0.0.254 ##pingä½¿ç”¨ping å‘½ä»¤æ¥æµ‹è¯•ç½‘ç»œçš„è¿é€šæ€§pingå‘é€ECHO_REQUESTåŒ…åˆ°ä½ æŒ‡å®šçš„åœ°å€ï¼Œä½¿ç”¨ -c å¼€å…³ï¼Œå¯ä»¥æŒ‡å®šå‘é€ECHO_REQUESTåŒ…çš„ä¸ªæ•°ã€‚ping 192.168.1.10ping -c 4 baidu.com ##arp å¯ä»¥ä½¿ç”¨arpå‘½ä»¤æ¥é…ç½®å¹¶æŸ¥çœ‹arpç¼“å­˜ hosthostå‘½ä»¤ç”¨æ¥åšDNSæŸ¥è¯¢ã€‚å¦‚æœå‘½ä»¤å‚æ•°æ˜¯åŸŸåï¼Œå‘½ä»¤ä¼šè¾“å‡ºå…³è”çš„IPï¼›å¦‚æœå‘½ä»¤å‚æ•°æ˜¯IPï¼Œå‘½ä»¤åˆ™è¾“å‡ºå…³è”çš„åŸŸåã€‚ host www.baidu.com nslookupnslookup ç”¨è¿™ä¸ªå‘½ä»¤æ¥æ˜¾ç¤ºä¸»æœºåï¼Œå¯ä»¥æ‰¾åˆ°ç»™å®šåŸŸåçš„æ‰€æœ‰ipåœ°å€ã€‚ nslookup www.baidu.comä¼šæ˜¾ç¤ºå¦‚ä¸‹ï¼š 12345www.baidu.com canonical name = www.a.shifen.com.Name: www.a.shifen.comAddress: 115.239.211.112Name: www.a.shifen.comAddress: 115.239.210.27 hostnamehostname æ²¡æœ‰é€‰é¡¹ï¼Œæ˜¾ç¤ºä¸»æœºåå­— hostname â€“d æ˜¾ç¤ºæœºå™¨æ‰€å±åŸŸåhostname â€“f æ˜¾ç¤ºå®Œæ•´çš„ä¸»æœºåå’ŒåŸŸåhostname â€“i æ˜¾ç¤ºå½“å‰æœºå™¨çš„ipåœ°å€ whoiswhoiså‘½ä»¤è¾“å‡ºæŒ‡å®šç«™ç‚¹çš„whoisè®°å½•ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°æ›´å¤šå¦‚è°æ³¨å†Œå’ŒæŒæœ‰è¿™ä¸ªç«™ç‚¹è¿™æ ·çš„ä¿¡æ¯ã€‚åŸŸåäººçš„è”ç³»æ–¹å¼ä¹Ÿèƒ½æŸ¥åˆ° whois www.baidu.com æ²¡æœ‰å®‰è£…éœ€è¦sudo apt install whois sarç½‘ç»œæŸ¥çœ‹sar -n DEV 1 1 å‚è€ƒhttp://blog.csdn.net/u013281361/article/details/52021993http://www.cnblogs.com/lpfuture/p/5857738.htmlLinux ifconfigå‘½ä»¤è¯¦è§£ http://blog.hehehehehe.cn/a/17571.htmhttp://www.2cto.com/os/201303/196496.html","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"å¦‚ä½•é¢„ä¼°ç³»ç»Ÿå®¹é‡?","slug":"21ç³»ç»Ÿè®¾è®¡/ç³»ç»Ÿå®¹é‡é¢„ä¼°","date":"2016-11-10T00:00:00.000Z","updated":"2018-12-10T17:02:27.634Z","comments":true,"path":"2016/11/10/21ç³»ç»Ÿè®¾è®¡/ç³»ç»Ÿå®¹é‡é¢„ä¼°/","link":"","permalink":"http://yoursite.com/2016/11/10/21ç³»ç»Ÿè®¾è®¡/ç³»ç»Ÿå®¹é‡é¢„ä¼°/","excerpt":"","text":"èƒŒæ™¯éšç€ä¸šåŠ¡çš„å¿«é€Ÿæˆé•¿ï¼Œæ—¥è®¿é—®é‡è¶Šæ¥è¶Šé«˜ï¼Œé™¤äº†å¯¹åŠŸèƒ½è¦æ±‚å¾ˆé«˜ä»¥å¤–ï¼Œå¯¹æ€§èƒ½è¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ã€‚é‚£é—®é¢˜ä¹Ÿæ¥äº†ï¼Œæ€ä¹ˆçŸ¥é“æœºå™¨å¤Ÿä¸å¤Ÿç”¨ï¼Ÿå¦‚æœä¸å¤Ÿï¼Œéœ€è¦å¤šå°‘å°æ»¡è¶³è¦æ±‚ï¼Ÿæˆ–è€…è¿è¥éœ€è¦åœ¨åŒ11åšä¸ªä¿ƒé”€ï¼ŒæœåŠ¡å™¨èƒ½æŠ—ä½ä¹ˆï¼Ÿå¦‚æœæ‰›ä¸ä½ï¼Œéœ€è¦åŠ å¤šå°‘å°ï¼Ÿç½‘ç»œå¸¦å®½å¤Ÿä¸å¤Ÿç”¨ï¼Ÿè¿™äº›éƒ½æ˜¯ç³»ç»Ÿå®¹é‡é¢„ä¼°éœ€è¦å›ç­”çš„é—®é¢˜ã€‚ æ€ä¹ˆè¿›è¡Œé¢„ä¼°ï¼Ÿå¯ä»¥éµå¾ªå¦‚ä¸‹æ­¥éª¤ é¢„ä¼°ç½‘ç«™æµé‡ï¼ˆPVï¼‰ç½‘ç«™æµé‡æ˜¯æŒ‡ç½‘ç«™çš„è®¿é—®é‡ï¼Œç”¨æ¥æè¿°è®¿é—®ç½‘ç«™çš„ç”¨æˆ·æ•°é‡ä»¥åŠç”¨æˆ·æ‰€æµè§ˆçš„ç½‘é¡µæ•°é‡ç­‰æŒ‡æ ‡ï¼Œå¸¸ç”¨çš„ç»Ÿè®¡æŒ‡æ ‡åŒ…æ‹¬ç½‘ç«™çš„ç‹¬ç«‹ç”¨æˆ·æ•°é‡ã€æ€»ç”¨æˆ·æ•°é‡ï¼ˆå«é‡å¤è®¿é—®è€…ï¼‰ã€ç½‘é¡µæµè§ˆæ•°é‡ã€æ¯ä¸ªç”¨æˆ·çš„é¡µé¢æµè§ˆæ•°é‡ã€ç”¨æˆ·åœ¨ç½‘ç«™çš„å¹³å‡åœç•™æ—¶é—´ç­‰ã€‚ ç½‘ç«™è®¿é—®é‡çš„å¸¸ç”¨è¡¡é‡æ ‡å‡†ï¼šç‹¬ç«‹è®¿å®¢(UV) å’Œ ç»¼åˆæµè§ˆé‡ï¼ˆPVï¼‰,ä¸€èˆ¬ä»¥æ—¥ä¸ºå•ä½æ¥è¡¡é‡å’Œè®¡ç®—ã€‚ PVï¼š ä¸€å®šæ—¶é—´èŒƒå›´å†…é¡µé¢æµè§ˆé‡æˆ–ç‚¹å‡»é‡ï¼Œç”¨æˆ·æ¯æ¬¡åˆ·æ–°å³è¢«è®¡ç®—ä¸€æ¬¡UVï¼šæŒ‡ä¸€å®šæ—¶é—´èŒƒå›´å†…ç›¸åŒè®¿å®¢å¤šæ¬¡è®¿é—®ç½‘ç«™ï¼Œåªè®¡ç®—ä¸º1ä¸ªç‹¬ç«‹è®¿å®¢ é¢„ä¼°å¹³å‡QPSä»€ä¹ˆæ˜¯TPS?Tpså³æ¯ç§’å¤„ç†äº‹åŠ¡æ•°ï¼ŒåŒ…æ‹¬äº†ç”¨æˆ·è¯·æ±‚æœåŠ¡å™¨/æœåŠ¡å™¨è‡ªå·±çš„å†…éƒ¨å¤„ç†/æœåŠ¡å™¨è¿”å›ç»™ç”¨æˆ·.è¿™ä¸‰ä¸ªè¿‡ç¨‹ï¼Œæ¯ç§’èƒ½å¤Ÿå®ŒæˆNä¸ªè¿™ä¸‰ä¸ªè¿‡ç¨‹ï¼ŒTpsä¹Ÿå°±æ˜¯3ï¼› ä»€ä¹ˆQPSQpsåŸºæœ¬ç±»ä¼¼äºTpsï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼Œå¯¹äºä¸€ä¸ªé¡µé¢çš„ä¸€æ¬¡è®¿é—®ï¼Œå½¢æˆä¸€ä¸ªTpsï¼›ä½†ä¸€æ¬¡é¡µé¢è¯·æ±‚ï¼Œå¯èƒ½äº§ç”Ÿå¤šæ¬¡å¯¹æœåŠ¡å™¨çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯¹è¿™äº›è¯·æ±‚ï¼Œå°±å¯è®¡å…¥â€œQpsâ€ä¹‹ä¸­ä¾‹å¦‚è®¿é—®ä¸€ä¸ªé¡µé¢ä¼šè¯·æ±‚æœåŠ¡å™¨3æ¬¡ï¼Œäº§ç”Ÿ3ä¸ªQPS QPS = req/sec = è¯·æ±‚æ•°/ç§’ è®¡ç®—å¹³å‡QPSæ€»è¯·æ±‚æ•° = æ€»PV * é¡µé¢è¡ç”Ÿè¿æ¥æ•° å¹³å‡QPS = æ€»è¯·æ±‚æ•° / æ€»æ—¶é—´ æ¯”å¦‚ï¼šé¡µé¢1å°æ—¶å†…çš„æ€»è®¿é—®é‡æ˜¯30w pvï¼Œè¡ç”Ÿè¿æ¥æ•°ä¸º30 ,é‚£ä¹ˆå¹³å‡QPSçš„è®¡ç®—å¦‚ä¸‹ï¼š å¹³å‡QPS ï¼ (30w * 30) /(60*60) = 2500 é¢„ä¼°å³°å€¼QPSä¸€èˆ¬æƒ…å†µï¼Œå³°å€¼QPSå¤§æ¦‚æ˜¯å‡å€¼QPSçš„3-5å€ï¼Œæ—¥å‡QPSä¸º1000ï¼Œäºæ˜¯è¯„ä¼°å‡ºå³°å€¼QPSä¸º1000*5 ï¼ 5000å…·ä½“æƒ…å†µéœ€è¦ä¸šåŠ¡æ¥å®šã€‚ è®¡ç®—æœåŠ¡å™¨çš„æé™QPSé€šè¿‡å‹åŠ›æµ‹è¯•ï¼Œç®—å‡ºæœåŠ¡å™¨çš„å•æœºæé™QPSã€‚ä¸€èˆ¬çš„å‹åŠ›æµ‹è¯•è½¯ä»¶éƒ½èƒ½å¾—åˆ°è¿™ä¸ªå€¼ã€‚è€ƒè™‘åˆ°å¯¿å‘½å’Œæ€§èƒ½ï¼Œå•æœºçº¿ä¸Šå…è®¸è·‘åˆ°QPSä¸ºï¼ˆæé™QPSï¼Š0.8) è®¡ç®—éœ€è¦çš„æœºå™¨éœ€è¦çš„æœºå™¨ = å³°å€¼QPS / å•æœºæé™ QPSå‡è®¾å³°å€¼QPSæ˜¯5000ï¼Œå•æœºæé™QPSæ˜¯1000ï¼Œçº¿ä¸Šéƒ¨ç½²äº†3å°æœåŠ¡å™¨ã€‚ç†è®ºéœ€è¦5å°ã€‚é€šä¸ªæ°´å¹³æ‰©å±•ï¼Œéœ€è¦å†åŠ ä¸Š2å°å¯ä»¥æ»¡è¶³è¦æ±‚ã€‚ ##æ€ä¹ˆè®¡ç®—å¸¦å®½ï¼Ÿ ç½‘ç«™å¸¦å®½= ï¼ˆPV / ç»Ÿè®¡æ—¶é—´ï¼ˆå•ä½Sï¼‰ï¼‰*å¹³å‡é¡µé¢å¤§å°ï¼ˆå•ä½KBï¼‰* 8 å­—èŠ‚çš„å•ä½æ˜¯Byteï¼Œè€Œå¸¦å®½çš„å•ä½æ˜¯bitï¼Œ1Byte=8bit,æ‰€ä»¥è½¬æ¢ä¸ºå¸¦å®½çš„æ—¶å€™ï¼Œè¦ä¹˜ä»¥ 8 å‡è®¾ç½‘ç«™çš„å¹³å‡æ—¥PVï¼š10w çš„è®¿é—®é‡ï¼Œé¡µé¢å¹³å‡å¤§å°0.4 M ã€‚ç½‘ç«™å¸¦å®½ = ï¼ˆ10w / ï¼ˆ24 * 60 * 60ï¼‰ï¼‰* 0.4M * 8 =3.7 Mbps åœ¨å®é™…çš„ç½‘ç«™è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„ç½‘ç«™å¿…é¡»è¦åœ¨å³°å€¼æµé‡æ—¶ä¿æŒæ­£å¸¸çš„è®¿é—®ï¼Œå‡è®¾ï¼Œå³°å€¼æµé‡æ˜¯å¹³å‡æµé‡çš„5å€ï¼ŒæŒ‰ç…§è¿™ä¸ªè®¡ç®—ï¼Œå®é™…éœ€è¦çš„å¸¦å®½å¤§çº¦åœ¨ 3.7 Mbps * 5=18.5 Mbps ã€‚ é€šè¿‡å‹åŠ›æµ‹è¯•QPSï¼Œå¾—åˆ°ç½‘ç«™æ”¯æŒçš„pv`å¹³å‡QPS = ï¼ˆæ€»PV * é¡µé¢è¡ç”Ÿè¿æ¥æ•°ï¼‰ / æ€»æ—¶é—´ ä¸€å°æœºå™¨`æ¯å¤©æ€»PV = ï¼ˆ2000 24 60 * 60ï¼‰/30 ï¼ 57.6ä¸‡","categories":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}],"tags":[],"keywords":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}]},{"title":"ç†è§£å‡½æ•°å¼ç¼–ç¨‹/é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"21ç³»ç»Ÿè®¾è®¡/å‡½æ•°VSé¢å‘å¯¹è±¡","date":"2016-11-07T00:00:00.000Z","updated":"2018-12-10T17:01:56.564Z","comments":true,"path":"2016/11/07/21ç³»ç»Ÿè®¾è®¡/å‡½æ•°VSé¢å‘å¯¹è±¡/","link":"","permalink":"http://yoursite.com/2016/11/07/21ç³»ç»Ÿè®¾è®¡/å‡½æ•°VSé¢å‘å¯¹è±¡/","excerpt":"","text":"å‡½æ•°å¼ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯ä¸€ç§è‡ªé¡¶å‘ä¸‹çš„ç¨‹åºè®¾è®¡æ–¹æ³•ã€‚ç”¨é¢å‘å¯¹è±¡æ–¹æ³•æ„é€ è½¯ä»¶æ—¶ï¼Œæˆ‘ä»¬å°†ä»£ç ä»¥åè¯ï¼ˆå¯¹è±¡ï¼‰åšåˆ‡å‰²ï¼Œæ¯ä¸ªå¯¹è±¡æœ‰æŸç§å½¢å¼çš„æ ‡è¯†ç¬¦ï¼ˆself/thisï¼‰ã€è¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰ã€å’ŒçŠ¶æ€ï¼ˆæˆå‘˜å˜é‡ï¼‰ã€‚è¯†åˆ«å‡ºåè¯å¹¶ä¸”å®šä¹‰å‡ºå®ƒä»¬çš„è¡Œä¸ºåï¼Œå†å®šä¹‰å‡ºåè¯ä¹‹é—´çš„äº¤äº’ã€‚ ç°ä»£é¢å‘å¯¹è±¡è®¾è®¡å€¾å‘äºå®šä¹‰å‡ºâ€œæœåŠ¡ç±»â€ï¼Œå°†æ“ä½œå¤šä¸ªé¢†åŸŸå¯¹è±¡çš„æ–¹æ³•é›†åˆæ”¾åœ¨é‡Œé¢ã€‚è¿™äº›æœåŠ¡ç±»ï¼Œè™½ç„¶ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä½†é€šå¸¸ä¸å…·æœ‰ç‹¬ç«‹çŠ¶æ€ï¼Œä¹Ÿæ²¡æœ‰ä¸å®ƒä»¬æ‰€æ“ä½œçš„å¯¹è±¡æ— å…³çš„ç‹¬ç«‹è¡Œä¸ºã€‚ å‡½æ•°å¼ç¼–ç¨‹å€¾å‘äºå°†è½¯ä»¶åˆ†è§£ä¸ºå…¶éœ€è¦æ‰§è¡Œçš„è¡Œä¸ºæˆ–æ“ä½œï¼Œè€Œä¸”é€šå¸¸é‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³•ã€‚ å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„å‡½æ•°æ¦‚å¿µå…·æœ‰ä¸€å®šçš„æ•°å­¦ä¸Šçš„å«ä¹‰ï¼Œçº¯ç²¹æ˜¯å¯¹è¾“å…¥è¿›è¡Œæ“ä½œï¼Œäº§ç”Ÿç»“æœã€‚æ‰€æœ‰å˜é‡éƒ½è¢«è®¤ä¸ºæ˜¯ä¸å¯å˜çš„ã€‚å‡½æ•°å¼ç¼–ç¨‹ä¸­å¯¹ä¸å˜æ€§çš„å¼ºè°ƒæœ‰åŠ©äºç¼–å†™å¹¶å‘ç¨‹åºã€‚å‡½æ•°å¼ç¼–ç¨‹è¯•å›¾å°†å‰¯ä½œç”¨æ¨è¿Ÿåˆ°å°½å¯èƒ½æ™šã€‚ åœ¨é¢å‘å¯¹è±¡ä¸­ï¼Œé‡‡ç”¨ç»§æ‰¿ï¼Œè€Œåœ¨é¢å‘å‡½æ•°çš„è¿‡ç¨‹ï¼Œå¯ä»¥å°†è¡Œä¸ºå°è£…ä¸ºè¡Œä¸ºå‡½æ•°ã€‚ å‡½æ•°å¼ç¼–ç¨‹çš„ç²¾é«“åœ¨äºå°½å¯èƒ½åœ°æ¨è¿Ÿå‰¯ä½œç”¨ã€‚ äººç±»åœ¨è®¤è¯†å’Œåˆ†æè½¯ä»¶æ‰€è¦è§£å†³çš„ä¸šåŠ¡é¢†åŸŸé—®é¢˜æ—¶ï¼Œä¸€èˆ¬ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼šä¸šåŠ¡æµç¨‹ä¸ ä¸šåŠ¡è§„åˆ™ã€‚å‰è€…ï¼Œå›ç­”äº†ä¸šåŠ¡æ´»åŠ¨ä¸­å…ˆåšä»€ä¹ˆååšä»€ä¹ˆçš„é—®é¢˜ï¼›åè€…ï¼Œåˆ™å›ç­”äº†é‡åˆ°ä»€ä¹ˆæƒ…å†µæ—¶åº”è¯¥æ€ä¹ˆåšçš„é—®é¢˜ã€‚ä¸¤è€…ç»“åˆåï¼Œå¾—åˆ°æˆ‘ä»¬éœ€è¦çš„ä¸šåŠ¡ç»“æœï¼Œæˆ–è€…å«ä½œâ€œå®ç°ä¸šåŠ¡ç›®æ ‡â€ã€‚ å¦‚ä½•å°†ä¸Šè¿°æ€ç»´ç»“æœæ˜ å°„åˆ°è½¯ä»¶ä¸­å»çš„å‘¢ï¼Ÿä½¿ç”¨é¢å‘å¯¹è±¡çš„æ€è€ƒæ–¹å¼ï¼šå¯¹äºä¸šåŠ¡æµç¨‹ï¼Œæˆ‘ä»¬å°†å…¶è¡¨è¾¾ä¸ºè‹¥å¹²å¯¹è±¡ä¹‹é—´çš„åˆä½œï¼Œæ¯”å¦‚UMLé‡Œåºåˆ—å›¾çš„å¯¹è±¡ä¸æ¶ˆæ¯ï¼Œè¿›è€Œå…·åŒ–ä¸ºå…·ä½“çš„ç±»åŠå…¶èŒè´£ï¼Œæ¯”å¦‚ç±»åŠå…¶è‹¥å¹²ä¸šåŠ¡æ–¹æ³•ã€‚å¯¹äºä¸šåŠ¡è§„åˆ™ï¼Œæˆ‘ä»¬å°†å…¶è¡¨è¾¾ä¸ºè‹¥å¹²çš„åˆ¤æ–­é€»è¾‘ï¼Œæ¯”å¦‚UMLæµç¨‹å›¾é‡Œçš„åˆ¤æ–­åˆ†æ”¯ï¼Œè¿›è€Œå…·åŒ–ä¸ºä¸šåŠ¡æ–¹æ³•é‡Œçš„if-elseè¯­å¥ï¼Œæˆ–è€…å†å¤æ‚ä¸€ç‚¹ï¼Œè¡¨è¾¾ä¸ºå·¥å‚ã€ç­–ç•¥ç­‰è®¾è®¡æ¨¡å¼çš„å®é™…è¿ç”¨ã€‚ å‡½æ•°ï¼šå¯¹äºå¤æ‚ä¸šåŠ¡è§„åˆ™çš„æ¢³ç†ï¼Œå¯ä»¥è±¡æ•°å­¦å½’çº³æ³•ä¸€æ ·è¿›è¡Œæ¼”ç»ï¼šå‡è®¾ä¸€ä¸ªå‡½æ•°y=f(x)ï¼Œç»™å®šxçš„å®šä¹‰åŸŸï¼Œç¡®å®šyçš„å€¼åŸŸã€‚ç‰¹åˆ«æ˜¯åœ¨æ’åˆ—ç»„åˆç­‰æ–¹é¢çš„ä¸€äº›é—®é¢˜ï¼Œä¹Ÿç»å¸¸é‡‡ç”¨é€’å½’çš„æ–¹å¼æ¥è§£å†³ã€‚ å‚è€ƒhttp://zhidao.baidu.com/link?url=5DFTKngwDswtymrJEeutBx5BvWo0vzmV9Omov8Vpdn8DBM8nVkb6UG7qir6TEJVnQxmUqcu9c00vFdLo3kMpKITEtI_XBYNJmHLYkline7i","categories":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}],"tags":[{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"http://yoursite.com/tags/å‡½æ•°å¼ç¼–ç¨‹/"}],"keywords":[{"name":"ç³»ç»Ÿè®¾è®¡YY","slug":"ç³»ç»Ÿè®¾è®¡YY","permalink":"http://yoursite.com/categories/ç³»ç»Ÿè®¾è®¡YY/"}]},{"title":"tcpå»ºç«‹è¿æ¥çš„çŠ¶æ€è¯´æ˜","slug":"13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/tcpå»ºç«‹è¿æ¥çš„çŠ¶æ€è¯´æ˜","date":"2016-11-06T00:00:00.000Z","updated":"2018-12-10T16:34:07.060Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/tcpå»ºç«‹è¿æ¥çš„çŠ¶æ€è¯´æ˜/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/tcpå»ºç«‹è¿æ¥çš„çŠ¶æ€è¯´æ˜/","excerpt":"","text":"#tcpå»ºç«‹è¿æ¥çš„çŠ¶æ€è¯´æ˜ TCPè¿æ¥å»ºç«‹é¦–å…ˆè¦è¯´æ˜çš„æ˜¯è¦æ˜ç¡®TCPè¿æ¥å»ºç«‹çš„è¿‡ç¨‹éœ€è¦3æ¬¡æ¡æ‰‹ï¼Œä¸‹é¢ä¸¾ä¾‹è¯´æ˜å„ç§çŠ¶æ€å­˜åœ¨çš„æ—¶åˆ»ï¼š é¦–å…ˆåœ¨æœåŠ¡å™¨Aä¸Šå¼€å¯FTPæœåŠ¡ï¼Œå¼€å§‹ä¾¦å¬æ¥è‡ªè¿œç«¯TCPç«¯å£çš„è¿æ¥è¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™æŸ¥çœ‹æœåŠ¡å™¨AçŠ¶æ€ä¸ºï¼šLISTENING åœ¨å®¢æˆ·ç«¯Bä¸Šå‘Aå‘é€FTPè¿æ¥è¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™æ•°æ®åŒ…åŒæ­¥ä½ç½®1ï¼Œè¿™æ˜¯TCPä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸€æ­¥ã€‚åœ¨å‘é€åæ²¡æ”¶åˆ°ç¡®è®¤æ—¶ï¼Œåœ¨å®¢æˆ·ç«¯Bä¸Šå…¶çŠ¶æ€ä¸ºï¼šSYN-SENTã€‚æ­¤æ—¶å®¢æˆ·ç«¯Bå¯åŠ¨è¿æ¥å®šæ—¶å™¨ã€‚å¦‚æœåœ¨75ç§’å†…æ²¡æœ‰æ”¶åˆ°åº”ç­”ï¼Œåˆ™æ”¾å¼ƒè¿æ¥å»ºç«‹ã€‚ åœ¨æœåŠ¡å™¨Aä¸Šæ”¶åˆ°ä»Bä¸Šå‘é€çš„SYNåŒæ­¥åŒ…åï¼Œç¡®è®¤ï¼Œç„¶åå†å‘Bå‘é€SYNçš„åŒæ­¥åŒ…ï¼Œæ­¤æ•°æ®åŒ…åŒæ—¶å°†TCPæ ‡è®°ä¸­çš„åŒæ­¥ä½å’Œç¡®è®¤ä½ç½®1ï¼Œå®ƒæ—¢å¯¹ç¬¬ä¸€æ­¥ä¸­çš„å®¢æˆ·ç«¯åŒæ­¥æ•°æ®åŒ…è¿›è¡Œç¡®è®¤ï¼Œè¡¨ç¤ºæ„¿æ„ä¸å®¢æˆ·ç«¯åŒæ­¥ï¼ŒåŒæ—¶å†å¯¹å®¢æˆ·ç«¯ä¸»æœºè¿›è¡ŒåŒæ­¥è¯·æ±‚ï¼Œè¿™æ˜¯TCPè¿æ¥çš„ç¬¬ä¸€æ­¥ã€‚è¿™ä¸ªæ—¶å€™åœ¨æœåŠ¡å™¨Aä¸Šï¼ŒçŠ¶æ€ä¸ºï¼šSYN-RECEIVEDã€‚æ­¤æ—¶æœåŠ¡å™¨Aå¯åŠ¨è¿æ¥å®šæ—¶å™¨ã€‚å¦‚æœåœ¨75ç§’å†…æ²¡æœ‰æ”¶åˆ°åº”ç­”ï¼Œåˆ™æ”¾å¼ƒè¿æ¥å»ºç«‹ã€‚ åœ¨å®¢æˆ·ç«¯Bä¸Šæ¥æ”¶åˆ°ä»Aä¸Šå‘è¿‡æ¥çš„ç¡®è®¤åŒæ­¥åŒ…åè¿›è¡Œç¡®è®¤ï¼Œæ­¤æ•°æ®åŒ…ä¸­å°†TCPæ ‡è®°ä¸­çš„ç¡®è®¤ä½ç½®1ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç¡®è®¤æ•°æ®åŒ…ï¼Œæ­¤æ—¶åœ¨å®¢æˆ·ç«¯BçŠ¶æ€è½¬æ¢ä¸ºï¼šESTABLISHED æœåŠ¡å™¨Aæ¥æ”¶åˆ°ä»Bå‘è¿‡æ¥çš„ç¡®è®¤åŒ…åï¼ŒçŠ¶æ€è½¬æ¢ä¸ºï¼šESTABLISHEDæ­¤æ—¶TCPè¿æ¥æ­£å¼å»ºç«‹ã€‚TCPè¿æ¥å…³é—­ åº”ç”¨ç¨‹åºåœ¨åœ¨è¿æ¥ä¸éœ€è¦çš„æ—¶å€™ï¼Œé€šè¿‡å®¢æˆ·ç«¯Bå‘æœåŠ¡å™¨Aå‘é€çš„ç»ˆæ­¢ä¿¡æ¯çš„FINåŒ…åï¼Œå®¢æˆ·ç«¯Bå¤„äºFIN-WAIT-1çŠ¶æ€ã€‚ ä»æœåŠ¡å™¨Aæ¥æ”¶åˆ°å®¢æˆ·ç«¯Bå‘é€çš„ç»ˆæ­¢æ•°æ®åŒ…ï¼Œå®ƒå‘Šè¯‰å®¢æˆ·ç«¯Bå·²æˆåŠŸæ¥æ”¶å®¢æˆ·ç«¯çš„ä¸Šæ•°æ®åŒ…ï¼Œæ­¤æ—¶ç­‰å¾…åº”ç”¨ç¨‹åºæ¥å…³é—­è¿æ¥ï¼Œæ­¤æ—¶æœåŠ¡å™¨Aè¿›å…¥CLOSE_WAITçŠ¶æ€ã€‚ å®¢æˆ·ç«¯Bæ¥æ”¶åˆ°å¸¦æœ‰ç¡®è®¤ä½çš„æ•°æ®åŒ…åï¼Œå¯¹æ­¤è¿›è¡Œç¡®è®¤ï¼ŒåŒæ„å…³é—­TCPè¿æ¥æ­¤æ—¶å®¢æˆ·ç«¯Bè½¬ç§»åˆ°FIN-WAIT-2çŠ¶æ€ã€‚å½“è¿æ¥ä»FIN-WAIT-1çŠ¶æ€è½¬ç§»åˆ°FIN-WAIT-2çŠ¶æ€æ—¶ï¼Œå°†ä¸€ä¸ªFIN-WAIT-2å®šæ—¶å™¨è®¾ç½®ä¸º10åˆ†é’Ÿã€‚ æœåŠ¡å™¨Aåœ¨åº”ç”¨ç¨‹åºåŒæ„ç»ˆæ­¢è¿æ¥åï¼Œå‘å®¢æˆ·ç«¯Bå‘é€ç»ˆæ­¢FINåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨çŠ¶æ€è½¬ä¸ºLAST-ACTã€‚ å®¢æˆ·ç«¯Båœ¨æ¥æ”¶åˆ°ä»æœåŠ¡å™¨Aå‘é€çš„ç»ˆæ­¢åŒ…åï¼ŒåŒæ„ç»ˆæ­¢è¿æ¥ï¼Œç„¶åå†å‘æœåŠ¡å™¨ç«¯å‘é€ç¡®è®¤ä¿¡æ¯ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯Bè½¬å‘TIME-WAITçŠ¶æ€ã€‚å½“è¿æ¥è¿›å…¥TIME-WAITçŠ¶æ€æ—¶ï¼Œè¯¥å®šæ—¶å™¨è¢«æ¿€æ´»ã€‚ æœåŠ¡ç«¯Aåœ¨æ”¶åˆ°å®¢æˆ·ç«¯Bçš„ç¡®è®¤åï¼Œå…³é—­è¿æ¥ï¼ŒæœåŠ¡å™¨AçŠ¶æ€è½¬å‘CLOSEDã€‚ å®¢æˆ·ç«¯Båœ¨TIME-WAITå®šæ—¶å™¨è¶…æ—¶æ—¶ï¼Œä¸è¯¥è¿æ¥ç›¸å…³çš„å†…æ ¸æ•°æ®å—è¢«åˆ é™¤ï¼Œè¿æ¥ç»ˆæ­¢ï¼Œè½¬å‘CLOSEDçŠ¶æ€ã€‚æ­¤æ—¶TCPè¿æ¥æ­£å¼å…³é—­ã€‚","categories":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}],"tags":[{"name":"TCP/IP","slug":"TCP-IP","permalink":"http://yoursite.com/tags/TCP-IP/"}],"keywords":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}]},{"title":"sshå…ç§˜å¯†ç™»å½•","slug":"13åŸºç¡€æŠ€æœ¯/linux/sshå…ç§˜å¯†ç™»å½•","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.057Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/sshå…ç§˜å¯†ç™»å½•/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/sshå…ç§˜å¯†ç™»å½•/","excerpt":"","text":"#sshå…ç§˜å¯†ç™»å½• å…¬é’¥ç™»å½•è¿‡ç¨‹ä½¿ç”¨å¯†ç ç™»å½•ï¼Œæ¯æ¬¡éƒ½å¿…é¡»è¾“å…¥å¯†ç ï¼Œéå¸¸éº»çƒ¦ã€‚SSHè¿˜æä¾›äº†å…¬é’¥ç™»å½•ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼šç”¨æˆ·å°†è‡ªå·±çš„å…¬é’¥å‚¨å­˜åœ¨è¿œç¨‹ä¸»æœºä¸Šã€‚ç™»å½•çš„æ—¶å€™ï¼Œè¿œç¨‹ä¸»æœºä¼šå‘ç”¨æˆ·å‘é€ä¸€æ®µéšæœºå­—ç¬¦ä¸²ï¼Œç”¨æˆ·ç”¨è‡ªå·±çš„ç§é’¥åŠ å¯†åï¼Œå†å‘å›æ¥ã€‚è¿œç¨‹ä¸»æœºç”¨äº‹å…ˆå‚¨å­˜çš„å…¬é’¥è¿›è¡Œè§£å¯†ï¼Œå¦‚æœæˆåŠŸï¼Œå°±è¯æ˜ç”¨æˆ·æ˜¯å¯ä¿¡çš„ï¼Œç›´æ¥å…è®¸ç™»å½•shellï¼Œä¸å†è¦æ±‚å¯†ç ã€‚ è¿™ç§æ–¹æ³•è¦æ±‚ç”¨æˆ·å¿…é¡»æä¾›è‡ªå·±çš„å…¬é’¥ã€‚å¯ä»¥ç›´æ¥ç”¨ssh-keygenç”Ÿæˆä¸€ä¸ªã€‚ ä½¿ç”¨ssh-keygenç”Ÿæˆå…¬é’¥ä¸ç§é’¥å¯¹ç›´æ¥è¿è¡Œssh-keygen è¿è¡Œç»“æŸä»¥åï¼Œåœ¨$HOME/.ssh/ç›®å½•ä¸‹ï¼Œä¼šæ–°ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼šid_rsa.pubå’Œid_rsaã€‚å‰è€…æ˜¯ä½ çš„å…¬é’¥ï¼Œåè€…æ˜¯ä½ çš„ç§é’¥ã€‚ ä½¿ç”¨ssh-copy-idæ‹·è´å…¬é’¥éƒ½è¿œç¨‹æœºå™¨å°†æœ¬æœºçš„å…¬é’¥å¤åˆ¶åˆ°è¿œç¨‹æœºå™¨çš„authorized_keysæ–‡ä»¶ä¸­ä»æ­¤ä½¿ç”¨sshå†ç™»å½•ï¼Œå°±ä¸éœ€è¦è¾“å…¥å¯†ç äº†ã€‚ ssh-copy-idåŸç†è¿œç¨‹ä¸»æœºå°†ç”¨æˆ·çš„å…¬é’¥ï¼Œä¿å­˜åœ¨ç™»å½•åçš„ç”¨æˆ·ä¸»ç›®å½•çš„$HOME/.ssh/authorized_keysæ–‡ä»¶ä¸­ã€‚ å¯ä»¥ç­‰ä»·å¦‚ä¸‹å‘½ä»¤ssh user@host &#39;mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys&#39; &lt; ~/.ssh/id_rsa.pub","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"Linux id å‘½ä»¤","slug":"13åŸºç¡€æŠ€æœ¯/linux/linx-id","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.055Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/linx-id/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/linx-id/","excerpt":"","text":"idå‘½ä»¤ç”¨æ¥åšä»€ä¹ˆï¼Ÿid å‘½ä»¤å¯ä»¥æ˜¾ç¤ºçœŸå®æœ‰æ•ˆçš„ç”¨æˆ· ID(UID) å’Œç»„ ID(GID)ã€‚UID æ˜¯å¯¹ä¸€ä¸ªç”¨æˆ·çš„å•ä¸€èº«ä»½æ ‡è¯†ã€‚ç»„ IDï¼ˆGIDï¼‰åˆ™å¯¹åº”å¤šä¸ªUIDã€‚ ä¸€äº›ç¨‹åºå¯èƒ½éœ€è¦ UID/GID æ¥è¿è¡Œï¼Œæˆ‘ä»¬æƒ³çŸ¥é“æŸä¸ªç”¨æˆ·çš„ UID å’Œ GID ï¼Œè¿™æ—¶ idå‘½ä»¤æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œidä½¿æˆ‘ä»¬æ›´åŠ å®¹æ˜“åœ°æ‰¾å‡ºç”¨æˆ·çš„ UID ä»¥ GIDï¼Œ è€Œä¸å¿…åœ¨ /etc/group æ–‡ä»¶ä¸­æœå¯»ã€‚ ï¼ƒidå‘½ä»¤çš„è¾“å‡º 12ww@ubuntu:~$ iduid=1000(ww) gid=1000(ww) groups=1000(ww),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),113(lpadmin),128(sambashare) ç”¨æˆ· ww çš„ UID å·ç = 1000, GID å·ç = 1000 adm çš„ GID å·ç = 4cdrom çš„ GID å·ç = 24sudo çš„ GID å·ç = 27dip çš„ GID å·ç = 30plugdev çš„ GID å·ç = 46lpadmin çš„ GID å·ç = 113sambashare çš„ GID å·ç = 128 é€šè¿‡æŸ¥è¯¢/etc/groupè¿›è¡ŒéªŒè¯cat /etc/group | grep 128æ˜¾ç¤ºå¦‚ä¸‹`sambashare:x:128:ww å…¶ä»–ç”¨æˆ·è¾“å‡ºç‰¹å®šç”¨æˆ·ä¿¡æ¯id hadoop åªè¾“å‡ºæœ‰æ•ˆçš„ç»„IDid -g","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"ç³»ç»Ÿçš„æ•´ä½“èµ„æºä½¿ç”¨æƒ…å†µï¼top","slug":"13åŸºç¡€æŠ€æœ¯/linux/top","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.057Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/top/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/top/","excerpt":"","text":"top123456789top - 22:13:32 up 133 days, 1:38, 1 user, load average: 0.46, 0.46, 0.45Tasks: 141 total, 1 running, 140 sleeping, 0 stopped, 0 zombieCpu(s): 23.9%us, 2.8%sy, 0.0%ni, 72.6%id, 0.7%wa, 0.0%hi, 0.0%si, 0.0%st Mem: 3921472k total, 2955224k used, 966248k free, 295112k buffersSwap: 2097144k total, 82756k used, 2014388k free, 542824k cached PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 25477 root 20 0 21556 728 208 S 51.9 0.0 10579:38 leczbhrtmj 9 root 20 0 0 0 0 S 2.3 0.0 1497:44 ksoftirqd/1 load averageå‘¨æœŸä¸º1åˆ†é’Ÿï¼Œ5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿzombieè¡¨ç¤ºåƒµå°¸è¿›ç¨‹æ•°ç¬¬ä¸‰è¡Œcpuç»Ÿè®¡æ•°æ® åŸºæœ¬ä½¿ç”¨ä¹Ÿå¯ä»¥ä½¿ç”¨ 12top | grep CpuCpu(s): 7.4%us, 2.7%sy, 4.6%ni, 84.9%id, 0.3%wa, 0.0%hi, 0.0%si, 0.0%st å­—æ®µæè¿°cpuç»Ÿè®¡æ•°æ® Cpu(s) CPUçš„æ•´ä½“è´Ÿè½½ä¿¡æ¯ï¼ˆå…¶æ˜¾ç¤ºä¸ºä»ç°åœ¨çš„æ—¶é—´åˆ°ä¸Šä¸€æ¬¡åˆ·æ–°æœŸé—´çš„ç™¾åˆ†æ¯”ï¼‰ 1.0%us CPUè¿è¡Œç”¨æˆ·çš„è¿›ç¨‹æ‰€èŠ±çš„æ—¶é—´ç™¾åˆ†æ¯”ï¼ˆä¸åŒ…å«æ”¹å˜è¿‡niceå€¼çš„è¿›ç¨‹ï¼‰ï¼Œé€šå¸¸æƒ…å†µä¸‹å¸Œæœ›uså æ¯”è¶Šé«˜è¶Šå¥½ã€‚ 0.7%sy CPUè¿è¡Œå†…æ ¸æ€æ‰€èŠ±çš„æ—¶é—´ç™¾åˆ†æ¯”ï¼Œsyå æ¯”è¾ƒé«˜ï¼Œé€šå¸¸æ„å‘³ç€ç³»ç»Ÿçš„æŸäº›æ–¹é¢è®¾è®¡çš„ä¸åˆç†ã€‚ 0.0%ni CPUè°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§æ‰€èŠ±çš„æ—¶é—´ç™¾åˆ†æ¯” 98.3%id CPUç©ºé—²æ—¶é—´ç™¾åˆ†æ¯” 0.0%wa CPUç”¨åœ¨IOç­‰å¾…çš„æ—¶é—´ç™¾åˆ†æ¯”ï¼Œä¸ç”¨èŠ±è´¹å¤§é‡çš„æ—¶é—´è¿›è¡Œç­‰å¾…ï¼Œå¦åˆ™è¡¨ç¤ºæœ‰å¯èƒ½æŸäº›åœ°æ–¹è®¾è®¡ä¸åˆç†ã€‚ 0.0%hi CPUç¡¬ä¸­æ–­æ—¶é—´ç™¾åˆ†æ¯” 0.0%si CPUè½¯ä¸­æ–­æ—¶é—´ç™¾åˆ†æ¯” 0.0%st CPUä¸ºäº†å…¶ä»–ä»»åŠ¡ä»è™šæ‹Ÿæœºç®¡ç†ç¨‹åºçªƒå–çš„æ—¶é—´ï¼Œstè¶Šé«˜è¡¨ç¤ºä¸å…¶ä»–è™šæ‹Ÿæœºcpuäº‰ç”¨æ¯”è¾ƒé¢‘ç¹ã€‚ å†…å­˜ä½¿ç”¨æƒ…å†µ Mem: ç‰©ç†å†…å­˜ä½¿ç”¨æƒ…å†µ total ç‰©ç†å†…å­˜æ€»é‡ used ä½¿ç”¨çš„ç‰©ç†å†…å­˜æ€»é‡ free ç©ºé—²çš„å†…å­˜é‡ buffers ç”¨ä½œç¼“å­˜å†…å­˜é‡ æ¯ä¸ªprocessä½¿ç”¨çš„èµ„æºæƒ…æ³ PID è¿›ç¨‹å· USER è¿›ç¨‹æ‰€æœ‰è€… PR è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œå€¼è¶Šå°è¶Šä¼˜å…ˆè¢«æ‰§è¡Œ NI è¿›ç¨‹çš„niceå€¼ VIRT è¿›ç¨‹å ç”¨çš„è™šæ‹Ÿå†…å­˜ RES è¿›ç¨‹å ç”¨çš„ç‰©ç†å†…å­˜ SHR è¿›ç¨‹ä½¿ç”¨çš„å…±äº«å†…å­˜ S è¿›ç¨‹çš„çŠ¶æ€ã€‚Sè¡¨ç¤ºä¼‘çœ ï¼ŒRè¡¨ç¤ºæ­£åœ¨è¿è¡Œï¼ŒZè¡¨ç¤ºåƒµæ­»çŠ¶æ€ç­‰ %CPU è¿›ç¨‹å ç”¨CPUçš„ä½¿ç”¨ç‡ %MEM è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜çš„ç™¾åˆ†æ¯” TIME+ è¯¥è¿›ç¨‹å¯åŠ¨åå ç”¨çš„æ€»çš„CPUæ—¶é—´ï¼Œå³å ç”¨CPUä½¿ç”¨æ—¶é—´çš„ç´¯åŠ å€¼ã€‚ COMMAND è¿›ç¨‹å¯åŠ¨å‘½ä»¤åç§° å‚æ•°æŒ‡å®šç›‘æµ‹æŸä¸ªè¿›ç¨‹-p #åé¢åŠ PIDå·ï¼ŒæŒ‡å®šç›‘æµ‹æŸä¸ªè¿›ç¨‹ æŒ‰é”®æŒ‡ä»¤æŒ‰ç…§çº¿ç¨‹æ¥æ˜¾ç¤ºcpuçš„æ¶ˆè€—æƒ…å†µshift + H æ’åºä»¥PIDæ’åºæ˜¾ç¤º Nä»¥cpuçš„ä½¿ç”¨ç‡æ’åºæ˜¾ç¤º Pä»¥Memoryçš„ä½¿ç”¨èµ„æºæ’åºæ˜¾ç¤º Mä»¥TIME+ä¸ºå‡†è¿›è¡Œæ’åºæ˜¾ç¤º T æŒ‡å®šæ˜¾ç¤ºç”¨æˆ·è¿›ç¨‹ u #uptime uptimeå…¶åˆ†åˆ«æ˜¾ç¤º1,5,15åˆ†é’Ÿçš„cpuçš„å¹³å‡è´Ÿè½½ é€šè¿‡æ¯”è¾ƒè¿™ä¸‰ä¸ªæ•°å­—ï¼Œå¯ä»¥åˆ¤æ–­è´Ÿè½½æ˜¯ä¸Šå‡è¿˜æ˜¯ä¸‹é™ï¼Œæˆ–å¹³ç¨³ã€‚å¦‚æœè´Ÿè½½å€¼å¤§äºCPUæ•°ï¼Œè¿™å¯èƒ½æ„å‘³ç€CPUé¥±å’Œäº†ï¼Œæˆ–çº¿ç¨‹é­å—è°ƒåº¦å»¶è¿Ÿï¼Œä¹Ÿå¯èƒ½æœ‰ç£ç›˜IOçš„å› ç´ ï¼Œä½¿ç”¨å…¶ä»–å·¥å…·è¿›ä¸€æ­¥è°ƒæŸ¥ã€‚ åªè¦cpuçš„å½“å‰æ´»åŠ¨çº¿ç¨‹ä¸å¤§äº3ï¼Œæˆ‘ä»¬è®¤ä¸ºå®ƒçš„è´Ÿè½½æ—¶æ­£å¸¸çš„ã€‚å¦‚æœå¤§äº5ï¼Œè´Ÿè½½å°±éå¸¸é«˜äº†","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"ç³»ç»Ÿçš„è´Ÿè½½ï¼uptime","slug":"13åŸºç¡€æŠ€æœ¯/linux/uptime","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.058Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/uptime/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/uptime/","excerpt":"","text":"#uptime è¿™ä¸ªå‘½ä»¤å¯ä»¥å¿«é€ŸæŸ¥çœ‹æœºå™¨çš„è´Ÿè½½æƒ…å†µã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œè¿™äº›æ•°æ®è¡¨ç¤ºç­‰å¾…CPUèµ„æºçš„è¿›ç¨‹å’Œé˜»å¡åœ¨ä¸å¯ä¸­æ–­IOè¿›ç¨‹ï¼ˆè¿›ç¨‹çŠ¶æ€ä¸ºDï¼‰çš„æ•°é‡ã€‚è¿™äº›æ•°æ®å¯ä»¥è®©æˆ‘ä»¬å¯¹ç³»ç»Ÿèµ„æºä½¿ç”¨æœ‰ä¸€ä¸ªå®è§‚çš„äº†è§£ã€‚ å‘½ä»¤çš„è¾“å‡ºåˆ†åˆ«è¡¨ç¤º1åˆ†é’Ÿã€5åˆ†é’Ÿã€15åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½æƒ…å†µã€‚é€šè¿‡è¿™ä¸‰ä¸ªæ•°æ®ï¼Œå¯ä»¥äº†è§£æœåŠ¡å™¨è´Ÿè½½æ˜¯åœ¨è¶‹äºç´§å¼ è¿˜æ˜¯è¶‹äºç¼“è§£ã€‚å¦‚æœ1åˆ†é’Ÿå¹³å‡è´Ÿè½½å¾ˆé«˜ï¼Œè€Œ15åˆ†é’Ÿå¹³å‡è´Ÿè½½å¾ˆä½ï¼Œè¯´æ˜æœåŠ¡å™¨æ­£åœ¨å‘½ä»¤é«˜è´Ÿè½½æƒ…å†µï¼Œéœ€è¦è¿›ä¸€æ­¥æ’æŸ¥CPUèµ„æºéƒ½æ¶ˆè€—åœ¨äº†å“ªé‡Œã€‚åä¹‹ï¼Œå¦‚æœ15åˆ†é’Ÿå¹³å‡è´Ÿè½½å¾ˆé«˜ï¼Œ1åˆ†é’Ÿå¹³å‡è´Ÿè½½è¾ƒä½ï¼Œåˆ™æœ‰å¯èƒ½æ˜¯CPUèµ„æºç´§å¼ æ—¶åˆ»å·²ç»è¿‡å»ã€‚ å¦‚æœè´Ÿè½½å€¼å¤§äºCPUæ•°ï¼Œè¿™å¯èƒ½æ„å‘³ç€CPUé¥±å’Œäº†ï¼Œæˆ–çº¿ç¨‹é­å—è°ƒåº¦å»¶è¿Ÿï¼Œä¹Ÿå¯èƒ½æœ‰ç£ç›˜IOçš„å› ç´ ï¼Œä½¿ç”¨å…¶ä»–å·¥å…·è¿›ä¸€æ­¥è°ƒæŸ¥ã€‚ åªè¦cpuçš„å½“å‰æ´»åŠ¨çº¿ç¨‹ä¸å¤§äº3ï¼Œæˆ‘ä»¬è®¤ä¸ºå®ƒçš„è´Ÿè½½æ—¶æ­£å¸¸çš„ã€‚å¦‚æœå¤§äº5ï¼Œè´Ÿè½½å°±éå¸¸é«˜äº†","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"å…±äº«é”åˆ†æ","slug":"22programming/java/thread/å…±äº«é”","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.102Z","comments":true,"path":"2016/11/06/22programming/java/thread/å…±äº«é”/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/å…±äº«é”/","excerpt":"","text":"å…±äº«é”ä»£ç åˆ†æå‚è€ƒä»£ç ReentrantReadWriteLock ReadLockä¸­çš„syncæ˜¯ä¸€ä¸ªSyncå¯¹è±¡ï¼ŒSyncç»§æ‰¿äºAQSç±»ï¼Œå³Syncå°±æ˜¯ä¸€ä¸ªé”ã€‚ReentrantReadWriteLockä¸­ä¹Ÿæœ‰ä¸€ä¸ªSyncå¯¹è±¡ï¼Œè€Œä¸”ReadLockä¸­çš„syncå’ŒReentrantReadWriteLockä¸­çš„syncæ˜¯å¯¹åº”å…³ç³»ã€‚å³ReentrantReadWriteLockå’ŒReadLockå…±äº«åŒä¸€ä¸ªAQSå¯¹è±¡ï¼Œå…±äº«åŒä¸€æŠŠé”ã€‚ è·å–å…±äº«é”é€šè¿‡tryAcquireShared()å°è¯•è·å–å…±äº«é”ã€‚å°è¯•æˆåŠŸçš„è¯ï¼Œåˆ™ç›´æ¥è¿”å›ï¼›å°è¯•å¤±è´¥çš„è¯ï¼Œåˆ™é€šè¿‡doAcquireShared()ä¸æ–­çš„å¾ªç¯å¹¶å°è¯•è·å–é”ï¼Œè‹¥æœ‰éœ€è¦ï¼Œåˆ™é˜»å¡ç­‰å¾…ã€‚ lockReadLock.java 123public void lock() &#123; sync.acquireShared(1);&#125; acquireSharedSyncç»§æ‰¿äºAQSï¼ŒacquireShared()å®šä¹‰åœ¨AQSä¸­ã€‚æºç å¦‚ä¸‹ï¼š public final void acquireShared(int arg) { if (tryAcquireShared(arg) &lt; 0) doAcquireShared(arg);} é€šè¿‡tryAcquireShared()æ¥å°è¯•è·å–é”æˆåŠŸçš„è¯ï¼Œåˆ™ä¸å†åšä»»ä½•åŠ¨ä½œå¤±è´¥çš„è¯ï¼Œåˆ™é€šè¿‡doAcquireShared()æ¥è·å–é”ã€‚doAcquireShared()ä¼šè·å–åˆ°é”äº†æ‰è¿”å› tryAcquireShared()è¯•è·å–é”123456789101112131415161718192021222324252627282930313233343536protected final int tryAcquireShared(int unused) &#123; Thread current = Thread.currentThread(); // è·å–â€œé”â€çš„çŠ¶æ€ int c = getState(); // å¦‚æœâ€œé”â€æ˜¯â€œäº’æ–¥é”â€ï¼Œå¹¶ä¸”è·å–é”çš„çº¿ç¨‹ä¸æ˜¯currentçº¿ç¨‹ï¼›åˆ™è¿”å›-1ã€‚ if (exclusiveCount(c) != 0 &amp;&amp; getExclusiveOwnerThread() != current) return -1; // è·å–â€œè¯»å–é”â€çš„å…±äº«è®¡æ•° int r = sharedCount(c); // å¦‚æœâ€œä¸éœ€è¦é˜»å¡ç­‰å¾…â€ï¼Œå¹¶ä¸”â€œè¯»å–é”â€çš„å…±äº«è®¡æ•°å°äºMAX_COUNTï¼› // åˆ™é€šè¿‡CASå‡½æ•°æ›´æ–°â€œé”çš„çŠ¶æ€â€ï¼Œå°†â€œè¯»å–é”â€çš„å…±äº«è®¡æ•°+1ã€‚ if (!readerShouldBlock() &amp;&amp; r &lt; MAX_COUNT &amp;&amp; compareAndSetState(c, c + SHARED_UNIT)) &#123; // ç¬¬1æ¬¡è·å–â€œè¯»å–é”â€ã€‚ if (r == 0) &#123; firstReader = current; firstReaderHoldCount = 1; // å¦‚æœæƒ³è¦è·å–é”çš„çº¿ç¨‹(current)æ˜¯ç¬¬1ä¸ªè·å–é”(firstReader)çš„çº¿ç¨‹ &#125; else if (firstReader == current) &#123; firstReaderHoldCount++; &#125; else &#123; // HoldCounteræ˜¯ç”¨æ¥ç»Ÿè®¡è¯¥çº¿ç¨‹è·å–â€œè¯»å–é”â€çš„æ¬¡æ•°ã€‚ HoldCounter rh = cachedHoldCounter; if (rh == null || rh.tid != current.getId()) cachedHoldCounter = rh = readHolds.get(); else if (rh.count == 0) readHolds.set(rh); // å°†è¯¥çº¿ç¨‹è·å–â€œè¯»å–é”â€çš„æ¬¡æ•°+1ã€‚ rh.count++; &#125; return 1; &#125; return fullTryAcquireShared(current);&#125; exclusiveCount,sharedCount è®¡ç®—é”çš„æ•°é‡ã€‚ 123456789static final int SHARED_SHIFT = 16; static final int SHARED_UNIT = (1 &lt;&lt; SHARED_SHIFT); static final int MAX_COUNT = (1 &lt;&lt; SHARED_SHIFT) - 1; static final int EXCLUSIVE_MASK = (1 &lt;&lt; SHARED_SHIFT) - 1; /** Returns the number of shared holds represented in count */ static int sharedCount(int c) &#123; return c &gt;&gt;&gt; SHARED_SHIFT; &#125; /** Returns the number of exclusive holds represented in count */ static int exclusiveCount(int c) &#123; return c &amp; EXCLUSIVE_MASK; &#125; å¦‚æœä»äºŒè¿›åˆ¶æ¥çœ‹EXCLUSIVE_MASKçš„è¡¨ç¤ºï¼Œè¿™ä¸ªå€¼çš„ä½16ä½å…¨æ˜¯1ï¼Œè€Œé«˜16ä½åˆ™å…¨æ˜¯0ï¼Œæ‰€ä»¥exclusiveCountæ˜¯æŠŠstateçš„ä½16ä½å–å‡ºæ¥ï¼Œè¡¨ç¤ºå½“å‰è¿™ä¸ªé”çš„å†™é”åŠ é”æ¬¡æ•°ã€‚ å†æ¥çœ‹sharedCountï¼Œå–å‡ºäº†stateçš„é«˜16ä½ï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªé”çš„è¯»é”åŠ é”æ¬¡æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´stateçš„é«˜16ä½å’Œä½16ä½æ¥åˆ†åˆ«è¡¨ç¤ºè¿™ä¸ªé”ä¸Šçš„è¯»é”å’Œå†™é”çš„åŠ é”æ¬¡æ•°ã€‚çœ‹æºä»£ç  compareAndSetState(c, c + SHARED_UNIT))ï¼Œå°†â€œè¯»å–é”â€çš„å…±äº«è®¡æ•°+1ã€‚SHARED_UNITæ­£å¥½æ˜¯é«˜16ä½çš„åŠ 1æ“ä½œã€‚ HoldCounteræ˜¯çº¿ç¨‹å˜é‡ï¼Œç”¨æ¥ç»Ÿè®¡è¯¥çº¿ç¨‹è·å–â€œè¯»å–é”â€çš„æ¬¡æ•°ã€‚ è¯´æ˜ï¼š tryAcquireShared()çš„ä½œç”¨æ˜¯å°è¯•è·å–â€œå…±äº«é”â€ã€‚å¦‚æœåœ¨å°è¯•è·å–é”æ—¶ï¼Œâ€œä¸éœ€è¦é˜»å¡ç­‰å¾…â€å¹¶ä¸”â€œè¯»å–é”çš„å…±äº«è®¡æ•°å°äºMAX_COUNTâ€ï¼Œåˆ™ç›´æ¥é€šè¿‡CASå‡½æ•°æ›´æ–°â€œè¯»å–é”çš„å…±äº«è®¡æ•°â€ï¼Œä»¥åŠå°†â€œå½“å‰çº¿ç¨‹è·å–è¯»å–é”çš„æ¬¡æ•°+1â€ã€‚å¦åˆ™ï¼Œé€šè¿‡fullTryAcquireShared()è·å–è¯»å–é”ã€‚ fullTryAcquireShared12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758final int fullTryAcquireShared(Thread current) &#123; HoldCounter rh = null; for (;;) &#123; // è·å–â€œé”â€çš„çŠ¶æ€ int c = getState(); // å¦‚æœâ€œé”â€æ˜¯â€œäº’æ–¥é”â€ï¼Œå¹¶ä¸”è·å–é”çš„çº¿ç¨‹ä¸æ˜¯currentçº¿ç¨‹ï¼›åˆ™è¿”å›-1ã€‚ if (exclusiveCount(c) != 0) &#123; if (getExclusiveOwnerThread() != current) return -1; // å¦‚æœâ€œéœ€è¦é˜»å¡ç­‰å¾…â€ã€‚ // (01) å½“â€œéœ€è¦é˜»å¡ç­‰å¾…â€çš„çº¿ç¨‹æ˜¯ç¬¬1ä¸ªè·å–é”çš„çº¿ç¨‹çš„è¯ï¼Œåˆ™ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚ // (02) å½“â€œéœ€è¦é˜»å¡ç­‰å¾…â€çš„çº¿ç¨‹è·å–é”çš„æ¬¡æ•°=0æ—¶ï¼Œåˆ™è¿”å›-1ã€‚ &#125; else if (readerShouldBlock()) &#123; // å¦‚æœæƒ³è¦è·å–é”çš„çº¿ç¨‹(current)æ˜¯ç¬¬1ä¸ªè·å–é”(firstReader)çš„çº¿ç¨‹ if (firstReader == current) &#123; &#125; else &#123; if (rh == null) &#123; rh = cachedHoldCounter; if (rh == null || rh.tid != current.getId()) &#123; rh = readHolds.get(); if (rh.count == 0) readHolds.remove(); &#125; &#125; // å¦‚æœå½“å‰çº¿ç¨‹è·å–é”çš„è®¡æ•°=0,åˆ™è¿”å›-1ã€‚ if (rh.count == 0) return -1; &#125; &#125; // å¦‚æœâ€œä¸éœ€è¦é˜»å¡ç­‰å¾…â€ï¼Œåˆ™è·å–â€œè¯»å–é”â€çš„å…±äº«ç»Ÿè®¡æ•°ï¼› // å¦‚æœå…±äº«ç»Ÿè®¡æ•°è¶…è¿‡MAX_COUNTï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ if (sharedCount(c) == MAX_COUNT) throw new Error(&quot;Maximum lock count exceeded&quot;); // å°†çº¿ç¨‹è·å–â€œè¯»å–é”â€çš„æ¬¡æ•°+1ã€‚ if (compareAndSetState(c, c + SHARED_UNIT)) &#123; // å¦‚æœæ˜¯ç¬¬1æ¬¡è·å–â€œè¯»å–é”â€ï¼Œåˆ™æ›´æ–°firstReaderå’ŒfirstReaderHoldCountã€‚ if (sharedCount(c) == 0) &#123; firstReader = current; firstReaderHoldCount = 1; // å¦‚æœæƒ³è¦è·å–é”çš„çº¿ç¨‹(current)æ˜¯ç¬¬1ä¸ªè·å–é”(firstReader)çš„çº¿ç¨‹ï¼Œ // åˆ™å°†firstReaderHoldCount+1ã€‚ &#125; else if (firstReader == current) &#123; firstReaderHoldCount++; &#125; else &#123; if (rh == null) rh = cachedHoldCounter; if (rh == null || rh.tid != current.getId()) rh = readHolds.get(); else if (rh.count == 0) readHolds.set(rh); // æ›´æ–°çº¿ç¨‹çš„è·å–â€œè¯»å–é”â€çš„å…±äº«è®¡æ•° rh.count++; cachedHoldCounter = rh; // cache for release &#125; return 1; &#125; &#125;&#125; doAcquireShared()1234567891011121314151617181920212223242526272829303132private void doAcquireShared(int arg) &#123; // addWaiter(Node.SHARED)çš„ä½œç”¨æ˜¯ï¼Œåˆ›å»ºâ€œå½“å‰çº¿ç¨‹â€å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¹¶å°†è¯¥çº¿ç¨‹æ·»åŠ åˆ°CLHé˜Ÿåˆ—ä¸­ã€‚ final Node node = addWaiter(Node.SHARED); boolean failed = true; try &#123; boolean interrupted = false; for (;;) &#123; // è·å–â€œnodeâ€çš„å‰ä¸€èŠ‚ç‚¹ final Node p = node.predecessor(); // å¦‚æœâ€œå½“å‰çº¿ç¨‹â€æ˜¯CLHé˜Ÿåˆ—çš„è¡¨å¤´ï¼Œåˆ™å°è¯•è·å–å…±äº«é”ã€‚ if (p == head) &#123; int r = tryAcquireShared(arg); if (r &gt;= 0) &#123; setHeadAndPropagate(node, r); p.next = null; // help GC if (interrupted) selfInterrupt(); failed = false; return; &#125; &#125; // å¦‚æœâ€œå½“å‰çº¿ç¨‹â€ä¸æ˜¯CLHé˜Ÿåˆ—çš„è¡¨å¤´ï¼Œåˆ™é€šè¿‡shouldParkAfterFailedAcquire()åˆ¤æ–­æ˜¯å¦éœ€è¦ç­‰å¾…ï¼Œ // éœ€è¦çš„è¯ï¼Œåˆ™é€šè¿‡parkAndCheckInterrupt()è¿›è¡Œé˜»å¡ç­‰å¾…ã€‚è‹¥é˜»å¡ç­‰å¾…è¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹è¢«ä¸­æ–­è¿‡ï¼Œåˆ™è®¾ç½®interruptedä¸ºtrueã€‚ if (shouldParkAfterFailedAcquire(p, node) &amp;&amp; parkAndCheckInterrupt()) interrupted = true; &#125; &#125; finally &#123; if (failed) cancelAcquire(node); &#125;&#125; è¯´æ˜ï¼šdoAcquireShared()çš„ä½œç”¨æ˜¯è·å–å…±äº«é”ã€‚å®ƒä¼šé¦–å…ˆåˆ›å»ºçº¿ç¨‹å¯¹åº”çš„CLHé˜Ÿåˆ—çš„èŠ‚ç‚¹ï¼Œç„¶åå°†è¯¥èŠ‚ç‚¹æ·»åŠ åˆ°CLHé˜Ÿåˆ—ä¸­ã€‚CLHé˜Ÿåˆ—æ˜¯ç®¡ç†è·å–é”çš„ç­‰å¾…çº¿ç¨‹çš„é˜Ÿåˆ—ã€‚å¦‚æœâ€œå½“å‰çº¿ç¨‹â€æ˜¯CLHé˜Ÿåˆ—çš„è¡¨å¤´ï¼Œåˆ™å°è¯•è·å–å…±äº«é”ï¼›å¦åˆ™ï¼Œåˆ™éœ€è¦é€šè¿‡shouldParkAfterFailedAcquire()åˆ¤æ–­æ˜¯å¦é˜»å¡ç­‰å¾…ï¼Œéœ€è¦çš„è¯ï¼Œåˆ™é€šè¿‡parkAndCheckInterrupt()è¿›è¡Œé˜»å¡ç­‰å¾…ã€‚doAcquireShared()ä¼šé€šè¿‡forå¾ªç¯ï¼Œä¸æ–­çš„è¿›è¡Œä¸Šé¢çš„æ“ä½œï¼›ç›®çš„å°±æ˜¯è·å–å…±äº«é”ã€‚","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"http://yoursite.com/tags/é«˜å¹¶å‘/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"},{"name":"æºç é˜…è¯»","slug":"æºç é˜…è¯»","permalink":"http://yoursite.com/tags/æºç é˜…è¯»/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ç›‘æ§cpuå’Œå†…å­˜ï¼vmstatå‘½ä»¤","slug":"13åŸºç¡€æŠ€æœ¯/linux/vmstat","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.059Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/vmstat/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/vmstat/","excerpt":"","text":"#vmstat åŸºæœ¬ä½¿ç”¨æ¯ç§’é‡‡é›†ä¸€æ¬¡ï¼Œå…±è®¡3æ¬¡ vmstat 1 3 12345procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu----- r b swpd free buff cache si so bi bo in cs us sy id wa st 1 0 11300 235384 166844 1332584 0 0 5 27 119 65 0 0 99 0 0 0 0 11300 234580 166844 1332616 0 0 0 0 235 170 0 0 100 0 0 0 0 11300 234952 166844 1332616 0 0 0 0 221 157 0 0 100 0 0 å­—æ®µæè¿° å­—æ®µ è¯´æ˜ Procs r ç­‰å¾…è¿è¡Œçš„è¿›ç¨‹çš„æ•°é‡ b ç¡çœ çš„è¿›ç¨‹çš„æ•°é‡ Memory swpd å·²ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜å¤§å°ï¼Œå¦‚æœå¤§äº0ï¼Œè¡¨ç¤ºæœºå™¨ç‰©ç†å†…å­˜ä¸è¶³ free ç©ºé—²çš„å†…å­˜å¤§å° buff ç¼“å†²åŒºçš„å†…å­˜å¤§å° cache ç”¨äºé«˜é€Ÿç¼“å­˜çš„å†…å­˜å¤§å° inact ä¸æ´»è·ƒçš„å†…å­˜å¤§å°(-a option) active æ´»è·ƒçš„å†…å­˜å¤§å°(-a option) Swap si ä»ç£ç›˜äº¤æ¢åˆ°å†…å­˜çš„æ•°é‡(/s)ï¼Œå¤§äº0ï¼Œå‘ç”Ÿäº†swapäº¤æ¢ï¼Œç³»ç»Ÿçš„å†…å­˜ä¸è¶³ so ä»å†…å­˜äº¤æ¢åˆ°ç£ç›˜çš„çš„æ•°é‡(/s) IO bi ä»ä¸€ä¸ªå—è®¾å¤‡æ¥æ”¶åˆ°çš„å—æ•°é‡ bo å‘é€ç»™ä¸€ä¸ªå—è®¾å¤‡çš„å—æ•°é‡(blocks/s) System in æ¯ç§’çš„ä¸­æ–­æ•°,åŒ…å«æ—¶é—´ä¸­æ–­ cs æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ•°ï¼Œä¾‹å¦‚æˆ‘ä»¬è°ƒç”¨ç³»ç»Ÿå‡½æ•°ï¼Œå°±è¦è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œçº¿ç¨‹çš„åˆ‡æ¢ï¼Œä¹Ÿè¦è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™ä¸ªå€¼è¦è¶Šå°è¶Šå¥½ CPU us è¿è¡Œéå†…æ ¸ç¨‹åºçš„æ—¶é—´(user time, including nice time)ï¼Œç”¨æˆ·æ—¶é—´ï¼‹nice sy è¿è¡Œå†…æ ¸ç¨‹åºçš„æ—¶é—´ï¼Œå¦‚æœå¤ªé«˜ï¼Œè¡¨ç¤ºç³»ç»Ÿè°ƒç”¨æ—¶é—´é•¿ï¼Œä¾‹å¦‚IOæ“ä½œé¢‘ç¹ id ç³»ç»Ÿç©ºé—²æ—¶é—´(Prior to Linux 2.5.41, this includes IO-wait time) wa ç”¨åœ¨IOç­‰å¾…çš„æ—¶é—´ï¼Œçº¿ç¨‹è¢«é˜»å¡ç­‰å¾…ç£ç›˜IOæ—¶çš„CPUç©ºé—²æ—¶é—´ st CPUåœ¨è™šæ‹ŸåŒ–çš„ç¯å¢ƒä¸‹åœ¨å…¶ä»–ç§Ÿæˆ·ä¸Šçš„å¼€é”€ rä¸ºæ€»æ•°ï¼Œå…¶ä»–çš„æ•°ä¸ºå¹³å‡æ•°ã€‚ si,so,å¦‚æœæœ‰å¤§äº0çš„æ•°ï¼Œè¯´æ˜å‘ç”Ÿäº†swapäº¤æ¢ï¼Œç³»ç»Ÿçš„å†…å­˜ä¸è¶³ã€‚cs(ä¸Šä¸‹æ–‡åˆ‡æ¢)å¾ˆé«˜us,è¡¨ç¤ºcpuå æœ‰ç‡å¾ˆé«˜ å‚æ•° å‚æ•° è¯´æ˜ -a æ˜¾ç¤ºæ´»åŠ¨/éæ´»åŠ¨çš„å†…å­˜ -f æ˜¾ç¤ºä»å¼€æœºåˆ°ç°åœ¨çš„forksçš„æ•°ç›®,ç­‰åŒäºä»»åŠ¡çš„åˆ›å»ºæ€»æ•° -n åªæ˜¾ç¤ºå¤´éƒ¨ä¸€æ¬¡ -s æ˜¾ç¤ºä¸€ä¸ªè¡¨åŒ…å«å„ç§äº‹ä»¶è®¡æ•°å™¨å’Œå†…å­˜ç»Ÿè®¡ delay åˆ·æ–°æ—¶é—´é—´éš” count åˆ·æ–°æ¬¡æ•° -d æ˜¾ç¤ºç£ç›˜ç›¸å…³ç»Ÿè®¡ä¿¡æ¯ -D æ˜¾ç¤ºæ´»åŠ¨çš„ç£ç›˜æ¦‚è¦ç»Ÿè®¡ä¿¡æ¯ -p æŒ‡å®šç£ç›˜åˆ†åŒºç»Ÿè®¡ä¿¡æ¯ -S ä½¿ç”¨æŒ‡å®šå•ä½æ˜¾ç¤ºã€‚å‚æ•°æœ‰k,m,M -V æ˜¾ç¤ºvmstatç‰ˆæœ¬ä¿¡æ¯ã€‚ ç”¨æ³•ä¸¾ä¾‹æŒ‡å®šå•ä½vmstat 1 -Sm","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µï¼free","slug":"13åŸºç¡€æŠ€æœ¯/linux/free","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.054Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/free/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/free/","excerpt":"","text":"#free åŸºæœ¬ä½¿ç”¨free â€“m 123 total used free shared buff/cache availableMem: 2044300 298928 1456556 12268 288816 1565128Swap: 2095100 56 2095044 userdï¼šå½“å‰å·²ä½¿ç”¨çš„å†…å­˜æ€»é‡ã€‚freeï¼šç©ºé—²çš„æˆ–å¯ä»¥ä½¿ç”¨çš„å†…å­˜æ€»é‡ã€‚sharedï¼šå…±äº«å†…å­˜å¤§å°ï¼Œä¸»è¦ç”¨äºè¿›ç¨‹é—´é€šä¿¡ã€‚ buffersï¼šç”¨äºå—è®¾å¤‡I/Oçš„ç¼“å†²åŒºç¼“å­˜ã€‚cachedï¼šç”¨äºæ–‡ä»¶ç³»ç»Ÿçš„é¡µç¼“å­˜ã€‚å®ƒä»¬çš„å€¼æ¥è¿‘äº0æ—¶ï¼Œå¾€å¾€å¯¼è‡´è¾ƒé«˜çš„ç£ç›˜I/Oï¼ˆå¯ä»¥é€šè¿‡iostatç¡®è®¤ï¼‰å’Œç³Ÿç³•çš„æ€§èƒ½ã€‚ available:å¯ä»¥ä½¿ç”¨çš„å†…å­˜æ€»é‡ã€‚ å¯¹äºåº”ç”¨ç¨‹åºæ¥è¯´ï¼Œbuffers/cached æ˜¯ç­‰äºå¯ç”¨çš„ï¼Œå› ä¸ºbuffer/cachedæ˜¯ä¸ºäº†æé«˜æ–‡ä»¶è¯»å–çš„æ€§èƒ½ï¼Œå½“åº”ç”¨ç¨‹åºéœ€åœ¨ç”¨åˆ°å†…å­˜çš„æ—¶å€™ï¼Œbuffer/cachedä¼šå¾ˆå¿«åœ°è¢«å›æ”¶ã€‚ æ‰€ä»¥ä»åº”ç”¨ç¨‹åºçš„è§’åº¦æ¥è¯´ å¯ç”¨å†…å­˜=ç³»ç»Ÿfree+buffers+cached.çœŸæ­£ç”¨çš„å†…å­˜: used-buffers-cachedã€‚ å­—æ®µæè¿°å‚æ•°ç”¨æ³•ä¸¾ä¾‹å‚è€ƒhttps://linux.cn/article-2434-1.html","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"awkï¼‹sedå­¦ä¹ ç¬”è®°","slug":"13åŸºç¡€æŠ€æœ¯/linux/Awk+sed","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.054Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/Awk+sed/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/Awk+sed/","excerpt":"","text":"awkå­¦ä¹ æŒ‡å—awkå°±æ˜¯æŠŠæ–‡ä»¶é€è¡Œçš„è¯»å…¥ï¼Œä»¥ç©ºæ ¼ä¸ºé»˜è®¤åˆ†éš”ç¬¦å°†æ¯è¡Œåˆ‡ç‰‡ï¼Œåˆ‡å¼€çš„éƒ¨åˆ†å†è¿›è¡Œå„ç§åˆ†æå¤„ç†ã€‚ è¾“å‡ºç¬¬1åˆ—å’Œç¬¬4ä¾‹awk &#39;{print $1, $4}&#39; netstat.txt å…¶ä¸­çš„$1..$nè¡¨ç¤ºç¬¬å‡ ä¾‹ã€‚æ³¨ï¼š$0è¡¨ç¤ºæ•´ä¸ªè¡Œ è¿‡æ»¤è®°å½•awk &#39;$3==0 &amp;&amp; $6==&quot;LISTEN&quot; &#39; netstat.txt éœ€è¦è¡¨å¤´çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥å†…å»ºå˜é‡NR awk &#39;$3==0 &amp;&amp; $6==&quot;LISTEN&quot; || NR==1 &#39; netstat.txt è¿›è¡Œæ ¼å¼åŒ– awk &#39;$3==0 &amp;&amp; $6==&quot;LISTEN&quot; || NR==1 {printf &quot;%-20s %-20s %s\\n&quot;,$4,$5,$6}&#39; netstat.txt æŒ‡å®šåˆ†éš”ç¬¦awk &#39;BEGIN{FS=&quot;:&quot;} {print $1,$3,$6}&#39; /etc/passwdç­‰ä»·ä¸‹é¢çš„awk -F: &#39;{print $1,$3,$6}&#39; /etc/passwd-Fçš„æŒ‡å®šåˆ†éš”ç¬¦ï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œå¯ä»¥ä½¿ç”¨awk -F â€˜[;:]â€™ æ”¹å˜è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦é»˜è®¤æ˜¯ç©ºæ ¼ï¼Œä¸‹é¢ä¸ºä¸€ä¸ªä»¥\\tä½œä¸ºåˆ†éš”ç¬¦è¾“å‡ºçš„ä¾‹å­awk -F: &#39;{print $1,$3,$6}&#39; OFS=&quot;\\t&quot; /etc/passwd å­—ç¬¦ä¸²åŒ¹é…awk &#39;/ESTABLISHED/&#39; netstat.txt awk &#39;$6 ~ /FIN/ || NR==1 {print NR,$4,$5,$6}&#39; OFS=&quot;\\t&quot; netstat.txt~ è¡¨ç¤ºæ¨¡å¼å¼€å§‹ï¼Œ/ /ä¸­æ˜¯æ¨¡å¼ æ–‡ä»¶åˆ†å‰²æŒ‰ç¬¬6ä¾‹åˆ†éš”æ–‡ä»¶ï¼Œä¼šäº§ç”Ÿå¾ˆå¤šå°æ–‡ä»¶awk &#39;NR!=1{print &gt; $6}&#39; netstat.txt awkçš„ä¸€äº›å†…å»ºå˜é‡ column column ARGC å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•° ARGV å‘½ä»¤è¡Œå‚æ•°æ’åˆ— ENVIRON æ”¯æŒé˜Ÿåˆ—ä¸­ç³»ç»Ÿç¯å¢ƒå˜é‡çš„ä½¿ç”¨ FILENAME awkæµè§ˆçš„æ–‡ä»¶å FNR æµè§ˆæ–‡ä»¶çš„è®°å½•æ•° FS è®¾ç½®è¾“å…¥åŸŸåˆ†éš”ç¬¦ï¼Œç­‰ä»·äºå‘½ä»¤è¡Œ NF æµè§ˆè®°å½•çš„åŸŸçš„ä¸ªæ•° NR å·²è¯»çš„è®°å½•æ•° OFS è¾“å‡ºåŸŸåˆ†éš”ç¬¦ ORS è¾“å‡ºè®°å½•åˆ†éš”ç¬¦ RS æ§åˆ¶è®°å½•åˆ†éš”ç¬¦ åº”ç”¨ä¸¾ä¾‹å¦‚æœæ–‡æ¡£ä¸ºç±»ä¼¼å¦‚RS ï¼ƒæ§åˆ¶è®°å½•åˆ†éš”ç¬¦è¿™æ ·çš„æ„æˆï¼Œæˆ‘ä»¬éœ€è¦Markdownçš„è¡¨æ ¼çš„ç”Ÿæˆï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ cat c.txt | awk -F &#39;#&#39; &#39;{print $1,$2}&#39; OFS=&quot;|&quot; | sed -e &#39;s/^/|/g&#39; -e &#39;s/$/|/g&#39; sedå­¦ä¹ æŒ‡å—sedå…¨åå«stream editorï¼Œæ˜¯ä¸€ç§åœ¨çº¿ç¼–è¾‘å™¨ï¼Œå®ƒä¸€æ¬¡å¤„ç†ä¸€è¡Œå†…å®¹ã€‚å¤„ç†æ—¶ï¼ŒæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸ºâ€œæ¨¡å¼ç©ºé—´â€ï¼ˆpattern spaceï¼‰ï¼Œæ¥ç€ç”¨sedå‘½ä»¤å¤„ç†ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¤„ç†å®Œæˆåï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹é€å¾€å±å¹•ã€‚æ¥ç€å¤„ç†ä¸‹ä¸€è¡Œï¼Œè¿™æ ·ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ã€‚ å“ªäº›è¡Œéœ€è¦ç¼–è¾‘ï¼å®šå€å®šå€ç”¨äºå†³å®šå¯¹å“ªäº›è¡Œè¿›è¡Œç¼–è¾‘ã€‚åœ°å€çš„å½¢å¼å¯ä»¥æ˜¯æ•°å­—ã€æ­£åˆ™è¡¨è¾¾å¼ã€æˆ–äºŒè€…çš„ç»“åˆã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šåœ°å€ï¼Œsedå°†å¤„ç†è¾“å…¥æ–‡ä»¶çš„æ‰€æœ‰è¡Œ åœ°å€æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œåˆ™è¡¨ç¤ºè¡Œå·ï¼›æ˜¯â€œ$â€ç¬¦å·ï¼Œåˆ™è¡¨ç¤ºæœ€åä¸€è¡Œã€‚ åœ°å€æ˜¯é€—å·åˆ†éš”çš„ï¼Œé‚£ä¹ˆéœ€è¦å¤„ç†çš„åœ°å€æ˜¯è¿™ä¸¤è¡Œä¹‹é—´çš„èŒƒå›´ï¼ˆåŒ…æ‹¬è¿™ä¸¤è¡Œåœ¨å†…ï¼‰ã€‚èŒƒå›´å¯ä»¥ç”¨æ•°å­—ã€æ­£åˆ™è¡¨è¾¾å¼ã€æˆ–äºŒè€…çš„ç»„åˆè¡¨ç¤ºã€‚ sed &#39;/My/,10d&#39; datafileä¸Šé¢çš„åˆ é™¤åŒ…å«â€Myâ€çš„è¡Œåˆ°ç¬¬åè¡Œçš„å†…å®¹ Sedçš„ä½¿ç”¨å‚æ•°-n ï¼šå®‰é™(silent)æ¨¡å¼ã€‚åœ¨ä¸€èˆ¬ sed çš„ç”¨æ³•ä¸­ï¼Œæ‰€æœ‰æ¥è‡ª STDIN çš„æ•°æ®ä¸€èˆ¬éƒ½ä¼šè¢«åˆ—å‡ºåˆ°ç»ˆç«¯ä¸Šã€‚åŠ ä¸Š -n å‚æ•°åï¼Œåˆ™åªæœ‰ç»è¿‡sed ç‰¹æ®Šå¤„ç†çš„é‚£ä¸€è¡Œ(æˆ–è€…åŠ¨ä½œ)æ‰ä¼šè¢«åˆ—å‡ºæ¥ã€‚-e ï¼šè¡¨ç¤ºç›´æ¥åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸Šè¿›è¡ŒSedçš„æ“ä½œï¼Œæ˜¯é»˜è®¤é€‰é¡¹ï¼Œä¸ç”¨å†™ï¼›-f ï¼šç›´æ¥å°† sed çš„åŠ¨ä½œå†™åœ¨ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œ -f filename åˆ™å¯ä»¥è¿è¡Œ filename å†…çš„ sed åŠ¨ä½œï¼›-r ï¼šè¡¨ç¤ºä½¿Sedæ”¯æŒæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ã€‚(é»˜è®¤æ˜¯åŸºç¡€æ­£è§„è¡¨ç¤ºæ³•è¯­æ³•)-i ï¼šç›´æ¥ä¿®æ”¹è¯»å–çš„æ–‡ä»¶å†…å®¹ï¼Œè€Œä¸æ˜¯è¾“å‡ºåˆ°ç»ˆç«¯n1ï¼Œn2ï¼šä¸ä¸€å®šéœ€è¦ï¼Œé€‰æ‹©è¦è¿›è¡Œå¤„ç†çš„è¡Œã€‚å¦‚10ï¼Œ20è¡¨ç¤ºåœ¨10~20è¡Œä¹‹é—´å¤„ç† Sedçš„actionï¼ˆåŠ¨ä½œï¼‰Sedçš„actionï¼ˆåŠ¨ä½œï¼‰æ”¯æŒå¦‚ä¸‹å‚æ•°ã€‚ aï¼šè¡¨ç¤ºæ·»åŠ ï¼Œåæ¥å­—ç¬¦ä¸²ï¼Œæ·»åŠ åˆ°å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œã€‚ cï¼šè¡¨ç¤ºæ›¿æ¢ï¼Œåæ¥å­—ç¬¦ä¸²ï¼Œç”¨å®ƒæ›¿æ¢n1åˆ°n2ä¹‹é—´çš„è¡Œã€‚ dï¼šè¡¨ç¤ºåˆ é™¤ç¬¦åˆæ¨¡å¼çš„è¡Œï¼Œå®ƒçš„è¯­æ³•ä¸ºsed â€˜/regexp/dâ€™ï¼Œæ–œæ ä¹‹é—´æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¨¡å¼åœ¨då‰é¢ï¼Œdåé¢ä¸€èˆ¬ä¸æ¥ä»»ä½•å†…å®¹ã€‚ iï¼šè¡¨ç¤ºæ’å…¥ï¼Œåæ¥å­—ç¬¦ä¸²ï¼Œæ·»åŠ åˆ°å½“å‰è¡Œçš„ä¸Šä¸€è¡Œã€‚ pï¼šè¡¨ç¤ºæ‰“å°ï¼Œæ‰“å°æŸä¸ªé€‰æ‹©çš„æ•°æ®ï¼Œé€šå¸¸ä¸-nå®‰é™æ¨¡å¼ä¸€èµ·ä½¿ç”¨ã€‚ sï¼šè¡¨ç¤ºæœç´¢ï¼Œè¿˜å¯ä»¥æ›¿æ¢ï¼Œç±»ä¼¼äºVimé‡Œçš„æœç´¢æ›¿æ¢åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š1ï¼Œ20s/old/new/gè¡¨ç¤ºæ›¿æ¢1~20è¡Œçš„oldä¸ºnewï¼Œgåœ¨è¿™é‡Œè¡¨ç¤ºå¤„ç†è¿™ä¸€è¡Œæ‰€æœ‰åŒ¹é…çš„å†…å®¹ã€‚ sedåº”ç”¨èŒƒä¾‹ç”¨så‘½ä»¤æ›¿æ¢å°†helloæ›¿æ¢ä¸ºâ€œä½ å¥½â€ sed &quot;s/hello/ä½ å¥½/g&quot; test.txt åŠ ä¸Šæ³¨é‡Š sed &#39;s/^/#/g&#39; test.txt -i å‚æ•°ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹sed -i &quot;s/hello/ä½ å¥½/g&quot; test.txt åˆ é™¤æ˜¾ç¤ºpasswdå†…å®¹ï¼Œå°†2~5è¡Œåˆ é™¤åæ˜¾ç¤ºcat -n /etc/passwd |sed &#39;2,5d&#39; æ·»åŠ è¡Œï¼Œä½¿ç”¨aå‘½ä»¤aå‘½ä»¤å°±æ˜¯append åœ¨ç¬¬2è¡Œåé¢çš„ä¸€è¡ŒåŠ ä¸Šâ€œHello Chinaï¼â€å­—ç¬¦ä¸² cat -n /etc/passwd |sed &#39;2a Hello China!&#39; iå‘½ä»¤å°±æ˜¯insertcat -n /etc/passwd |sed &#39;2i Hello China!&#39; æœ€åä¸€è¡Œåè¿½åŠ ä¸€è¡Œcat -n /etc/passwd |sed &#39;$a Over!&#39; nå‚æ•°ï¼Œåªæ˜¾ç¤ºç¬¬5~7è¡Œcat -n /etc/passwd |sed -n â€˜5,7pâ€™ ä¸€æ¬¡æ›¿æ¢å¤šä¸ªï¼ä½¿ç”¨åˆ†å·æŠŠç¬¬ä¸€è¡Œåˆ°ç¬¬ä¸‰è¡Œçš„myæ›¿æ¢æˆyourï¼Œç¬¬äºŒä¸ªåˆ™æŠŠç¬¬3è¡Œä»¥åçš„Thisæ›¿æ¢æˆäº†Thatsed &#39;1,3s/my/your/g; 3,$s/This/That/g&#39; test.txt ç”¨&amp;æ¥å½“åšè¢«åŒ¹é…çš„å˜é‡sed &#39;s/Hao/[&amp;]/g&#39; test.txt så‘½ä»¤ï¼æ•°æ®çš„æœå¯»å¹¶æ›¿æ¢sed &#39;s/è¦è¢«å–ä»£çš„å­—ä¸²/æ–°çš„å­—ä¸²/g&#39; cå‘½ä»¤ï¼æ›¿æ¢åŒ¹é…è¡Œsed &quot;2 c å–ç‰›å¥¶å“¦&quot; test.txt -i då‘½ä»¤ï¼åˆ é™¤åŒ¹é…è¡Œsed &#39;/ç‰›å¥¶/d&#39; test.txtæ•°æ®çš„æœå¯»å¹¶åˆ é™¤ æ›¿æ¢æ¢è¡ŒWindowsä¸‹æ¢è¡Œç¬¦å·æ˜¯â€œ\\r\\nâ€ï¼Œè€Œlinuxä¸‹æ˜¯â€œ\\nâ€æ²¡æœ‰â€\\râ€; sed -i &#39;s/\\r$//&#39; åµŒå¥—å‘½ä»¤å¯¹3è¡Œåˆ°ç¬¬6è¡Œï¼ŒåŒ¹é…/This/æˆåŠŸåï¼Œå†åŒ¹é…/fish/ï¼ŒæˆåŠŸåæ‰§è¡Œdå‘½ä»¤sed &#39;3,6 {/This/{/fish/d}}&#39; pets.txt ä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œï¼Œå¦‚æœåŒ¹é…åˆ°Thisï¼Œåˆ™åˆ é™¤ä¹‹ï¼›å¦‚æœå‰é¢æœ‰ç©ºæ ¼ï¼Œåˆ™å»é™¤ç©ºæ ¼sed &#39;1,${/This/d;s/^ *//g}&#39; pets.txt{ä¸­çš„;ç›¸å½“äº å¦‚æœ .. åˆ™ å¤šç‚¹ç¼–è¾‘ecat /etc/passwd | sed -e &#39;3,$d&#39; -e &#39;s/bash/blueshell/&#39;-eè¡¨ç¤ºå¤šç‚¹ç¼–è¾‘ï¼Œç¬¬ä¸€ä¸ªç¼–è¾‘å‘½ä»¤åˆ é™¤/etc/passwdç¬¬ä¸‰è¡Œåˆ°æœ«å°¾çš„æ•°æ®ï¼Œç¬¬äºŒæ¡å‘½ä»¤æœç´¢bashæ›¿æ¢ä¸ºblueshellã€‚ç›¸å½“äº and .. and ###æ“ä½œåŒ¹é…è¿ç»­çš„è¡Œsed &#39;/name/,+3s/^/# /g&#39; test.txt å‚è€ƒ sedå‘½ä»¤è¯¦è§£ sed ç®€æ˜æ•™ç¨‹ awkæ¡ˆä¾‹å­¦ä¹ ","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"redisé›†ç¾¤éƒ¨ç½²","slug":"13åŸºç¡€æŠ€æœ¯/redis/redisé›†ç¾¤éƒ¨ç½²","date":"2016-11-06T00:00:00.000Z","updated":"2018-12-10T15:40:47.163Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/redis/redisé›†ç¾¤éƒ¨ç½²/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/redis/redisé›†ç¾¤éƒ¨ç½²/","excerpt":"","text":"redisé›†ç¾¤éƒ¨ç½²cd /root/Downloadswget http://download.redis.io/releases/redis-3.2.8.tar.gzmkdir -p /opt/soft/ tar -zxf zxf redis-3.2.8.tar.gz -C /opt/soft/ cd /opt/softln -s redis-3.2.8 redis ä¸‹è½½æ–°ç‰ˆrediscd /root/Downloadswget http://download.redis.io/releases/redis-3.2.8.tar.gz è§£å‹mkdir -p /opt/soft/tar -zxf zxf redis-3.2.8.tar.gz -C /opt/soft/ åŠ è½¯è¿æ¥cd /opt/soft/ln -s redis-3.2.8 redis ç¼–è¯‘redisyum -y install gcc tclcd /opt/soft/redis/srcmake MALLOC=libcæ£€æŸ¥æœ‰æ²¡æœ‰é”™è¯¯ï¼Œ make test æ·»åŠ ç¯å¢ƒå˜é‡vim /etc/profileexport PATH=$PATH:/opt/soft/redis/srcsource /etc/profile ä¿®æ”¹é…ç½®æ–‡ä»¶cd /opt/soft/rediscp redis.conf redis-7000.confvim redis-7000.confdaemonize no æ”¹ä¸º yes # æ˜¯å¦åå°è¿è¡Œport 7000 #ç«¯å£ï¼Œå¦‚æœåœ¨åŒä¸€å°æœºå™¨ä½¿ç”¨ï¼Œæ³¨æ„ä¿®æ”¹ç«¯å£tcp-keepalive 60 ##bind1 27.0.0.1 #æ³¨è§£æ­¤é…ç½®ï¼Œå¦åˆ™ä»»ä½•ä½¿ç”¨éƒ½éœ€è¦ç¬¦åˆæ­¤ipé™åˆ¶pidfile redis.pid #æ‰€æœ‰fileé»˜è®¤åœ¨diré…ç½®çš„ç›®å½•ä¸‹é¢stop-writes-on-bgsave-error no #rdbå†™å¤±è´¥ä¸å½±å“åç»­å†™å…¥rdbchecksumno #æ£€æŸ¥rdbæ˜¯å¦æ­£ç¡®ï¼ŒæŸå¤±10%æ€§èƒ½dir /opt/soft/redis/data-7000 #dataæ–‡ä»¶å­˜æ”¾ä½ç½®protected-mode no#å…³é—­ä¿æŠ¤æ¨¡å¼cluster-enabled yes #å¼€å¯é›†ç¾¤cluster-config-file nodes.conf #é›†ç¾¤é…ç½®cluster-node-timeout 15000 #è¶…æ—¶æ£€æµ‹æ—¶é—´cluster-slave-validity-factor0#é˜²æ­¢slaveä¸å†failoverå¯¼è‡´é›†ç¾¤ä¸å¯ç”¨cluster-require-full-coverage no #æ§½ç‚¹ä¸¢å¤±ä¸å½±å“å…¶ä»–éƒ¨åˆ†ä½¿ç”¨appendonly no #å…³é—­aofæ¨¡å¼ å»ºç«‹7001æ–‡ä»¶å’Œ7002æ–‡ä»¶cp redis-7000.conf redis-7001.confcp redis-7000.conf redis-7002.conf æ›¿æ¢é…ç½®æ–‡ä»¶vim redis-7001.conf:%s/7000/7001/g vim redis-7002.conf:%s/7000/7002/g 7001ï¼Œ7002ï¼Œcopyåˆ°ç¬¬äºŒå°æœåŠ¡å™¨ å»ºç«‹æ•°æ®ç›®å½•redisé›†ç¾¤æœ€å°‘3masterï¼Œ3slaveã€‚æ ¹æ®æœºå™¨åŠå…¶æ€§èƒ½åˆ†é…mkdir data-7000 data-7001 data-7002 å¯åŠ¨6ä¸ªrediså®ä¾‹æœåŠ¡è„šæœ¬æ–‡ä»¶åœ¨rediså®‰è£…ç›®å½•çš„utilsæ–‡ä»¶å¤¹é‡Œredis_init_scriptä¿®æ”¹ä¸‹å°±å¯ç”¨cp utils/redis_init_script /etc/init.d/redis-7000 ä¿®æ”¹å‰5é¡¹é…ç½®REDISPORT=7000EXEC=/opt/soft/redis/src/redis-serverCLIEXEC=/opt/soft/redis/src/redis-cli PIDFILE=/opt/soft/redis/data-${REDISPORT}/redis.pidCONF=â€/opt/soft/redis/redis-${REDISPORT}.confâ€PASSWORD=wdzj2015 case â€œ$1â€ instart)if [ -f $PIDFILE ]thenecho â€œ$PIDFILE exists, process is already running or crashedâ€elseecho â€œStarting Redis serverâ€¦â€ $EXEC $CONFfi ;;stop)if [ ! -f $PIDFILE ]thenecho â€œ$PIDFILE does not exist, process is not runningâ€else PID=$(cat $PIDFILE)echo â€œStopping â€¦â€if [ -n $PASSWORD ]then $CLIEXEC -p $REDISPORT -a $PASSWORD shutdownelse $CLIEXEC -p $REDISPORT shutdownfiwhile [ -x /proc/${PID} ]doecho â€œWaiting for Redis to shutdown â€¦â€sleep 1doneecho â€œRedis stoppedâ€fi ;; *)echo â€œPlease use start or stop as first argumentâ€ ;;esaccp /etc/init.d/redis-7000 /etc/init.d/redis-7001 ä¿®æ”¹ç«¯å£7000ä¸º7001å³å¯cp /etc/init.d/redis-7000 /etc/init.d/redis-7002 ä¿®æ”¹ç«¯å£7000ä¸º7002å³å¯service redis-7000 startservice redis-7001 startservice redis-7002 start ps -ef | grep redis å®‰è£…æ‰§è¡Œé›†ç¾¤éœ€è¦çš„ç¯å¢ƒyum install -y rubyyum install -y rubygemsgem install redis é…ç½®é›†ç¾¤redis-trib.rb create â€“replicas 1 192.168.11.46:7000 192.168.11.47:7001 192.168.11.46:7002 192.168.11.47:7000 192.168.11.46:7001 192.168.11.47:7002redis-trib.rbæœ€å°‘3ä¸ªå‚æ•°ï¼Œå¦åˆ™æŠ¥é”™ é»˜è®¤å‰3ä¸ªæ˜¯masterï¼Œå3ä¸ªæ˜¯slaveCan I set the above configuration? (type â€˜yesâ€™ to accept): yeså…è®¸redisä¿®æ”¹èŠ‚ç‚¹ä¿¡æ¯ é›†ç¾¤é…ç½®å®Œæˆã€‚å¦‚æœå‡ºç°é•¿æ—¶é—´waitå¯ä»¥è§†ä¸ºåˆ›å»ºå¤±è´¥ï¼Œåœæ‰æ‰€æœ‰æœåŠ¡ï¼Œåˆ é™¤æ‰€æœ‰nodes.confï¼Œæ–‡ä»¶åœ¨confçš„$dirä¸‹ï¼›åˆ é™¤åé‡å¯redisï¼Œé‡æ–°æ‰§è¡Œç¬¬åæ­¥ï¼Œç›´åˆ°æˆåŠŸ æ£€æŸ¥æ˜¯å¦é…ç½®å¥½ps-ef|grep redis å®‰è£…æˆåŠŸï¼Œæ£€æµ‹èŠ‚ç‚¹çŠ¶æ€ç™»é™†redisredis-cli -p 7000 -a wdzj2015 â€“credis-cli -h 192.168.11.123 -p 7006 -cæ‰§è¡ŒclusternodesæŸ¥çœ‹æ˜¯å¦3master3slaveï¼Œå¦‚å›¾ï¼š æ²¡æœ‰failå°±è¡¨æ˜å®‰è£…æˆåŠŸã€‚å¦‚æœæœ‰failæ£€æµ‹ç½‘ç»œæƒ…å†µã€‚å¦‚æœä¸è¶³6ä¸ªè¯·é‡å¤ç¬¬10æ­¥åˆ é™¤nodes.confåé‡æ–°åˆ›å»ºèŠ‚ç‚¹ã€‚ æ£€æŸ¥èŠ‚ç‚¹./redis-trib.rb check 10.254.62.12:7001 redis-cli -p 7000 -a hyjk2017 -cæµ‹è¯• SET abc abcvalue EX 60 NX å‚è€ƒhttp://blog.csdn.net/huwei2003/article/details/50973967http://blog.csdn.net/naixiyi/article/details/51339374http://blog.csdn.net/yyyuuueeee/article/details/52249732http://www.tuicool.com/articles/bUVRNn2https://yq.aliyun.com/articles/61734 temphttp://blog.csdn.net/fengyong7723131/article/details/52995592 http://blog.csdn.net/sanwenyublog/article/details/53167544","categories":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://yoursite.com/tags/Redis/"}],"keywords":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}]},{"title":"æˆ‘çš„Viå¸¸ç”¨æ“ä½œ","slug":"13åŸºç¡€æŠ€æœ¯/linux/viæ€»ç»“","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.058Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/viæ€»ç»“/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/viæ€»ç»“/","excerpt":"","text":"Viå¸¸ç”¨å‘½ä»¤å®šä½gg: æ–‡ç« å¤´éƒ¨G:ç§»è‡³æ–‡ç« å°¾ï¼Œè¡Œé¦–:3 åˆ°ç¬¬3è¡Œ A: è¿›å…¥è¡Œæœ«ï¼Œå¹¶è¿›å…¥ç¼–è¾‘$å…‰æ ‡ç§»è‡³è¡Œå°¾æ•°å­—0ï¼Œç§»è‡³è¡Œé¦– ctrl+F:ä¸‹ä¸€å±æ–‡æœ¬ï¼Œctrl+B:ä¸Šä¸€å±æ–‡æœ¬ åˆ é™¤ç›¸å…³d$åˆ é™¤è‡³è¡Œæœ«å°¾ï¼Œdï¼‹ shiftdGåˆ é™¤åˆ°æ–‡ç« å°¾éƒ¨ï¼ŒåŒ…å«æœ¬è¡Œx,åˆ é™¤å…‰æ ‡åçš„å­—æ¯s åˆ é™¤å½“å‰å­—æ¯ï¼Œå¹¶è¿›å…¥åˆ é™¤æ¨¡å¼dd åˆ é™¤ä¸€è¡Œ:5dåˆ é™¤ç¬¬5è¡Œæ–‡æœ¬ï¼Œï¼š6ï¼Œ15dåˆ é™¤ç¬¬6-15è¡Œä¹‹é—´çš„æ–‡æœ¬ ##deleteô²“ã€ô²˜ôº´ô²‘yankô²“ä¸ôºµôº¶ô²‘putô²“ô°šô°›yy å¤åˆ¶è¡Œpä¸ºå¤åˆ¶x p å‰ªåˆ‡ä¸€ä¸ªå­—ç¬¦ y$æˆªå‡ºä»å…‰æ ‡åˆ°è¡Œæœ«ä¹‹é—´çš„æ–‡æœ¬ ##ç§»åŠ¨:1,2 move 3å°†1ï¼Œ2è¡Œç§»åˆ°3è¡Œä¸‹ æŸ¥æ‰¾æœç´¢å¤šä¸ª/ ? n N ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ª æœç´¢ä¸€ä¸ªå­—ç¬¦f F è¡Œå†…æœç´¢ , ï¼›ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ª æ›¿æ¢r R æ›¿æ¢å½“å‰å­—ç¬¦ï¼åé¢çš„å­—ç¬¦ç›´åˆ°æŒ‰ä¸‹ã€ŒESCã€é”®ä¸ºæ­¢ % s/10.65.215.13:8150/127.0.0.1:8090/gå¦‚æœåŒ…å«ç‰¹æ®Šç¬¦å·% s/base.vfinance.cn\\/pns/func2intra.vfinance.cn\\/pns/g æ³¨æ„ä¸è¦å¿˜äº†% æ’¤é”€ä¸é‡åšu æ’¤é”€3u ä¸‰æ¬¡æ’¤é”€U æ’¤é”€æœ¬è¡Œæ‰€ä½œçš„ä¿®æ”¹ctrl +r é‡åš ç»¼åˆæ“ä½œæŠ€å·§ä»¥rootæƒé™è¿›è¡Œä¿å­˜:w !sudo tee % &gt; /dev/null å¤åˆ¶ä¸€è¡Œï¼Œå¹¶ç²˜è´´yyp å‰ªåˆ‡ä¸€è¡Œå’Œç²˜è´´ddp å‚çœ‹å½“å‰çš„æ–‡ä»¶ä¿¡æ¯ctrl + g æ›¿æ¢æŒ‡å®šçš„è¡Œset number:39,44s/task/abc/g è¿›è¡Œå¤§å°å†™è½¬æ¢å…ˆé€‰ä¸­v,u å°å†™U å¤§å†™ ##è·³åˆ°å¤šå°‘è¡Œ11G è·³åˆ°11è¡Œ ##ä½¿ç”¨.è¿›è¡Œé‡å¤æ“ä½œ åˆ é™¤åˆ—å…‰æ ‡å…ˆç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œï¼Œç¬¬ä¸€åˆ—ï¼Œç„¶åæŒ‰ctrl + vï¼Œè¿›å…¥visual blockæ¨¡å¼ ç„¶åæŠŠå…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸‰è¡Œï¼Œç¬¬ä¸‰åˆ—ï¼Œå†æŒ‰xé”® ä¸€è¾¹æœç´¢ä¸€è¾¹æ›¿æ¢ä¾‹å¦‚éœ€è¦æŠŠhelloæ›¿æ¢ä¸ºä½ å¥½/Applayvsä½ å¥½ä½¿ç”¨n,è¿›è¡ŒæŸ¥è¯¢ï¼Œç„¶åä½¿ç”¨.å·è¿›è¡Œé‡å¤ ##åˆå¹¶J:å°†ä¸‹ä¸€è¡ŒåŒå½“å‰è¡Œåˆå¹¶","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"å¤šçº¿ç¨‹å¹¶å‘æ§åˆ¶æ–¹æ³•","slug":"22programming/java/thread/å¤šçº¿çš„å¸¸ç”¨ä½¿ç”¨","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.103Z","comments":true,"path":"2016/11/06/22programming/java/thread/å¤šçº¿çš„å¸¸ç”¨ä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/å¤šçº¿çš„å¸¸ç”¨ä½¿ç”¨/","excerpt":"","text":"å¤šçº¿ç¨‹å¹¶å‘æ§åˆ¶æ–¹æ³•ç­‰å¾…å¤šçº¿ç¨‹å®Œæˆåœºæ™¯ï¼šæˆ‘ä»¬éœ€è¦è§£æä¸€ä¸ªExcelé‡Œå¤šä¸ªsheetçš„æ•°æ®ï¼Œæ­¤æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹è§£æä¸€ä¸ªsheeté‡Œçš„æ•°æ®ï¼Œç­‰åˆ°æ‰€æœ‰çš„sheetéƒ½è§£æå®Œä¹‹åï¼Œç¨‹åºéœ€è¦æç¤ºè§£æå®Œæˆã€‚åœ¨è¿™ä¸ªéœ€æ±‚ä¸­ï¼Œè¦å®ç°ä¸»çº¿ç¨‹ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆsheetçš„è§£ææ“ä½œã€‚ ä½¿ç”¨joinä»£ç å®ä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617181920public static void main(String[] args) throws InterruptedException &#123; Thread parser1 = new Thread(new Runnable() &#123; @Override public void run() &#123; &#125; &#125;); Thread parser2 = new Thread(new Runnable() &#123; @Override public void run() &#123; System.out.println(&quot;parser2 finish&quot;); &#125; &#125;); parser1.start(); parser2.start(); parser1.join(); parser2.join(); System.out.println(&quot;all parser finish&quot;); &#125; joinç”¨äºè®©å½“å‰æ‰§è¡Œçº¿ç¨‹ç­‰å¾…joinçº¿ç¨‹æ‰§è¡Œç»“æŸã€‚å…¶å®ç°åŸç†æ˜¯ä¸åœæ£€æŸ¥joinçº¿ç¨‹æ˜¯å¦å­˜æ´»ï¼Œå¦‚æœjoinçº¿ç¨‹å­˜æ´»åˆ™è®©å½“å‰çº¿ç¨‹æ°¸è¿œç­‰å¾…ã€‚joinçš„ä»£ç å¦‚ä¸‹123456789101112131415161718192021222324public final synchronized void join(long millis) throws InterruptedException &#123; long base = System.currentTimeMillis(); long now = 0; if (millis &lt; 0) &#123; throw new IllegalArgumentException(&quot;timeout value is negative&quot;); &#125; if (millis == 0) &#123; while (isAlive()) &#123; wait(0); &#125; &#125; else &#123; while (isAlive()) &#123; long delay = millis - now; if (delay &lt;= 0) &#123; break; &#125; wait(delay); now = System.currentTimeMillis() - base; &#125; &#125; &#125; å½“çº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€æ—¶ï¼ŒisAliveè¿”å›trueã€‚waitï¼ˆ0ï¼‰è¡¨ç¤ºæ°¸è¿œåœ¨è°ƒç”¨joinçš„çº¿ç¨‹ä¸Šç­‰å¾…ä¸‹å»ã€‚ç›´åˆ°joinçº¿ç¨‹ä¸­æ­¢åï¼Œçº¿ç¨‹çš„this.notifyAll()æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œè°ƒç”¨notifyAll()æ–¹æ³•æ˜¯åœ¨JVMé‡Œå®ç°çš„ã€‚ ä½¿ç”¨CountDownLatch12345678910111213141516171819public class CountDownLatchTest &#123; static CountDownLatch latch = new CountDownLatch(2); public static void main(String[] args) throws InterruptedException &#123; new Thread(new Runnable() &#123; @Override public void run() &#123; System.out.println(1); latch.countDown(); System.out.println(2); latch.countDown(); &#125; &#125;).start(); latch.await(); System.out.println(&quot;3&quot;); &#125;&#125; ç­‰å¾…å¤šçº¿ç¨‹åœ¨ä¸€ç‚¹åŒæ—¶æ‰§è¡ŒCyclicBarrierCyclicBarrierçš„å­—é¢æ„æ€æ˜¯å¯å¾ªç¯ä½¿ç”¨ï¼ˆCyclicï¼‰çš„å±éšœï¼ˆBarrierï¼‰ã€‚å®ƒè¦åšçš„äº‹æƒ…æ˜¯ï¼Œè®©ä¸€ç»„çº¿ç¨‹åˆ°è¾¾ä¸€ä¸ªå±éšœï¼ˆä¹Ÿå¯ä»¥å«åŒæ­¥ç‚¹ï¼‰æ—¶è¢«é˜»å¡ï¼Œç›´åˆ°æœ€åä¸€ä¸ªçº¿ç¨‹åˆ°è¾¾å±éšœæ—¶ï¼Œå±éšœæ‰ä¼šå¼€é—¨ï¼Œæ‰€æœ‰è¢«å±éšœæ‹¦æˆªçš„çº¿ç¨‹æ‰ä¼šç»§ç»­è¿è¡Œã€‚ CyclicBarrieråˆå§‹åŒ–æ—¶è§„å®šä¸€ä¸ªå±éšœæ‹¦æˆªçš„çº¿ç¨‹æ•°é‡ï¼Œç„¶åè®¡ç®—è°ƒç”¨äº†CyclicBarrier.await()è¿›å…¥ç­‰å¾…çš„çº¿ç¨‹æ•°ã€‚å½“çº¿ç¨‹æ•°è¾¾åˆ°äº†è¿™ä¸ªæ•°ç›®æ—¶ï¼Œæ‰€æœ‰è¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹è¢«å”¤é†’å¹¶ç»§ç»­ã€‚CyclicBarrieråˆå§‹æ—¶è¿˜å¯å¸¦ä¸€ä¸ªRunnableçš„å‚æ•°ï¼Œ æ­¤Runnableä»»åŠ¡åœ¨CyclicBarrierçš„æ•°ç›®è¾¾åˆ°åï¼Œæ‰€æœ‰å…¶å®ƒçº¿ç¨‹è¢«å”¤é†’å‰è¢«æ‰§è¡Œã€‚ å®ä¾‹ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class TestCyclicBarrier &#123; private static final int THREAD_NUM = 5; public static class WorkerThread implements Runnable &#123; CyclicBarrier barrier; public WorkerThread(CyclicBarrier b) &#123; this.barrier = b; &#125; @Override public void run() &#123; // TODO Auto-generated method stub try &#123; System.out.println(&quot;Worker&apos;s waiting&quot;); //çº¿ç¨‹åœ¨è¿™é‡Œç­‰å¾…ï¼Œç›´åˆ°æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾barrierã€‚ barrier.await(); System.out.println(&quot;ID:&quot; + Thread.currentThread().getId() + &quot; Working&quot;); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; &#125; /** * @param args */ public static void main(String[] args) &#123; // TODO Auto-generated method stub CyclicBarrier cb = new CyclicBarrier(THREAD_NUM, new Runnable() &#123; //å½“æ‰€æœ‰çº¿ç¨‹åˆ°è¾¾barrieræ—¶æ‰§è¡Œ @Override public void run() &#123; // TODO Auto-generated method stub System.out.println(&quot;Inside Barrier&quot;); &#125; &#125;); for (int i = 0; i &lt; THREAD_NUM; i++) &#123; new Thread(new WorkerThread(cb)).start(); &#125; &#125;&#125; CountDownLatchçš„è®¡æ•°å™¨åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œè€ŒCyclicBarrierçš„è®¡æ•°å™¨å¯ä»¥ä½¿ç”¨reset()æ–¹æ³•é‡ç½®ã€‚æ‰€ä»¥CyclicBarrierèƒ½å¤„ç†æ›´ä¸ºå¤æ‚çš„ä¸šåŠ¡åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè®¡ç®—å‘ç”Ÿé”™è¯¯ï¼Œå¯ä»¥é‡ç½®è®¡æ•°å™¨ï¼Œå¹¶è®©çº¿ç¨‹é‡æ–°æ‰§è¡Œä¸€æ¬¡ã€‚ æ§åˆ¶å¹¶å‘è®¿é—®ç‰¹å®šèµ„æºçš„çº¿ç¨‹æ•°é‡Semaphoreï¼ˆä¿¡å·é‡ï¼‰æ˜¯ç”¨æ¥æ§åˆ¶åŒæ—¶è®¿é—®ç‰¹å®šèµ„æºçš„çº¿ç¨‹æ•°é‡ã€‚ 1234567891011121314151617181920212223242526public class SemaphoreTest &#123; private static final int THREAD_COUNT = 30; private static ExecutorService threadPool = Executors.newFixedThreadPool(THREAD_COUNT); private static Semaphore s = new Semaphore(10); public static void main(String[] args) &#123; for (int i = 0; i &lt; THREAD_COUNT; i++) &#123; threadPool.execute(new Runnable() &#123; @Override public void run() &#123; try &#123; s.acquire(); System.out.println(&quot;save data&quot;); s.release(); &#125; catch (InterruptedException e) &#123; &#125; &#125; &#125;); &#125; threadPool.shutdown(); &#125;&#125; ä¸ºäº†åˆ›å»ºä¿¡å·é‡ï¼Œå¿…é¡»ä½¿ç”¨å¯é€‰çš„å…¬å¹³ç­–ç•¥æ¥ç¡®å®šè®¸å¯çš„æ•°é‡ã€‚ä»»åŠ¡é€šè¿‡è°ƒç”¨ä¿¡å·é‡acquireï¼ˆï¼‰ æ–¹æ³•æ¥è·å¾—è®¸å¯ï¼Œå¯é€šè¿‡è°ƒç”¨ä¿¡å·é‡çš„releaseï¼ˆï¼‰æ–¹æ³•æ¥é‡Šæ”¾è®¸å¯ã€‚ä¸€æ—¦è·å¾—è®¸å¯ï¼Œä¿¡å·é‡ä¸­å¯ç”¨è®¸å¯çš„æ•°é‡å‡ä¸€ã€‚ä¸€æ—¦é‡Šæ”¾ï¼Œä¿¡å·é‡çš„å¯ç”¨è®¸å¯çš„æ€»æ•°åŠ 1ã€‚ Semaphore vs çº¿ç¨‹æ± çº¿ç¨‹æ± æ§åˆ¶çš„æ˜¯çº¿ç¨‹æ•°é‡ï¼Œè€Œä¿¡å·é‡æ§åˆ¶çš„æ˜¯å¹¶å‘æ•°é‡ï¼Œ ä¿¡å·é‡çš„è°ƒç”¨ï¼Œå½“è¾¾åˆ°æ•°é‡åï¼Œçº¿ç¨‹è¿˜æ˜¯å­˜åœ¨çš„ï¼Œåªæ˜¯è¢«æŒ‚èµ·äº†è€Œå·²ã€‚è€Œçº¿ç¨‹æ± ï¼ŒåŒæ—¶æ‰§è¡Œçš„çº¿ç¨‹æ•°é‡æ˜¯å›ºå®šçš„ï¼Œè¶…è¿‡äº†æ•°é‡çš„åªèƒ½ç­‰å¾…ã€‚çº¿ç¨‹æ± æ˜¯çº¿ç¨‹å¤ç”¨çš„ï¼›ä¿¡å·é‡æ˜¯çº¿ç¨‹åŒæ­¥çš„ã€‚ ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´äº¤æ¢æ•°æ®ä½¿ç”¨Exchangerå½“çº¿ç¨‹Aè°ƒç”¨Exchangeå¯¹è±¡çš„exchange()æ–¹æ³•åï¼Œä»–ä¼šé™·å…¥é˜»å¡çŠ¶æ€ï¼Œç›´åˆ°çº¿ç¨‹Bä¹Ÿè°ƒç”¨äº†exchange()æ–¹æ³•ï¼Œç„¶åä»¥çº¿ç¨‹å®‰å…¨çš„æ–¹å¼äº¤æ¢æ•°æ®ï¼Œä¹‹åçº¿ç¨‹Aå’ŒBç»§ç»­è¿è¡Œã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172public class ExchangerTest &#123; private static volatile boolean isDone = false; static class ExchangerProducer implements Runnable &#123; private Exchanger&lt;Integer&gt; exchanger; private static int data = 1; ExchangerProducer(Exchanger&lt;Integer&gt; exchanger) &#123; this.exchanger = exchanger; &#125; @Override public void run() &#123; while (!Thread.interrupted() &amp;&amp; !isDone) &#123; for (int i = 1; i &lt;= 3; i++) &#123; try &#123; TimeUnit.SECONDS.sleep(1); data = i; System.out.println(&quot;producer before: &quot; + data); data = exchanger.exchange(data); System.out.println(&quot;producer after: &quot; + data); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; isDone = true; &#125; &#125; &#125; static class ExchangerConsumer implements Runnable &#123; private Exchanger&lt;Integer&gt; exchanger; private static int data = 0; ExchangerConsumer(Exchanger&lt;Integer&gt; exchanger) &#123; this.exchanger = exchanger; &#125; @Override public void run() &#123; while (!Thread.interrupted() &amp;&amp; !isDone) &#123; data = 0; System.out.println(&quot;consumer before : &quot; + data); try &#123; TimeUnit.SECONDS.sleep(1); data = exchanger.exchange(data); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println(&quot;consumer after : &quot; + data); &#125; &#125; &#125; /** * @param args */ public static void main(String[] args) &#123; ExecutorService exec = Executors.newCachedThreadPool(); Exchanger&lt;Integer&gt; exchanger = new Exchanger&lt;Integer&gt;(); ExchangerProducer producer = new ExchangerProducer(exchanger); ExchangerConsumer consumer = new ExchangerConsumer(exchanger); exec.execute(producer); exec.execute(consumer); exec.shutdown(); try &#123; exec.awaitTermination(30, TimeUnit.SECONDS); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125;","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"http://yoursite.com/tags/é«˜å¹¶å‘/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"},{"name":"æºç é˜…è¯»","slug":"æºç é˜…è¯»","permalink":"http://yoursite.com/tags/æºç é˜…è¯»/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"btraceå­¦ä¹ ","slug":"22programming/java/jvm/btraceå­¦ä¹ ","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.098Z","comments":true,"path":"2016/11/06/22programming/java/jvm/btraceå­¦ä¹ /","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/jvm/btraceå­¦ä¹ /","excerpt":"","text":"#åŠŸèƒ½ä»‹ç»ï¼Ÿ Btrace (Byte Trace)æ˜¯sunæ¨å‡ºçš„ä¸€æ¬¾java åŠ¨æ€ã€å®‰å…¨è¿½è¸ªï¼ˆç›‘æ§ï¼‰å·¥å…·ï¼Œå¯ä»¥ä¸åœæœºçš„æƒ…å†µä¸‹ç›‘æ§çº¿ä¸Šæƒ…å†µï¼Œå¹¶ä¸”åšåˆ°æœ€å°‘çš„ä¾µå…¥ï¼Œå ç”¨æœ€å°‘çš„ç³»ç»Ÿèµ„æºã€‚ BTraceåˆ©ç”¨äº†java.lang.instrumentåŒ…å®ç°ä»£ç æ³¨å…¥é€šè¿‡VirtualMachine.attach(pid)è¿æ¥è¿œç¨‹JVMï¼Œç„¶åé€šè¿‡VirtualMachine.loadAgent(â€œ*.jarâ€)åŠ è½½ä¸€ä¸ªbtraceçš„jaråŒ…é€šè¿‡ASMåŠ¨æ€ç”Ÿæˆå­—èŠ‚ç ã€‚ åŸºæœ¬ä½¿ç”¨è¿è¡Œä¸€ä¸ªJavaç¨‹åº123456789101112131415161718192021222324252627public class MockApp &#123; public static void main(String[] argv) &#123; new MockApp().run(); &#125; public void run() &#123; for (int i = 0; i &lt; 100000; i++) &#123; sleep(1000); new MyObj().life(i); &#125; &#125; private static class MyObj &#123; public void life(int n) &#123; System.out.println(n); &#125; &#125; private void sleep(int n) &#123; try &#123; Thread.sleep(n); &#125; catch (InterruptedException e) &#123; &#125; &#125;&#125; jpså‘½ä»¤æŸ¥å‡ºéœ€è¦ç›‘æ§çš„jvm pidjps 4144 Jps5864141 AppMain4142 Launcher å¯ä»¥çœ‹åˆ°pidä¸º4142 æ¯æ¬¡éƒ½æ‰¾ï¼Œå¾ˆéº»çƒ¦ï¼Œå¯ä»¥ä½¿ç”¨ï¼šjps | grep AppMain | awk &#39;{print $1}&#39; | xargs -I {} btrace {} sample/HelloBtrace.java ç¼–å†™BTraceè·Ÿè¸ªç¨‹åº12345678910111213141516171819package sample;import com.sun.btrace.annotations.BTrace;import com.sun.btrace.annotations.Kind;import com.sun.btrace.annotations.Location;import com.sun.btrace.annotations.OnMethod;import static com.sun.btrace.BTraceUtils.println;@BTracepublic class HelloBtrace &#123; // app.MockApp.sleepæ–¹æ³•è¿”å›æ—¶ï¼Œæ‰§è¡Œè¯¥æ–¹æ³• @OnMethod(clazz=&quot;app.MockApp&quot;, method=&quot;sleep&quot;, location=@Location(Kind.RETURN)) public static void onSleep() &#123; println(&quot;Hello world&quot;); &#125;&#125; æ‰§è¡Œbtrace è·Ÿè¸ªç¨‹åºbtrace 4141 sample/HelloBtrace.java å¸¸ç”¨æ³¨è§£ç±»ä¸Šçš„æ³¨è§£ åç§° ä½œç”¨åŸŸ ä½œç”¨ @BTrace ç±» ç”¨æ¥æŒ‡å®šè¯¥javaç±»ä¸ºä¸€ä¸ªbtraceè„šæœ¬æ–‡ä»¶ @DTrace ç±» æŒ‡å®šbtraceè„šæœ¬ä¸å†…ç½®åœ¨å…¶è„šæœ¬ä¸­çš„Dè¯­è¨€è„šæœ¬å…³è” @DTraceRef ç±» æŒ‡å®šbtraceè„šæœ¬ä¸å¦ä¸€ä¸ªDè¯­è¨€è„šæœ¬æ–‡ä»¶å…³è” æ–¹æ³•ä¸Šçš„æ³¨è§£ åç§° ä½œç”¨åŸŸ ä½œç”¨ @OnMethod(clazz,method,location) æ–¹æ³• å½“æŒ‡å®šæ–¹æ³•è¢«è°ƒç”¨æ—¶ @OnMethod(method=â€â€œ) æ–¹æ³• å½“æ„é€ å‡½æ•°è¢«è°ƒç”¨æ—¶ @OnMethod(clazz=â€/java\\.io\\..*Input/â€œ)) æ–¹æ³• æ–¹æ³•åç§°æ­£åˆ™åŒ¹é… @Location(kind) @OnMethod æŒ‡å®šç›‘æ§æ–¹æ³•è°ƒç”¨å‰è¿˜æ˜¯è°ƒç”¨å @Location(value=Kind.NEWARRAY,clazz=â€charâ€) @OnMethod @OnTimer(interval) æ–¹æ³• å®šæ—¶è°ƒç”¨æŸä¸ªæ–¹æ³• @OnLowMemory(pool,threshold) æ–¹æ³• å½“å†…å­˜ä¸è¶³æ—¶ @OnExit æ–¹æ³• å½“ç¨‹åºé€€å‡ºæ—¶ @OnProbe(namespace=â€java.net.socketâ€,name=â€bindâ€) æ–¹æ³• ç›‘æ§socketä¸­çš„bindæ–¹æ³• å‚æ•°ä¸Šçš„æ³¨è§£ åç§° ä½œç”¨åŸŸ ä½œç”¨ @Self å‚æ•° è¡¨ç¤ºè¢«ç›‘æ§çš„å¯¹è±¡ @Return å‚æ•° ç”¨æ¥æŒ‡å®šè¢«traceæ–¹æ³•çš„è¿”å›å€¼ @ProbeMethodName å‚æ•° è¢«ç›‘æ§çš„æ–¹æ³•åç§° @ProbeClassName å‚æ•° è¢«ç›‘æ§çš„ç±»å éæ³¨è§£çš„æ–¹æ³•å‚æ•°æœªä½¿ç”¨æ³¨è§£çš„æ–¹æ³•å‚æ•°ä¸€èˆ¬éƒ½æ˜¯ç”¨æ¥åšæ–¹æ³•ç­¾ååŒ¹é…ç”¨çš„, ä»–ä»¬ä¸€èˆ¬å’Œè¢«traceæ–¹æ³•ä¸­å‚æ•°å‡ºç°çš„é¡ºåºä¸€è‡´. ä¸è¿‡ä»–ä»¬ä¹Ÿå¯ä»¥ä¸æ³¨è§£æ–¹æ³•äº¤é”™ä½¿ç”¨, å¦‚æœä¸€ä¸ªå‚æ•°ç±»å‹å£°æ˜ä¸ºAnyType[], åˆ™è¡¨æ˜å®ƒæŒ‰é¡ºåºâ€é€šåƒâ€æ–¹æ³•æ‰€æœ‰å‚æ•°. æœªæ³¨è§£æ–¹æ³•éœ€è¦ä¸Locationç»“åˆä½¿ç”¨: æ–¹æ³• ä½œç”¨ Kind.ENTRY è¢«traceæ–¹æ³•å‚æ•° Kind.RETURN è¢«traceæ–¹æ³•è¿”å›å€¼ Kind.THROW æŠ›å¼‚å¸¸ Kind.ARRAY_SET, Kind.ARRAY_GET æ•°ç»„ç´¢å¼• Kind.CATCH æ•è·å¼‚å¸¸ Kind.FIELD_SET å±æ€§å€¼ Kind.LINE è¡Œå· Kind.NEW ç±»å Kind.ERROR æŠ›å¼‚å¸¸ Kind.ENTRY æ˜¯å’Œ Kind.RETURN å¯¹åº”çš„ï¼Œ @OnMethod(location = @Location(Kind.RETURN)) è¡¨ç¤ºç›®æ ‡æ–¹æ³•è¿”å›æ—¶è§¦å‘ï¼›ENTRYè¡¨ç¤ºè¿›å…¥æ—¶è§¦å‘ã€‚ Kind.CALL å’Œ Kind.LINE ä½œç”¨ç±»ä¼¼@OnMethod(location = @Location(value = Kind.CALL, clazz = â€œaâ€, method = â€œbâ€)) æŒ‡ç›®æ ‡æ–¹æ³•ä½“å¦‚æœè°ƒç”¨äº†a.b()æ–¹æ³•æ—¶è§¦å‘ï¼› @OnMethod(location = @Location(value = Kind.LINE, line = 5)) æŒ‡ç›®æ ‡æ–¹æ³•ä½“æ‰§è¡Œåˆ°ç¬¬nè¡Œä»£ç æ—¶è§¦å‘ å±æ€§ä¸Šçš„æ³¨è§£å¸¸ç”¨æ–¹æ³• æ–¹æ³• ä½œç”¨ println åœ¨æœ¬åœ°æ§åˆ¶å°è¾“å‡ºä¸€è¡Œ print åœ¨æœ¬åœ°æ§åˆ¶å°è¾“å‡º printArray åœ¨æœ¬åœ°æ§åˆ¶å°è¾“å‡ºæ•°ç»„ jstack æ‰“å°è¿œç¨‹æ–¹æ³•çš„è°ƒç”¨è°ƒç”¨æ ˆ jstackAll è¾“å‡ºæ‰€æœ‰çº¿ç¨‹çš„è°ƒç”¨æ ˆ exit é€€å‡ºè·Ÿè¸ªè„šæœ¬ Strings.strcat è¿æ¥å­—ç¬¦ä¸² Reflactive.name è·å–ç±»å Threads.name çº¿ç¨‹å Threads.currentThread å½“å‰çº¿ç¨‹ deadlocks æ‰“å‡ºæ­»é”çº¿ç¨‹ sizeof è·å–å¯¹è±¡çš„å¤§å°ï¼Œæ¯”å¦‚Listå¯¹è±¡å°±è¿”å›List.size() Sys.Env.property è·å–ç³»ç»Ÿå˜é‡ å‚è€ƒä¾‹å­æ‰“å°å †/éå †å†…å­˜ä¿¡æ¯12345678910111213141516171819202122232425262728293031323334package sample; /** * Created by ww on 16/11/15. */import com.sun.btrace.annotations.BTrace;import com.sun.btrace.annotations.OnTimer;import static com.sun.btrace.BTraceUtils.*;@BTracepublic class TraceMemory &#123; //heapUsage()/nonHeapUsage() â€“ æ‰“å°å †/éå †å†…å­˜ä¿¡æ¯ï¼ŒåŒ…æ‹¬initã€usedã€commitã€max //init = 134217728(131072K) used = 16793216(16399K) committed = 128974848(125952K) max = 1908932608(1864192K) @OnTimer(4000) public static void printM()&#123; //æ‰“å°å†…å­˜ä¿¡æ¯ println(&quot;heap:&quot;); println(heapUsage()); println(&quot;no-heap:&quot;); println(nonHeapUsage()); &#125;&#125; æ‰“å°å‚æ•°123456789101112131415161718192021222324252627282930package sample;import com.sun.btrace.AnyType;import com.sun.btrace.BTraceUtils;import com.sun.btrace.annotations.BTrace;import com.sun.btrace.annotations.Kind;import com.sun.btrace.annotations.Location;import com.sun.btrace.annotations.OnMethod;import com.sun.btrace.annotations.Return;import com.sun.btrace.annotations.Self;import java.lang.reflect.Field;import static com.sun.btrace.BTraceUtils.*;import static com.sun.btrace.BTraceUtils.Reflective.field;import static com.sun.btrace.BTraceUtils.println;@BTracepublic class PrintParameterTest &#123; @OnMethod(clazz=&quot;app.BTraceServer&quot;, method=&quot;sayHello&quot;, location=@Location(Kind.RETURN)) public static void onSayHello(@Self Object s, AnyType parames, @Return String ret)&#123; Field maxTotalField = field(&quot;app.User&quot;, &quot;name&quot;); println(strcat(&quot;Ps Key: &quot;, str(get(maxTotalField, parames)))); println(&quot;sdfsdf&quot;); &#125;&#125; å…¶ä¸­ï¼Œparames æ˜¯ä¸€ä¸ªUserå¯¹è±¡ã€‚åˆ‡è®°åªèƒ½ä¸ºAnyTypeå¯¹è±¡ï¼Œæˆ‘å¼€å§‹æ—¶ä½¿ç”¨çš„æ˜¯Object,è¾“å‡ºå°±ä¸ºç©ºã€‚ 123456789101112131415public class BTraceServer &#123; public String sayHello(User user) &#123; return &quot; ç»“æœ:&quot; + user.getName(); &#125; public static void main(String[] args) throws InterruptedException &#123; BTraceServer bt = new BTraceServer(); int i = 0; while (true) &#123; System.err.println(bt.sayHello(new User(i++,&quot;name&quot; +i))); Thread.sleep(1000); &#125; &#125;&#125; å‚è€ƒ BTraceç®€ä»‹åŠä½¿ç”¨ BTraceç¬”è®° btraceä¸€äº›ä½ ä¸çŸ¥é“çš„äº‹(æºç å…¥æ‰‹)","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"JVM","slug":"JVM","permalink":"http://yoursite.com/tags/JVM/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"grepï¼‹findå­¦ä¹ ç¬”è®°","slug":"13åŸºç¡€æŠ€æœ¯/linux/grepï¼‹findå­¦ä¹ ç¬”è®°","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.055Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/grepï¼‹findå­¦ä¹ ç¬”è®°/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/grepï¼‹findå­¦ä¹ ç¬”è®°/","excerpt":"","text":"grepå­¦ä¹ æŒ‡å—grep -ï¼»acinvï¼½ â€˜æœç´¢å†…å®¹ä¸²â€™ filename å‚æ•° -aï¼šè¡¨ç¤ºä»¥æ–‡æœ¬æ–‡ä»¶æ–¹å¼æœç´¢ã€‚ -cï¼šè¡¨ç¤ºè®¡ç®—æ‰¾åˆ°ç¬¦åˆè¡Œçš„æ¬¡æ•°ã€‚ -iï¼šè¡¨ç¤ºå¿½ç•¥å­—æ¯å¤§å°å†™ã€‚ -nï¼šè¡¨ç¤ºé¡ºä¾¿è¾“å‡ºè¡Œå·ã€‚ -vï¼šè¡¨ç¤ºåå‘é€‰æ‹©ï¼Œå³æ‰¾åˆ°æ²¡æœ‰æœç´¢å­—ç¬¦ä¸²çš„è¡Œã€‚ ç”¨æ³•æœç´¢æ²¡æœ‰theçš„è¡Œï¼Œå¹¶è¾“å‡ºè¡Œå·grep -nv &#39;the&#39; regular_express.txt findå­¦ä¹ æŒ‡å—find pathname -options ï¼»-print -exec -ok ä¾‹å¦‚ï¼šfind /opt/applications/ -name *.jar | grep ucs-memcached pathnameï¼šæ˜¯findå‘½ä»¤æ‰€æŸ¥æ‰¾çš„ç›®å½•è·¯å¾„ã€‚ä¾‹å¦‚ç”¨ç¬¦å·.æ¥è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œç”¨/æ¥è¡¨ç¤ºç³»ç»Ÿæ ¹ç›®å½•ã€‚ findå‘½ä»¤é€‰é¡¹ å‚æ•° è¯´æ˜ -name filename æŸ¥æ‰¾åä¸ºfilenameçš„æ–‡ä»¶ -perm æŒ‰æ‰§è¡Œæƒé™æ¥æŸ¥æ‰¾ -user username æŒ‰æ–‡ä»¶å±ä¸»æ¥æŸ¥æ‰¾ -group groupname æŒ‰ç»„æ¥æŸ¥æ‰¾ -mtime -n +n æŒ‰æ–‡ä»¶æ›´æ”¹æ—¶é—´æ¥æŸ¥æ‰¾æ–‡ä»¶ï¼Œ-næŒ‡nå¤©ä»¥å†…ï¼Œ+næŒ‡nå¤©ä»¥å‰ -atime -n +n æŒ‰æ–‡ä»¶è®¿é—®æ—¶é—´æ¥æŸ¥GIN: 0pxâ€&gt; -ctime -n +n æŒ‰æ–‡ä»¶åˆ›å»ºæ—¶é—´æ¥æŸ¥æ‰¾æ–‡ä»¶ï¼Œ-næŒ‡nå¤©ä»¥å†…ï¼Œ+næŒ‡nå¤©ä»¥å‰ -nogroup æŸ¥æ— æœ‰æ•ˆå±ç»„çš„æ–‡ä»¶ï¼Œå³æ–‡ä»¶çš„å±ç»„åœ¨/etc/groupsä¸­ä¸å­˜åœ¨ -nouser æŸ¥æ— æœ‰æ•ˆå±ä¸»çš„æ–‡ä»¶ï¼Œå³æ–‡ä»¶çš„å±ä¸»åœ¨/etc/passwdä¸­ä¸å­˜ -newer f1 !f2 æ‰¾æ–‡ä»¶ï¼Œ-næŒ‡nå¤©ä»¥å†…ï¼Œ+næŒ‡nå¤©ä»¥å‰ -ctime -n +n æŒ‰æ–‡ä»¶åˆ›å»ºæ—¶é—´æ¥æŸ¥æ‰¾æ–‡ä»¶ï¼Œ-næŒ‡nå¤©ä»¥å†…ï¼Œ+næŒ‡nå¤©ä»¥å‰ -nogroup æŸ¥æ— æœ‰æ•ˆå±ç»„çš„æ–‡ä»¶ï¼Œå³æ–‡ä»¶çš„å±ç»„åœ¨/etc/groupsä¸­ä¸å­˜åœ¨ -nouser æŸ¥æ— æœ‰æ•ˆå±ä¸»çš„æ–‡ä»¶ï¼Œå³æ–‡ä»¶çš„å±ä¸»åœ¨/etc/passwdä¸­ä¸å­˜ -newer f1 !f2 æŸ¥æ›´æ”¹æ—¶é—´æ¯”f1æ–°ä½†æ¯”f2æ—§çš„æ–‡ä»¶ -type b/d/c/p/l/f æŸ¥æ˜¯å—è®¾å¤‡ã€ç›®å½•ã€å­—ç¬¦è®¾å¤‡ã€ç®¡é“ã€ç¬¦å·é“¾æ¥ã€æ™®é€šæ–‡ä»¶ -size n[c] æŸ¥é•¿åº¦ä¸ºnå—[æˆ–nå­—èŠ‚]çš„æ–‡ä»¶ -depth ä½¿æŸ¥æ‰¾åœ¨è¿›å…¥å­ç›®å½•å‰å…ˆè¡ŒæŸ¥æ‰¾å®Œæœ¬ç›®å½• -fstype æŸ¥æ›´æ”¹æ—¶é—´æ¯”f1æ–°ä½†æ¯”f2æ—§çš„æ–‡ä»¶ -type b/d/c/p/l/f æŸ¥æ˜¯å—è®¾å¤‡ã€ç›®å½•ã€å­—ç¬¦è®¾å¤‡ã€ç®¡é“ã€ç¬¦å·é“¾æ¥ã€æ™®é€šæ–‡ä»¶ -size n[c] æŸ¥é•¿åº¦ä¸ºnå—[æˆ–nå­—èŠ‚]çš„æ–‡ä»¶ -depth ä½¿æŸ¥æ‰¾åœ¨è¿›å…¥å­ç›®å½•å‰å…ˆè¡ŒæŸ¥æ‰¾å®Œæœ¬ç›®å½• -fstype æŸ¥ä½äºæŸä¸€ç±»å‹æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ç³»ç»Ÿç±»å‹é€šå¸¸å¯ åœ¨/etc/fstabä¸­æ‰¾åˆ° -mount æŸ¥æ–‡ä»¶æ—¶ä¸è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿmountç‚¹ -follow å¦‚æœé‡åˆ°ç¬¦å·é“¾æ¥æ–‡ä»¶ï¼Œå°±è·Ÿè¸ªé“¾æ¥æ‰€æŒ‡çš„æ–‡ä»¶ -cpio %; æŸ¥ä½äºæŸä¸€ç±»å‹æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ç³»ç»Ÿç±»å‹é€šå¸¸å¯ åœ¨/etc/fstabä¸­æ‰¾åˆ° -mount æŸ¥æ–‡ä»¶æ—¶ä¸è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿmountç‚¹ -follow å¦‚æœé‡åˆ°ç¬¦å·é“¾æ¥æ–‡ä»¶ï¼Œå°±è·Ÿè¸ªé“¾æ¥æ‰€æŒ‡çš„æ–‡ä»¶ -cpio å¯¹åŒ¹é…çš„æ–‡ä»¶ä½¿ç”¨cpioå‘½ä»¤ï¼Œå°†ä»–ä»¬å¤‡ä»½åˆ°ç£å¸¦è®¾å¤‡ä¸­ -prune å¿½ç•¥æŸä¸ªç›®å½• -type æŸ¥æ‰¾æŸä¸€ç±»å‹çš„æ–‡ä»¶b - å—è®¾å¤‡æ–‡ä»¶ã€‚d - ç›®å½•ã€‚c - å­—ç¬¦è®¾å¤‡æ–‡ä»¶ã€‚p - ç®¡é“æ–‡ä»¶ã€‚l - ç¬¦å·é“¾æ¥æ–‡ä»¶ã€‚f - æ™®é€šæ–‡ä»¶ findåº”ç”¨èŒƒä¾‹ä½¿ç”¨xargsfindå‘½ä»¤æŠŠåŒ¹é…åˆ°çš„æ–‡ä»¶ä¼ é€’ç»™xargså‘½ä»¤ï¼Œè€Œxargså‘½ä»¤æ¯æ¬¡åªè·å–ä¸€éƒ¨åˆ†æ–‡ä»¶è€Œä¸æ˜¯å…¨éƒ¨ execexecæ¥é…åˆfindæŸ¥æ‰¾find . -type f -exec ls -l {} \\; åˆ é™¤ç›®å½•ä¸­è®¿é—®æ—¶é—´åœ¨7æ—¥ä»¥å†…ä¸”å«æœ‰æ•°å­—åç¼€çš„admin.logæ–‡ä»¶find . -name â€œadmin.logï¼»0-9]â€ -atime -7 -exec rm {} \\; æ–‡ä»¶å­—ç¬¦æ›¿æ¢find -type f ! -path &#39;*/.svn/*&#39; | xargs sed -i &#39;s/netfinworks/klwork/g&#39; æ–‡ä»¶æ‰¹é‡åˆ é™¤find . -name .svn -print | xargs rm -rf åªè¦æˆ‘ä»¬æŠŠfindçš„è¾“å‡ºä½œä¸ºxargsçš„è¾“å…¥ï¼Œå°±å¿…é¡»å°†-print0ä¸findç»“åˆä½¿ç”¨ï¼Œä»¥å­—ç¬¦nullæ¥åˆ†éš”è¾“å‡ºã€‚ ###ç”¨findåŒ¹é…å¹¶åˆ—å‡ºæ‰€æœ‰çš„.txtæ–‡ä»¶ï¼Œç„¶åç”¨xargså°†è¿™äº›æ–‡ä»¶åˆ é™¤ find . -type f -name â€œ*.txtâ€ -print0 | xargs -0 rm -f ### find .|xargs grep -ri â€œiframeâ€ find -name â€œ*.htmlâ€ |xargs grep -ri â€œiframeâ€ å‚è€ƒ sedå‘½ä»¤è¯¦è§£ sed ç®€æ˜æ•™ç¨‹ awkæ¡ˆä¾‹å­¦ä¹ ","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"javaçº¿ç¨‹çŠ¶æ€æ€»ç»“","slug":"22programming/java/thread/çº¿ç¨‹çš„çŠ¶æ€","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.103Z","comments":true,"path":"2016/11/06/22programming/java/thread/çº¿ç¨‹çš„çŠ¶æ€/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/çº¿ç¨‹çš„çŠ¶æ€/","excerpt":"","text":"çº¿ç¨‹çš„å„ç§çŠ¶æ€çº¿ç¨‹çš„çŠ¶æ€è·ƒè¿ é”(monitor)æ± å’Œç­‰å¾…æ± åœ¨javaä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸¤ä¸ªæ± ï¼Œé”(monitor)æ± å’Œç­‰å¾…æ±  é”æ± :å‡è®¾çº¿ç¨‹Aå·²ç»æ‹¥æœ‰äº†æŸä¸ªå¯¹è±¡(æ³¨æ„:ä¸æ˜¯ç±»)çš„é”ï¼Œè€Œå…¶å®ƒçš„çº¿ç¨‹æƒ³è¦è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªsynchronizedæ–¹æ³•(æˆ–è€…synchronizedå—)ï¼Œç”±äºè¿™äº›çº¿ç¨‹åœ¨è¿›å…¥å¯¹è±¡çš„synchronizedæ–¹æ³•ä¹‹å‰å¿…é¡»å…ˆè·å¾—è¯¥å¯¹è±¡çš„é”çš„æ‹¥æœ‰æƒï¼Œä½†æ˜¯è¯¥å¯¹è±¡çš„é”ç›®å‰æ­£è¢«çº¿ç¨‹Aæ‹¥æœ‰ï¼Œæ‰€ä»¥è¿™äº›çº¿ç¨‹å°±è¿›å…¥äº†è¯¥å¯¹è±¡çš„é”æ± ä¸­ã€‚ ç­‰å¾…æ± :å‡è®¾ä¸€ä¸ªçº¿ç¨‹Aè°ƒç”¨äº†æŸä¸ªå¯¹è±¡çš„wait()æ–¹æ³•ï¼Œçº¿ç¨‹Aå°±ä¼šé‡Šæ”¾è¯¥å¯¹è±¡çš„é”(å› ä¸ºwait()æ–¹æ³•å¿…é¡»å‡ºç°åœ¨synchronizedä¸­ï¼Œè¿™æ ·è‡ªç„¶åœ¨æ‰§è¡Œwait()æ–¹æ³•ä¹‹å‰çº¿ç¨‹Aå°±å·²ç»æ‹¥æœ‰äº†è¯¥å¯¹è±¡çš„é”)ï¼ŒåŒæ—¶çº¿ç¨‹Aå°±è¿›å…¥åˆ°äº†è¯¥å¯¹è±¡çš„ç­‰å¾…æ± ä¸­ã€‚å¦‚æœå¦å¤–çš„ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨äº†ç›¸åŒå¯¹è±¡çš„notifyAll()æ–¹æ³•ï¼Œé‚£ä¹ˆå¤„äºè¯¥å¯¹è±¡çš„ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹å°±ä¼šå…¨éƒ¨è¿›å…¥è¯¥å¯¹è±¡çš„é”æ± ä¸­ï¼Œå‡†å¤‡äº‰å¤ºé”çš„æ‹¥æœ‰æƒã€‚åŒæ ·ï¼Œå¦‚æœå¦å¤–çš„ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨äº†ç›¸åŒå¯¹è±¡çš„notify()æ–¹æ³•ï¼Œé‚£ä¹ˆä»…ä»…æœ‰ä¸€ä¸ªå¤„äºè¯¥å¯¹è±¡çš„ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹(éšæœº)ä¼šè¿›å…¥è¯¥å¯¹è±¡çš„é”æ± . ##ä»€ä¹ˆæ—¶å€™ä½¿ç”¨wait? waitç”¨æ¥çº¿ç¨‹çš„åè°ƒã€‚åœºæ™¯1.å¦‚æœæœ‰ç©ºé—´åˆ™å†™å…¥æ•°æ®ï¼Œæ²¡æœ‰ç­‰å€™ã€‚2.å¦‚ç©ºé—´å·²ç»æœ‰äº†ï¼Œé€šçŸ¥ç­‰å€™çš„çº¿ç¨‹ã€‚ æœ‰æ²¡æœ‰æ›´å¥½çš„åè°ƒæ–¹å¼ï¼Ÿ ##ä»€ä¹ˆæ—¶å€™ä½¿ç”¨synchronized? å½“ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨æ‰§è¡Œsynchronizedæ–¹æ³•æ—¶ï¼Œå…¶ä»–çº¿ç¨‹æ— æ³•æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œè¿™å°±æ˜¯ç®€å•çš„å…±äº«äº’æ–¥ã€‚äº’æ–¥ã€‚ ##sleep()å’Œwait()çš„åŒºåˆ«? sleep()æ–¹æ³•ï¼Œæ–¹æ³•æ˜¯å±äºThreadç±»ä¸­çš„ã€‚è€Œwait()æ–¹æ³•ï¼Œåˆ™æ˜¯å±äºObjectç±»ä¸­çš„ã€‚Thread.sleepä¸ä¼šå¯¼è‡´é”è¡Œä¸ºçš„æ”¹å˜ã€‚sleep()æ–¹æ³•å¯¼è‡´äº†ç¨‹åºæš‚åœæ‰§è¡ŒæŒ‡å®šçš„æ—¶é—´ï¼Œè®©å‡ºcpuè¯¥å…¶ä»–çº¿ç¨‹ï¼Œä½†æ˜¯ä»–çš„ç›‘æ§çŠ¶æ€ä¾ç„¶ä¿æŒè€…ï¼Œå½“æŒ‡å®šçš„æ—¶é—´åˆ°äº†åˆä¼šè‡ªåŠ¨æ¢å¤è¿è¡ŒçŠ¶æ€ã€‚åœ¨è°ƒç”¨sleep()æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹ä¸ä¼šé‡Šæ”¾å¯¹è±¡é”ã€‚è°ƒç”¨wait()æ–¹æ³•çš„æ—¶å€™ï¼Œçº¿ç¨‹ä¼šæ”¾å¼ƒå¯¹è±¡é”ï¼Œè¿›å…¥ç­‰å¾…æ­¤å¯¹è±¡çš„ç­‰å¾…é”å®šæ± ã€‚ å‚è€ƒ å„ç§ Java Thread State ç¬¬ä¸€åˆ†ææ³•åˆ™ http://blog.csdn.net/jiangwei0910410003/article/details/19962627","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"linux shellç¼–ç¨‹åŸºç¡€","slug":"13åŸºç¡€æŠ€æœ¯/linux/linux-shell","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.055Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/linux-shell/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/linux-shell/","excerpt":"","text":"#Shellè„šæœ¬çš„åŸºæœ¬è§„åˆ™ startåœ¨ Shell è„šæœ¬çš„ç¬¬ 1 è¡Œå¼€å§‹å¤„æŒ‡å®šâ€œ#!/bin/shâ€ åŒå¼•å·ä¸­åŒ…å«çš„å˜é‡å¯ä»¥ç”¨å…¶å€¼æ¥æ›¿æ¢ï¼Œè€Œå¦‚æœæ˜¯å•å¼•å·ï¼Œåˆ™ä¾ç„¶ä¿æŒå˜é‡åã€‚ å½“éœ€è¦å°†å˜é‡åå’Œå…¶ä»–å­—ç¬¦ä¸²è¿æ¥åœ¨ä¸€èµ·æ—¶ï¼Œè¯·ç”¨å¦‚ä¸‹çš„ {} ç¬¦å·å°†å˜é‡åæ‹¬èµ·æ¥echo â€œ${message}Worldâ€ Shellè„šæœ¬è¿è¡Œæ—¶çš„å‚æ•°çš„å¼•ç”¨å¯ä»¥é€šè¿‡å˜é‡ $1~$9 æ¥è®¿é—® Shell è„šæœ¬è¿è¡Œæ—¶çš„å‚æ•°ã€‚ç”¨äºå¯åŠ¨ Shell è„šæœ¬çš„å‘½ä»¤çš„åç§°æœ¬èº«ä¹Ÿå¯ä»¥é€šè¿‡ $0 è®¿é—®ã€‚ â€œ$@â€ä¸ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å‚æ•°çš„åˆ—è¡¨ æ¡ä»¶åˆ¤æ–­123456789101112131415#!/bin/shmessage=&quot;Hello&quot;if test &quot;$message&quot; = &quot;Hello&quot;; then echo &quot;Hello World&quot;fiif [ &quot;$message&quot; = &quot;Hello&quot; ]; then echo &quot;Hello World&quot;fiif [[ $message == &quot;Hello&quot; ]]; then echo &quot;Hello World&quot;fi","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"Java Native Interface","slug":"22programming/java/Java-native","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.092Z","comments":true,"path":"2016/11/06/22programming/java/Java-native/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/Java-native/","excerpt":"","text":"#ä»€ä¹ˆæ˜¯JNIï¼Ÿ JNIæ˜¯Java Native Interfaceçš„è‹±æ–‡ç¼©å†™, ä¸­æ–‡ç¿»è¯‘ä¸ºæœ¬åœ°è°ƒç”¨, è‡ªä»Java 1.1å¼€å§‹å°±æˆä¸ºäº†Javaæ ‡å‡†çš„ä¸€éƒ¨åˆ†. Javaä¸æ˜¯ä¸‡èƒ½çš„ï¼Œjavaæ˜¯è·¨å¹³å°çš„è¯­è¨€ï¼Œæ‰€ä»˜å‡ºçš„ä»£ä»·å°±æ˜¯ç‰ºç‰²ä¸€äº›å¯¹åº•å±‚çš„æ§åˆ¶ï¼Œè€Œjavaè¦å®ç°å¯¹åº•å±‚çš„æ§åˆ¶ï¼Œå°±éœ€è¦ä¸€äº›å…¶ä»–è¯­è¨€çš„å¸®åŠ©ï¼Œè¿™ä¸ªå°±æ˜¯nativeçš„ä½œç”¨ã€‚ Javaçš„ä¸è¶³é™¤äº†ä½“ç°åœ¨è¿è¡Œé€Ÿåº¦ä¸Šè¦æ¯”ä¼ ç»Ÿçš„C++æ…¢è®¸å¤šä¹‹å¤–ï¼ŒJavaæ— æ³•ç›´æ¥è®¿é—®åˆ°æ“ä½œç³»ç»Ÿåº•å±‚ï¼ˆå¦‚ç³»ç»Ÿç¡¬ä»¶ç­‰)ï¼Œä¸ºæ­¤Javaä½¿ç”¨nativeæ–¹æ³•æ¥æ‰©å±•Javaç¨‹åºçš„åŠŸèƒ½ã€‚ Java Nativeé€‚ç”¨çš„æƒ…å†µ ä¸ºäº†ä½¿ç”¨åº•å±‚çš„ä¸»æœºå¹³å°çš„æŸä¸ªç‰¹æ€§ï¼Œè€Œè¿™ä¸ªç‰¹æ€§ä¸èƒ½é€šè¿‡JAVA APIè®¿é—® ä¸ºäº†è®¿é—®ä¸€ä¸ªè€çš„ç³»ç»Ÿæˆ–è€…ä½¿ç”¨ä¸€ä¸ªå·²æœ‰çš„åº“ï¼Œè€Œè¿™ä¸ªç³»ç»Ÿæˆ–è¿™ä¸ªåº“ä¸æ˜¯ç”¨JAVAç¼–å†™çš„ ä¸ºäº†åŠ å¿«ç¨‹åºçš„æ€§èƒ½ï¼Œè€Œå°†ä¸€æ®µæ—¶é—´æ•æ„Ÿçš„ä»£ç ä½œä¸ºæœ¬åœ°æ–¹æ³•å®ç°ã€‚ Javaè°ƒç”¨C/C++çš„åŸºæœ¬æ­¥éª¤ åœ¨Javaä¸­å£°æ˜native()æ–¹æ³•ï¼Œç„¶åç¼–è¯‘ï¼› ç”¨javahäº§ç”Ÿä¸€ä¸ª.hæ–‡ä»¶ï¼› å†™ä¸€ä¸ª.cppï¼ˆ.c)æ–‡ä»¶å®ç°nativeå¯¼å‡ºæ–¹æ³•ï¼Œå…¶ä¸­éœ€è¦åŒ…å«ç¬¬äºŒæ­¥äº§ç”Ÿçš„.hæ–‡ä»¶ï¼ˆæ³¨æ„å…¶ä¸­åŒ…å«äº†JDKå¸¦çš„jni.hæ–‡ä»¶ï¼‰ å°†ç¬¬ä¸‰æ­¥çš„.cppæ–‡ä»¶ç¼–è¯‘æˆåŠ¨æ€é“¾æ¥åº“æ–‡ä»¶ï¼› åœ¨Javaä¸­ç”¨System.loadLibrary()æ–¹æ³•åŠ è½½ç¬¬å››æ­¥äº§ç”Ÿçš„åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶ï¼Œè¿™ä¸ªnative()æ–¹æ³•å°±å¯ä»¥åœ¨Javaä¸­è¢«è®¿é—®äº†ã€‚ ä¸‹é¢å°†æ¼”ç¤ºä¸€ä¸ªå…·ä½“çš„ä¾‹å­ macç¯å¢ƒä¸‹ç”¨Javaè°ƒç”¨Cçš„å…·ä½“æ­¥éª¤ç›®æ ‡ï¼šè°ƒç”¨cç¨‹åºæ‰“å°ï¼Œâ€œHelloï¼ŒJNIâ€. åˆ›å»ºä¸€ä¸ªJavaç±»ï¼Œé‡Œé¢åŒ…å« native æ–¹æ³•å’ŒåŠ è½½åº“loadLibraryæ–¹æ³•1234567891011121314151617/** * Hello world! */public class HelloNative &#123; static &#123; System.out.println(System.getProperty(&quot;java.library.path&quot;)); System.loadLibrary(&quot;HelloNative&quot;); //System.load(&quot;/p/p-study/java-core/simple/src/main/java/HelloNative.so&quot;); &#125; public static native void sayHello(); @SuppressWarnings(&quot;static-access&quot;) public static void main(String[] args) &#123; new HelloNative().sayHello(); &#125;&#125; å¦‚æœç›´æ¥è¿è¡Œï¼Œä¼šå‡ºç° Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no HelloNative in java.library.path è™šæ‹Ÿæœºè¯´ä¸çŸ¥é“å¦‚ä½•æ‰¾åˆ°sayHello ç”Ÿæˆ.classæ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨javahå‘½ä»¤ï¼Œå°†.classæ–‡ä»¶ç”Ÿæˆ.hæ–‡ä»¶ç”Ÿæˆclassæ–‡ä»¶javac HelloNative.java æŠŠjavaä»£ç å£°æ˜çš„JNIæ–¹æ³•è½¬åŒ–æˆC\\C++å¤´æ–‡ä»¶ javah HelloNative ä¼šç”Ÿæˆä¸€ä¸ªHelloNative.hæ–‡ä»¶ /* DO NOT EDIT THIS FILE - it is machine generated */ #include &lt;jni.h&gt; /* Header for class HelloNative */ #ifndef _Included_HelloNative #define _Included_HelloNative #ifdef __cplusplus extern &quot;C&quot; { #endif /* * Class: HelloNative * Method: sayHello * Signature: ()V */ JNIEXPORT void JNICALL Java_HelloNative_sayHello (JNIEnv *, jclass); #ifdef __cplusplus } #endif #endif ç”¨Cè¯­è¨€å®ç°è¿™äº›æœ¬åœ°æ–¹æ³•æ–°å»ºHelloNative.cï¼Œå°†ä¸Šé¢æ­¥éª¤ç”Ÿæˆçš„.hæ–‡ä»¶åŒ…å«åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå¹¶ç”¨Cè¯­è¨€å®ç°è¿™äº›æœ¬åœ°æ–¹æ³• ä»£ç å¦‚ä¸‹ 1234567#include &lt;jni.h&gt;#include &quot;HelloNative.h&quot;#include &lt;stdio.h&gt;JNIEXPORT void JNICALL Java_HelloNative_sayHello(JNIEnv *env,jclass obj)&#123; printf(&quot;Helloï¼ŒJNI&quot;);&#125; ç¼–è¯‘åˆšæ‰æ‰€å†™çš„Cä»£ç ï¼Œç”Ÿæˆ.soæ–‡ä»¶123gcc -Wall -c HelloNative.c -I ./-I /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home/include -I /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home/include/darwin ç”ŸæˆåŠ¨æ€è¿æ¥åº“gcc -shared HelloNative.o -o HelloNative.so å¦‚æœæ˜¯linux,éœ€è¦å°†darwinæ”¹ä¸ºlinux è¿è¡Œjava HelloNative å¦‚æœå‡ºç°â€œno HelloNative in java.library.pathâ€çš„é”™è¯¯ï¼Œä¿®æ”¹javaçš„ä»£ç ï¼Œæ”¹ä¸ºç»å¯¹è·¯å¾„ System.load(â€œ/p/p-study/java-core/simple/src/main/java/HelloNative.soâ€); ç»ˆäºå‡ºç°äº†ä¹…è¿çš„â€œHelloï¼ŒJNIâ€œ å‚è€ƒ Linuxå¹³å°Javaè°ƒç”¨soåº“-JNIä½¿ç”¨ä¾‹å­","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"å‚çœ‹çº¿ç¨‹å †æ ˆï¼jstack","slug":"22programming/java/jvm/å‚çœ‹çº¿ç¨‹å †æ ˆï¼jstack","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.098Z","comments":true,"path":"2016/11/06/22programming/java/jvm/å‚çœ‹çº¿ç¨‹å †æ ˆï¼jstack/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/jvm/å‚çœ‹çº¿ç¨‹å †æ ˆï¼jstack/","excerpt":"","text":"#jstackä»‹ç» jstackç”¨äºç”Ÿæˆjavaè™šæ‹Ÿæœºå½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§ã€‚çº¿ç¨‹å¿«ç…§æ˜¯å½“å‰javaè™šæ‹Ÿæœºå†…æ¯ä¸€æ¡çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•å †æ ˆçš„é›†åˆï¼Œç”Ÿæˆçº¿ç¨‹å¿«ç…§çš„ä¸»è¦ç›®çš„æ˜¯å®šä½çº¿ç¨‹å‡ºç°é•¿æ—¶é—´åœé¡¿çš„åŸå› ï¼Œå¦‚çº¿ç¨‹é—´æ­»é”ã€æ­»å¾ªç¯ã€è¯·æ±‚å¤–éƒ¨èµ„æºå¯¼è‡´çš„é•¿æ—¶é—´ç­‰å¾…ç­‰ã€‚ çº¿ç¨‹å‡ºç°åœé¡¿çš„æ—¶å€™é€šè¿‡jstackæ¥æŸ¥çœ‹å„ä¸ªçº¿ç¨‹çš„è°ƒç”¨å †æ ˆï¼Œå°±å¯ä»¥çŸ¥é“æ²¡æœ‰å“åº”çš„çº¿ç¨‹åˆ°åº•åœ¨åå°åšä»€ä¹ˆäº‹æƒ…ï¼Œæˆ–è€…ç­‰å¾…ä»€ä¹ˆèµ„æºã€‚ å¦‚æœjavaç¨‹åºå´©æºƒç”Ÿæˆcoreæ–‡ä»¶ï¼Œjstackå·¥å…·å¯ä»¥ç”¨æ¥è·å¾—coreæ–‡ä»¶çš„java stackå’Œnative stackçš„ä¿¡æ¯ï¼Œä»è€Œå¯ä»¥è½»æ¾åœ°çŸ¥é“javaç¨‹åºæ˜¯å¦‚ä½•å´©æºƒå’Œåœ¨ç¨‹åºä½•å¤„å‘ç”Ÿé—®é¢˜ã€‚ å¦å¤–ï¼Œjstackå·¥å…·è¿˜å¯ä»¥é™„å±åˆ°æ­£åœ¨è¿è¡Œçš„javaç¨‹åºä¸­ï¼Œçœ‹åˆ°å½“æ—¶è¿è¡Œçš„javaç¨‹åºçš„java stackå’Œnative stackçš„ä¿¡æ¯, å¦‚æœç°åœ¨è¿è¡Œçš„javaç¨‹åºå‘ˆç°hungçš„çŠ¶æ€ï¼Œjstackæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ å‘½ä»¤ä»‹ç»åŸºæœ¬ç”¨æ³•jstack -l 1086 &gt; /tmp/t.txt åŸºæœ¬å‚æ•°-Få½“â€™jstack [-l] pidâ€™æ²¡æœ‰ç›¸åº”çš„æ—¶å€™å¼ºåˆ¶æ‰“å°æ ˆä¿¡æ¯-lé•¿åˆ—è¡¨. æ‰“å°å…³äºé”çš„é™„åŠ ä¿¡æ¯,ä¾‹å¦‚å±äºjava.util.concurrentçš„ownable synchronizersåˆ—è¡¨ã€‚-mæ‰“å°javaå’Œnative c/c++æ¡†æ¶çš„æ‰€æœ‰æ ˆä¿¡æ¯ã€‚-h | -helpæ‰“å°å¸®åŠ©ä¿¡æ¯ã€‚pid éœ€è¦è¢«æ‰“å°é…ç½®ä¿¡æ¯çš„javaè¿›ç¨‹id,å¯ä»¥ç”¨jpsæŸ¥è¯¢ã€‚ å¸¸è§çš„jstackåˆ†ææ­¥éª¤1.linuxä¸‹ä½¿ç”¨topæˆ–è€…pidstatå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹æ¶ˆè€—æƒ…å†µ å‡è®¾è¿›ç¨‹å·ä¸º26147ï¼Œï¼ˆé€šè¿‡ pidstat -p 26147 -t -u 1 æ‰¾åˆ°çº¿ç¨‹å·26160 )ï¼Œä¹Ÿå¯ä»¥é€šè¿‡top ï¼H 2. 3.è¿›è¡Œåˆ†æprintf %x 26160 å¾—åˆ°311f 4.jstackå‘½ä»¤å®šä½ä»£ç  jstack 26147 | grep 6630 -A 50 ä¹Ÿå¯ä»¥å…ˆè¾“å‡ºåˆ°æ–‡ä»¶ï¼Œç„¶åè¿›è¡Œåˆ†æor jstack -l 26147 &gt; t.txtgrep java.lang.Thread.State t.txt | awk &#39;{print $2$3$4$5}&#39; | sort | uniq -c 123456789101112131415161718192021&quot;Thread-0&quot; #8 prio=5 os_prio=0 tid=0x00007f64800d9000 nid=0x709f runnable [0x00007f646b039000] java.lang.Thread.State: RUNNABLE at java.io.FileOutputStream.writeBytes(Native Method) at java.io.FileOutputStream.write(FileOutputStream.java:326) at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) - locked &lt;0x00000000e0c13c60&gt; (a java.io.BufferedOutputStream) at java.io.PrintStream.write(PrintStream.java:482) - locked &lt;0x00000000e0c08200&gt; (a java.io.PrintStream) at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221) at sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291) at sun.nio.cs.StreamEncoder.flushBuffer(StreamEncoder.java:104) - locked &lt;0x00000000e0c081a8&gt; (a java.io.OutputStreamWriter) at java.io.OutputStreamWriter.flushBuffer(OutputStreamWriter.java:185) at java.io.PrintStream.write(PrintStream.java:527) - eliminated &lt;0x00000000e0c08200&gt; (a java.io.PrintStream) at java.io.PrintStream.print(PrintStream.java:669) at java.io.PrintStream.println(PrintStream.java:806) - locked &lt;0x00000000e0c08200&gt; (a java.io.PrintStream) at CpuAll.run(CpuAll.java:15) at java.lang.Thread.run(Thread.java:745) å¦‚æœåˆ¤æ–­CpuAll.runæ–¹æ³•æœ‰é—®é¢˜ã€‚ ä½¿ç”¨jstackè¿›è¡Œåˆ†æä½¿ç”¨jstackè¿›è¡Œåˆ†æï¼Œéœ€è¦äº†è§£çº¿ç¨‹çš„å„ç§çŠ¶æ€ï¼Œå¯ä»¥å‚è€ƒçº¿ç¨‹åŸºæœ¬å­¦ä¹  çº¿ç¨‹çŠ¶æ€java.lang.Thread.Stateæšä¸¾ç±»ä¸­å®šä¹‰äº†å¦‚ä¸‹å‡ ç§ç±»å‹ï¼š NEWï¼šçº¿ç¨‹åˆ›å»ºå°šæœªå¯åŠ¨ã€‚ RUNNABLEï¼šåŒ…æ‹¬æ“ä½œç³»ç»Ÿçº¿ç¨‹çŠ¶æ€ä¸­çš„Readyå’ŒRunningï¼Œå¯èƒ½åœ¨ç­‰å¾…æ—¶é—´ç‰‡æˆ–è€…æ­£åœ¨æ‰§è¡Œã€‚ BLOCKEDï¼šçº¿ç¨‹è¢«é˜»å¡ã€‚ WAITINGï¼šä¸ä¼šåˆ†é…CPUæ‰§è¡Œæ—¶é—´ï¼Œç›´åˆ°åˆ«çš„çº¿ç¨‹æ˜¾å¼çš„å”¤é†’ï¼Œå¦åˆ™æ— é™æœŸç­‰å¾…ã€‚LockSupport.park()ï¼Œæ²¡æœ‰è®¾ç½®Timeoutå‚æ•°çš„Object.wait()å’ŒThread.join()ï¼Œä¼šå¯¼è‡´æ­¤ç°è±¡ã€‚ TIMED_WAITINGï¼šä¸ä¼šåˆ†é…CPUæ‰§è¡Œæ—¶é—´ï¼Œç›´åˆ°ç³»ç»Ÿè‡ªåŠ¨å”¤é†’ï¼Œä¸éœ€è¦åˆ«çš„çº¿ç¨‹æ˜¾ç¤ºå”¤é†’ã€‚Thread.sleep()ï¼ŒLockSupport.parkNanos()ï¼ŒLockSupport.parkUntil()ï¼Œè®¾ç½®äº†è¶…æ—¶æ—¶é—´çš„Object.wait()å’ŒThread.join()ï¼Œä¼šè®©çº¿ç¨‹è¿›å…¥æœ‰é™æœŸç­‰å¾…ã€‚ TERMINATEDï¼šçº¿ç¨‹æ‰§è¡Œç»“æŸ é˜»å¡çŠ¶æ€ä¸ç­‰å¾…çŠ¶æ€çš„åŒºåˆ«æ˜¯ï¼šé˜»å¡çŠ¶æ€çš„çº¿ç¨‹æ˜¯åœ¨ç­‰å¾…ä¸€ä¸ªæ’å®ƒé”ï¼Œç›´åˆ°åˆ«çš„çº¿ç¨‹é‡Šæ”¾è¯¥æ’å®ƒé”ï¼Œè¯¥çº¿ç¨‹è·å–åˆ°è¯¥é”æ‰èƒ½é€€å‡ºé˜»å¡çŠ¶æ€ï¼› è€Œç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹åˆ™æ˜¯ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç”±ç³»ç»Ÿå”¤é†’æˆ–è€…åˆ«çš„çº¿ç¨‹å”¤é†’ï¼Œè¯¥çº¿ç¨‹ä¾¿é€€å‡ºç­‰å¾…çŠ¶æ€ã€‚ çº¿ç¨‹çŠ¶æ€è½¬åŒ–å›¾å¦‚ä¸‹ï¼š æ–‡ä»¶åˆ†æç”Ÿæˆçš„dumpæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ 123456789101112131415161718192021222324&quot;Thread-0&quot; #8 prio=5 os_prio=0 tid=0x00007fb8a80d9000 nid=0x312c runnable [0x00007fb89222b000] java.lang.Thread.State: RUNNABLE at java.io.FileOutputStream.writeBytes(Native Method) at java.io.FileOutputStream.write(FileOutputStream.java:326) at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) - locked &lt;0x00000000e0c17848&gt; (a java.io.BufferedOutputStream) at java.io.PrintStream.write(PrintStream.java:482) - locked &lt;0x00000000e0c04920&gt; (a java.io.PrintStream) at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221) at sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291) at sun.nio.cs.StreamEncoder.flushBuffer(StreamEncoder.java:104) - locked &lt;0x00000000e0c048c8&gt; (a java.io.OutputStreamWriter) at java.io.OutputStreamWriter.flushBuffer(OutputStreamWriter.java:185) at java.io.PrintStream.write(PrintStream.java:527) - eliminated &lt;0x00000000e0c04920&gt; (a java.io.PrintStream) at java.io.PrintStream.print(PrintStream.java:669) at java.io.PrintStream.println(PrintStream.java:806) - locked &lt;0x00000000e0c04920&gt; (a java.io.PrintStream) at CpuAll.run(CpuAll.java:15) at java.lang.Thread.run(Thread.java:745) Locked ownable synchronizers: - None 12345&quot;Service Thread&quot; #7 daemon prio=9 os_prio=0 tid=0x00007fb8a80bb800 nid=0x312a runnable [0x0000000000000000] java.lang.Thread.State: RUNNABLE Locked ownable synchronizers: - None Service Threadï¼šçº¿ç¨‹çš„åå­—daemonï¼šå®ˆæŠ¤çº¿ç¨‹prio=10ï¼šçº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆé»˜è®¤æ˜¯5ï¼‰tidï¼šJavaçš„çº¿ç¨‹Idï¼ˆçº¿ç¨‹åœ¨å½“å‰è™šæ‹Ÿæœºä¸­çš„å”¯ä¸€æ ‡è¯†ï¼‰nidï¼šçº¿ç¨‹æœ¬åœ°æ ‡è¯†runnableï¼šçº¿ç¨‹çš„çŠ¶æ€[0x00007fb89222b000]ï¼šå½“å‰è¿è¡Œçš„çº¿ç¨‹åœ¨å †ä¸­çš„åœ°å€èŒƒå›´ #å¸¸è§æƒ…å†µå¦‚ä¸‹ çº¿ç¨‹çŠ¶æ€ä¸ºâ€œwaiting for monitor entryâ€æ„å‘³ç€å®ƒ åœ¨ç­‰å¾…è¿›å…¥ä¸€ä¸ªä¸´ç•ŒåŒº ï¼Œæ‰€ä»¥å®ƒåœ¨â€Entry Setâ€œé˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚æ­¤æ—¶çº¿ç¨‹çŠ¶æ€ä¸€èˆ¬éƒ½æ˜¯ Blockedï¼šjava.lang.Thread.State: BLOCKED (on object monitor) çº¿ç¨‹çŠ¶æ€ä¸ºâ€œwaiting on conditionâ€è¯´æ˜å®ƒåœ¨ç­‰å¾…å¦ä¸€ä¸ªæ¡ä»¶çš„å‘ç”Ÿï¼Œæ¥æŠŠè‡ªå·±å”¤é†’ï¼Œæˆ–è€…å¹²è„†å®ƒæ˜¯è°ƒç”¨äº† sleep(N)ã€‚æ­¤æ—¶çº¿ç¨‹çŠ¶æ€å¤§è‡´ä¸ºä»¥ä¸‹å‡ ç§ï¼šjava.lang.Thread.State: WAITING (parking)ï¼šä¸€ç›´ç­‰é‚£ä¸ªæ¡ä»¶å‘ç”Ÿï¼›java.lang.Thread.State: TIMED_WAITING (parkingæˆ–sleeping)ï¼šå®šæ—¶çš„ï¼Œé‚£ä¸ªæ¡ä»¶ä¸åˆ°æ¥ï¼Œä¹Ÿå°†å®šæ—¶å”¤é†’è‡ªå·±ã€‚ å¤§é‡çº¿ç¨‹åœ¨â€œwaiting for monitor entryâ€å¯èƒ½æ˜¯ä¸€ä¸ªå…¨å±€é”é˜»å¡ä½äº†å¤§é‡çº¿ç¨‹ã€‚å¦‚æœçŸ­æ—¶é—´å†…æ‰“å°çš„ thread dump æ–‡ä»¶åæ˜ ï¼Œéšç€æ—¶é—´æµé€ï¼Œwaiting for monitor entry çš„çº¿ç¨‹è¶Šæ¥è¶Šå¤šï¼Œæ²¡æœ‰å‡å°‘çš„è¶‹åŠ¿ï¼Œå¯èƒ½æ„å‘³ç€æŸäº›çº¿ç¨‹åœ¨ä¸´ç•ŒåŒºé‡Œå‘†çš„æ—¶é—´å¤ªé•¿äº†ï¼Œä»¥è‡³äºè¶Šæ¥è¶Šå¤šæ–°çº¿ç¨‹è¿Ÿè¿Ÿæ— æ³•è¿›å…¥ä¸´ç•ŒåŒºã€‚ å¤§é‡çº¿ç¨‹åœ¨â€œwaiting on conditionâ€å¯èƒ½æ˜¯å®ƒä»¬åˆè·‘å»è·å–ç¬¬ä¸‰æ–¹èµ„æºï¼Œå°¤å…¶æ˜¯ç¬¬ä¸‰æ–¹ç½‘ç»œèµ„æºï¼Œè¿Ÿè¿Ÿè·å–ä¸åˆ°Responseï¼Œå¯¼è‡´å¤§é‡çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚æ‰€ä»¥å¦‚æœä½ å‘ç°æœ‰å¤§é‡çš„çº¿ç¨‹éƒ½å¤„åœ¨ Wait on conditionï¼Œä»çº¿ç¨‹å †æ ˆçœ‹ï¼Œæ­£ç­‰å¾…ç½‘ç»œè¯»å†™ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªç½‘ç»œç“¶é¢ˆçš„å¾å…†ï¼Œå› ä¸ºç½‘ç»œé˜»å¡å¯¼è‡´çº¿ç¨‹æ— æ³•æ‰§è¡Œã€‚ çº¿ç¨‹çŠ¶æ€ä¸ºâ€œin Object.wait()â€è¯´æ˜å®ƒè·å¾—äº†ç›‘è§†å™¨ä¹‹åï¼Œåˆè°ƒç”¨äº† java.lang.Object.wait() æ–¹æ³•ã€‚æ¯ä¸ª Monitoråœ¨æŸä¸ªæ—¶åˆ»ï¼Œåªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰ï¼Œè¯¥çº¿ç¨‹å°±æ˜¯ â€œActive Threadâ€ï¼Œè€Œå…¶å®ƒçº¿ç¨‹éƒ½æ˜¯ â€œWaiting Threadâ€ï¼Œåˆ†åˆ«åœ¨ä¸¤ä¸ªé˜Ÿåˆ— â€œ Entry Setâ€å’Œ â€œWait Setâ€é‡Œé¢ç­‰å€™ã€‚åœ¨ â€œEntry Setâ€ä¸­ç­‰å¾…çš„çº¿ç¨‹çŠ¶æ€æ˜¯ â€œWaiting for monitor entryâ€ï¼Œè€Œåœ¨ â€œWait Setâ€ä¸­ç­‰å¾…çš„çº¿ç¨‹çŠ¶æ€æ˜¯ â€œin Object.wait()â€ã€‚å½“çº¿ç¨‹è·å¾—äº† Monitorï¼Œå¦‚æœå‘ç°çº¿ç¨‹ç»§ç»­è¿è¡Œçš„æ¡ä»¶æ²¡æœ‰æ»¡è¶³ï¼Œå®ƒåˆ™è°ƒç”¨å¯¹è±¡ï¼ˆä¸€èˆ¬å°±æ˜¯è¢« synchronized çš„å¯¹è±¡ï¼‰çš„ wait() æ–¹æ³•ï¼Œæ”¾å¼ƒäº† Monitorï¼Œè¿›å…¥ â€œWait Setâ€é˜Ÿåˆ—ã€‚æ­¤æ—¶çº¿ç¨‹çŠ¶æ€å¤§è‡´ä¸ºä»¥ä¸‹å‡ ç§ï¼šjava.lang.Thread.State: TIMED_WAITING (on object monitor)ï¼›java.lang.Thread.State: WAITING (on object monitor)ï¼› #å…¶ä»–å¸¸ç”¨å‘½ä»¤ ç»Ÿè®¡æ‰€æœ‰çº¿ç¨‹åˆ†åˆ«å¤„äºä»€ä¹ˆçŠ¶æ€grep java.lang.Thread.State dump17 | awk &#39;{print $2$3$4$5}&#39; | sort | uniq -c å‚è€ƒ å„ç§ Java Thread State ç¬¬ä¸€åˆ†ææ³•åˆ™ å…³äºJavaçº¿ç¨‹è½¬å‚¨åˆ†æ","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"JVM","slug":"JVM","permalink":"http://yoursite.com/tags/JVM/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ç›‘æ§IOä½¿ç”¨ï¼iostatå‘½ä»¤","slug":"13åŸºç¡€æŠ€æœ¯/linux/iostat","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.055Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/iostat/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/iostat/","excerpt":"","text":"#iostat iostatæ–¹ä¾¿æŸ¥çœ‹CPUã€ç½‘å¡ã€ttyè®¾å¤‡ã€ç£ç›˜ã€CD-ROM ç­‰ç­‰è®¾å¤‡çš„æ´»åŠ¨æƒ…å†µ, è´Ÿè½½ä¿¡æ¯ã€‚å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œéœ€è¦sudo apt-get install sysstat åŸºæœ¬ä½¿ç”¨iostat[å‚æ•°][æ—¶é—´][æ¬¡æ•°] iostatæ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡è´Ÿè½½æƒ…å†µ iostat 2 3 å­—æ®µæè¿°iostat -x 12345678Linux 4.4.0-53-generic (ubuntu) 12/15/2016 _x86_64_ (3 CPU)avg-cpu: %user %nice %system %iowait %steal %idle 0.33 0.00 0.36 0.12 0.00 99.19Device: rrqm/s wrqm/s r/s w/s rkB/s wkB/s avgrq-sz avgqu-sz await r_await w_await svctm %utilsda 0.08 3.01 20.35 3.14 231.60 31400.10 2692.38 0.01 0.45 0.37 0.96 0.19 0.45scd0 0.00 0.00 0.01 0.00 0.03 0.00 8.00 0.00 0.31 0.31 0.00 0.31 0.00 cpu å­—æ®µ è¯´æ˜ %user CPUå¤„åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹çš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚ %nice CPUå¤„åœ¨å¸¦NICEå€¼çš„ç”¨æˆ·æ¨¡å¼ä¸‹çš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚ %system CPUå¤„åœ¨ç³»ç»Ÿæ¨¡å¼ä¸‹çš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚ %iowait CPUç­‰å¾…è¾“å…¥è¾“å‡ºå®Œæˆæ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚ %steal ç®¡ç†ç¨‹åºç»´æŠ¤å¦ä¸€ä¸ªè™šæ‹Ÿå¤„ç†å™¨æ—¶ï¼Œè™šæ‹ŸCPUçš„æ— æ„è¯†ç­‰å¾…æ—¶é—´ç™¾åˆ†æ¯”ã€‚ %idle CPUç©ºé—²æ—¶é—´ç™¾åˆ†æ¯”ã€‚ å¦‚æœ%iowaitçš„å€¼è¿‡é«˜ï¼Œè¡¨ç¤ºç¡¬ç›˜å­˜åœ¨I/Oç“¶é¢ˆ%idleå€¼é«˜ï¼Œè¡¨ç¤ºCPUè¾ƒç©ºé—²ï¼Œå¦‚æœ%idleå€¼é«˜ä½†ç³»ç»Ÿå“åº”æ…¢æ—¶ï¼Œæœ‰å¯èƒ½æ˜¯CPUç­‰å¾…åˆ†é…å†…å­˜ï¼Œæ­¤æ—¶åº”åŠ å¤§å†…å­˜å®¹é‡ã€‚%idleå€¼å¦‚æœæŒç»­ä½äº10ï¼Œé‚£ä¹ˆç³»ç»Ÿçš„CPUå¤„ç†èƒ½åŠ›ç›¸å¯¹è¾ƒä½ï¼Œè¡¨æ˜ç³»ç»Ÿä¸­æœ€éœ€è¦è§£å†³çš„èµ„æºæ˜¯CPUã€‚ Device å­—æ®µ è¯´æ˜ rrqm/s æ¯ç§’è¿›è¡Œ merge çš„è¯»æ“ä½œæ•°ç›®ã€‚å³ rmerge/s wrqm/s æ¯ç§’è¿›è¡Œ merge çš„å†™æ“ä½œæ•°ç›®ã€‚å³ wmerge/s r/s æ¯ç§’å®Œæˆçš„è¯» I/O è®¾å¤‡æ¬¡æ•°ã€‚å³ rio/s w/s æ¯ç§’å®Œæˆçš„å†™ I/O è®¾å¤‡æ¬¡æ•°ã€‚å³ wio/s rsec/s æ¯ç§’è¯»æ‰‡åŒºæ•°ã€‚å³ rsect/s wsec/s æ¯ç§’å†™æ‰‡åŒºæ•°ã€‚å³ wsect/s rkB/s æ¯ç§’è¯»Kå­—èŠ‚æ•°ã€‚æ˜¯ rsect/s çš„ä¸€åŠï¼Œå› ä¸ºæ¯æ‰‡åŒºå¤§å°ä¸º512å­—èŠ‚ã€‚ wkB/s æ¯ç§’å†™Kå­—èŠ‚æ•°ã€‚æ˜¯ wsect/s çš„ä¸€åŠã€‚ avgrq-sz å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„æ•°æ®å¤§å° (æ‰‡åŒº)ã€‚ avgqu-sz å¹³å‡I/Oé˜Ÿåˆ—é•¿åº¦(åˆ†é…ç»™è®¾å¤‡çš„å¹³å‡è¯·æ±‚æ•°)ã€‚å¤§äº1è¡¨ç¤ºè®¾å¤‡å·²ç»é¥±å’Œäº†ã€‚ï¼ˆä¸è¿‡æœ‰äº›è®¾å¤‡å¯ä»¥å¹¶è¡Œå¤„ç†è¯·æ±‚ï¼Œæ¯”å¦‚ç”±å¤šä¸ªç£ç›˜ç»„æˆçš„è™šæ‹Ÿè®¾å¤‡ï¼‰ await å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„ç­‰å¾…æ—¶é—´ (æ¯«ç§’)ã€‚åŒ…æ‹¬äº†é˜Ÿåˆ—æ—¶é—´å’ŒæœåŠ¡æ—¶é—´ svctm å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„æœåŠ¡æ—¶é—´ (æ¯«ç§’)ã€‚ %util ä¸€ç§’ä¸­æœ‰ç™¾åˆ†ä¹‹å¤šå°‘çš„æ—¶é—´ç”¨äº I/O æ“ä½œï¼Œå³è¢«ioæ¶ˆè€—çš„cpuç™¾åˆ†æ¯” å¦‚æœ %util æ¥è¿‘ 100%ï¼Œè¯´æ˜äº§ç”Ÿçš„I/Oè¯·æ±‚å¤ªå¤šï¼ŒI/Oç³»ç»Ÿå·²ç»æ»¡è´Ÿè·ï¼Œè¯¥ç£ç›˜å¯èƒ½å­˜åœ¨ç“¶é¢ˆã€‚å¯ä»¥ç»“åˆvmstat æŸ¥çœ‹æŸ¥çœ‹bå‚æ•°(ç­‰å¾…èµ„æºçš„è¿›ç¨‹æ•°)å’Œwaå‚æ•°(IOç­‰å¾…æ‰€å ç”¨çš„CPUæ—¶é—´çš„ç™¾åˆ†æ¯”ï¼Œé«˜è¿‡30%æ—¶IOå‹åŠ›é«˜)ã€‚%utilä½äº60%é€šå¸¸æ˜¯ä½æ€§èƒ½çš„è¡¨ç°å¦‚æœ svctm æ¯”è¾ƒæ¥è¿‘ awaitï¼Œè¯´æ˜ I/O å‡ ä¹æ²¡æœ‰ç­‰å¾…æ—¶é—´ï¼›å¦‚æœ await è¿œå¤§äº svctmï¼Œè¯´æ˜I/O é˜Ÿåˆ—å¤ªé•¿ï¼Œioå“åº”å¤ªæ…¢ï¼Œåˆ™éœ€è¦è¿›è¡Œå¿…è¦ä¼˜åŒ–ã€‚å¦‚æœavgqu-szæ¯”è¾ƒå¤§ï¼Œä¹Ÿè¡¨ç¤ºæœ‰å¤§é‡ioåœ¨ç­‰å¾…ã€‚ å…¬å¼ï¼šè®¾å¤‡IOæ“ä½œ:æ€»IO(io)/s = r/s(è¯») +w/s(å†™)å½“å‰ç¡¬ç›˜çš„è¶…è½½æ¯”ç‡ï¼š avgqu-sz /(r/s+r/w) 100å¤„ç†çš„è¯·æ±‚æ•°/sï¼(r/s+r/w)await / 1000ms util è¡¨ç¤ºI/Oåˆ©ç”¨ç‡ï¼Œåœ¨ç»Ÿè®¡æ—¶é—´å†…æ‰€æœ‰å¤„ç†IOæ—¶é—´ï¼Œé™¤ä»¥æ€»å…±ç»Ÿè®¡æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç»Ÿè®¡é—´éš”1ç§’ï¼Œè¯¥è®¾å¤‡æœ‰0.8ç§’åœ¨å¤„ç†IOï¼Œè€Œ0.2ç§’é—²ç½®ï¼Œé‚£ä¹ˆè¯¥è®¾å¤‡çš„%util = 0.8/1 = 80%ï¼Œæ‰€ä»¥è¯¥å‚æ•°æš—ç¤ºäº†è®¾å¤‡çš„ç¹å¿™ç¨‹åº¦ ç›‘æ§ç£ç›˜ä½¿ç”¨ç‡æœ‰ä¸¤ä¸ªç›®çš„ã€‚ç¬¬ä¸€ä¸ªç›®çš„ä¸åº”ç”¨æœ¬èº«æœ‰å…³ï¼šå¦‚æœåº”ç”¨æ­£åœ¨åšå¤§é‡çš„ç£ç›˜ I/O æ“ä½œï¼Œé‚£ I/O å°±å¾ˆå®¹æ˜“æˆä¸ºç“¶é¢ˆç›‘æ§ç£ç›˜ä½¿ç”¨ç‡çš„ç¬¬äºŒä¸ªç†ç”±æ˜¯â€”â€”å³ä¾¿é¢„è®¡åº”ç”¨ä¸ä¼šæœ‰å¾ˆé«˜çš„ I/Oâ€”â€”æœ‰åŠ©äºç›‘æ§ç³»ç»Ÿæ˜¯å¦åœ¨è¿›è¡Œå†…å­˜äº¤æ¢ã€‚æ­£åœ¨å†…å­˜äº¤æ¢çš„ç³»ç»Ÿâ€”â€”ä»ä¸»å†…å­˜ç§»åŠ¨æ•°æ®åˆ°ç£ç›˜æˆ–è€…åè¿‡æ¥â€”â€”ä¸€èˆ¬æ¥è¯´ï¼Œæ€§èƒ½æ¯”è¾ƒå·®ã€‚è¿˜æœ‰å…¶ä»–ç³»ç»Ÿå·¥å…·å¯ä»¥æŠ¥å‘Šç³»ç»Ÿäº¤æ¢ï¼Œä¾‹å¦‚ vmstat è¾“å‡ºä¸­æœ‰ä¸¤åˆ—ï¼ˆsi æ˜¯æ¢è¿›ï¼Œso æ˜¯æ¢å‡ºï¼‰å¯ä»¥è­¦å‘Šæˆ‘ä»¬ç³»ç»Ÿæ˜¯å¦æ­£åœ¨äº¤æ¢ã€‚ç£ç›˜æ´»åŠ¨è¯´æ˜å†…å­˜äº¤æ¢å¯èƒ½æ­£åœ¨å‘ç”Ÿã€‚ å‚æ•° å‚æ•° è¯´æ˜ -C æ˜¾ç¤ºCPUä½¿ç”¨æƒ…å†µ -d æ˜¾ç¤ºç£ç›˜ä½¿ç”¨æƒ…å†µ -k ä»¥ KB ä¸ºå•ä½æ˜¾ç¤º -m ä»¥ M ä¸ºå•ä½æ˜¾ç¤º -N æ˜¾ç¤ºç£ç›˜é˜µåˆ—(LVM) -n æ˜¾ç¤ºNFS -p[ç£ç›˜] æ˜¾ç¤ºç£ç›˜å’Œåˆ†åŒºçš„æƒ…å†µ -t æ˜¾ç¤ºç»ˆç«¯å’ŒCPUçš„ä¿¡æ¯ -x æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ -V æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ç”¨æ³•ä¸¾ä¾‹æŸ¥çœ‹TPSå’Œååé‡iostat -d -k 1 1 123Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtnsda 18.62 183.15 24832.22 403119 54655472scd0 0.01 0.02 0.00 52 0 å­—æ®µ è¯´æ˜ tps è¯¥è®¾å¤‡æ¯ç§’çš„ä¼ è¾“æ¬¡æ•°,ä¸€æ¬¡ä¼ è¾“æ„æ€æ˜¯ä¸€æ¬¡I/Oè¯·æ±‚ã€‚å¤šä¸ªé€»è¾‘è¯·æ±‚å¯èƒ½ä¼šè¢«åˆå¹¶ä¸ºâ€œä¸€æ¬¡I/Oè¯·æ±‚â€ã€‚â€œä¸€æ¬¡ä¼ è¾“â€è¯·æ±‚çš„å¤§å°æ˜¯æœªçŸ¥çš„ã€‚ kB_read/s æ¯ç§’ä»è®¾å¤‡ï¼ˆdrive expressedï¼‰è¯»å–çš„æ•°æ®é‡ï¼› kB_wrtn/s æ¯ç§’å‘è®¾å¤‡ï¼ˆdrive expressedï¼‰å†™å…¥çš„æ•°æ®é‡ï¼› kB_read è¯»å–çš„æ€»æ•°æ®é‡ï¼›kB_wrtn æŸ¥çœ‹è®¾å¤‡ä½¿ç”¨ç‡ï¼ˆ%utilï¼‰å’Œå“åº”æ—¶é—´ï¼ˆawaitï¼‰iostat -d -x -k 1 1 ##æŸ¥çœ‹æŸä¸ªç£ç›˜çš„ä½¿ç”¨æƒ…å†µiostat -dmx 1 2 /dev/sda iostat -x sda sdb 2 6 #æ¯éš”2ç§’æ˜¾ç¤º6æ¬¡sdaå’Œsdbçš„æ‰©å±•ç»Ÿè®¡$ iostat -p sda 2 6 #æ¯éš”2ç§’æ˜¾ç¤º6æ¬¡sdaå’Œå®ƒçš„åˆ†åŒºçš„ç»Ÿè®¡","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"çº¿ç¨‹ä¸­æ–­","slug":"22programming/java/thread/çº¿ç¨‹ä¸­æ–­","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.103Z","comments":true,"path":"2016/11/06/22programming/java/thread/çº¿ç¨‹ä¸­æ–­/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/çº¿ç¨‹ä¸­æ–­/","excerpt":"","text":"çº¿ç¨‹ä¸­æ–­æ€»ç»“èƒŒæ™¯æœ‰äº›æ—¶å€™ï¼Œéœ€è¦ä¸€ä¸ªçº¿ç¨‹æ­»æ‰, æˆ–è€…è®©å®ƒç»“æŸæŸç§ç­‰å¾…çš„çŠ¶æ€ï¼Œè¯¥æ€ä¹ˆåŠå‘¢?æ¯”è¾ƒå®‰å…¨çš„åšæ³•æ˜¯ï¼šå®‰å…¨çš„åšæ³•æ˜¯ï¼š1.ä½¿ç”¨ç­‰å¾…/é€šçŸ¥æœºåˆ¶2.ç»™é‚£ä¸ªçº¿ç¨‹ä¸€ä¸ªä¸­æ–­ä¿¡å·, è®©å®ƒè‡ªå·±å†³å®šè¯¥æ€ä¹ˆåŠ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä»‹ç»çº¿ç¨‹ä¸­æ–­ã€‚ä¸­æ–­çº¿ç¨‹çš„ä½¿ç”¨åœºæ™¯:åœ¨æŸä¸ªå­çº¿ç¨‹ä¸­ä¸ºäº†ç­‰å¾…ä¸€äº›ç‰¹å®šæ¡ä»¶çš„åˆ°æ¥, ä½ è°ƒç”¨äº†Thread.sleep(10000), é¢„æœŸçº¿ç¨‹ç¡10ç§’ä¹‹åè‡ªå·±é†’æ¥, ä½†æ˜¯å¦‚æœè¿™ä¸ªç‰¹å®šæ¡ä»¶æå‰åˆ°æ¥çš„è¯, æ¥é€šçŸ¥ä¸€ä¸ªå¤„äºSleepçš„çº¿ç¨‹ã€‚åˆæ¯”å¦‚è¯´.çº¿ç¨‹é€šè¿‡è°ƒç”¨å­çº¿ç¨‹çš„joinæ–¹æ³•é˜»å¡è‡ªå·±ä»¥ç­‰å¾…å­çº¿ç¨‹ç»“æŸ, ä½†æ˜¯å­çº¿ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­å‘ç°è‡ªå·±æ²¡åŠæ³•åœ¨çŸ­æ—¶é—´å†…ç»“æŸ, äºæ˜¯å®ƒéœ€è¦æƒ³åŠæ³•å‘Šè¯‰ä¸»çº¿ç¨‹åˆ«ç­‰æˆ‘äº†. è¿™äº›æƒ…å†µä¸‹, å°±éœ€è¦ä¸­æ–­ã€‚ ä¸­æ–­ä¸æ˜¯ç»ˆæ­¢ç¨‹åºï¼Œç¨‹åºéœ€è¦ç»ˆæ­¢ç”±ç¨‹åºè‡ªå·±å†³å®šã€‚ Interruptedçš„ç»å…¸ä½¿ç”¨ä»£ç  12345678910111213public void run()&#123; try&#123; .... while(!Thread.currentThread().isInterrupted()&amp;&amp; more work to do)&#123; // do more work; &#125; &#125;catch(InterruptedException e)&#123; // thread was interrupted during sleep or wait &#125; finally&#123; // cleanup, if required &#125;&#125; çº¿ç¨‹ä¸­æ–­çš„api1.è°ƒç”¨Thread.interrupt()ï¼Œé€šè¿‡ä¿®æ”¹äº†è¢«è°ƒç”¨çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€æ¥å‘ŠçŸ¥é‚£ä¸ªçº¿ç¨‹, è¯´å®ƒè¢«ä¸­æ–­äº†ã€‚2.å¯¹äºéé˜»å¡ä¸­çš„çº¿ç¨‹, åªæ˜¯æ”¹å˜äº†ä¸­æ–­çŠ¶æ€,é€šè¿‡Thread.isInterrupted()å°†è¿”å›trueã€‚3.å¯¹äºé˜»å¡çŠ¶æ€ä¸­çš„çº¿ç¨‹ï¼ŒThread.sleep(), Object.wait(), Thread.join(), è¿™ä¸ªçº¿ç¨‹æ”¶åˆ°ä¸­æ–­ä¿¡å·å, ä¼šæŠ›å‡ºInterruptedException, åŒæ—¶ä¼šæŠŠä¸­æ–­çŠ¶æ€ç½®ä¸ºtrueã€‚4.è°ƒç”¨Thread.interrupted()ä¼šå¯¹ä¸­æ–­çŠ¶æ€è¿›è¡Œå¤ä½ã€‚ å®ä¾‹123456789101112131415161718192021222324252627282930313233343536373839class InterruptTest extends Thread &#123; volatile boolean stop = false; public static void main(String args[]) throws Exception &#123; InterruptTest thread = new InterruptTest(); System.out.println(&quot;Starting thread...&quot;); thread.start(); Thread.sleep(3000); System.out.println(&quot;Asking thread to stop...&quot;); thread.stop = true; thread.interrupt(); Thread.sleep(3000); System.out.println(&quot;Stopping application...&quot;); System.exit(0); &#125; public void run() &#123; while (!stop) &#123; System.out.println(&quot;Thread running...&quot;); try &#123; Thread.sleep(50000); &#125; catch (InterruptedException e) &#123; // æ¥æ”¶åˆ°ä¸€ä¸ªä¸­æ–­å¼‚å¸¸ï¼ˆInterruptedExceptionï¼‰ï¼Œä»è€Œææ—©åœ°ç»ˆç»“è¢«é˜»å¡çŠ¶æ€ System.out.println(&quot;Thread interrupted...&quot;); &#125; &#125; System.out.println(&quot;Thread exiting under request...&quot;); &#125;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œthread.stop = true; ä½†æ­¤æ—¶çº¿ç¨‹é˜»å¡ï¼Œrunæ–¹æ³•ä¸è¢«æ‰§è¡Œã€‚ä¸èƒ½è¿›è¡Œæ£€æŸ¥stopã€‚è¯­å¥åè°ƒç”¨thread.interrupt()æ–¹æ³•ï¼Œ è¯¥æ–¹æ³•å°†åœ¨çº¿ç¨‹é˜»å¡æ—¶æŠ›å‡ºä¸€ä¸ªä¸­æ–­ã€‚ä¿¡å·ï¼Œè¯¥ä¿¡å·å°†è¢«catchè¯­å¥æ•è·åˆ°ï¼Œä¸€æ—¦æ•è·åˆ°è¿™ä¸ªä¿¡å·ï¼Œçº¿ç¨‹å°±æå‰ç»ˆç»“è‡ªå·±çš„é˜»å¡çŠ¶æ€ï¼Œè¿™æ ·ï¼Œå®ƒå°±èƒ½å¤Ÿ å†æ¬¡è¿è¡Œrunæ–¹æ³•äº†ï¼Œç„¶åæ£€æŸ¥åˆ°stop = trueï¼Œwhileç»ˆæ­¢ã€‚ å½“ä»£ç è°ƒç”¨ä¸­é¡»è¦æŠ›å‡ºä¸€ä¸ªInterruptedException, ä½ å¯ä»¥é€‰æ‹©æŠŠä¸­æ–­çŠ¶æ€å¤ä½, ä¹Ÿå¯ä»¥é€‰æ‹©å‘å¤–æŠ›å‡ºInterruptedException, ç”±è°ƒç”¨è€…æ¥å†³å®šã€‚","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"http://yoursite.com/tags/é«˜å¹¶å‘/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"é”çš„åŸºæœ¬æ¦‚å¿µ","slug":"22programming/java/thread/é”çš„åŸºæœ¬æ¦‚å¿µ","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.104Z","comments":true,"path":"2016/11/06/22programming/java/thread/é”çš„åŸºæœ¬æ¦‚å¿µ/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/é”çš„åŸºæœ¬æ¦‚å¿µ/","excerpt":"","text":"é”çš„å­¦ä¹ é”çš„å‡ºç°æœ€æ—©å‡ºç°åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œç”¨äºè¿›ç¨‹å’Œçº¿ç¨‹é—´çš„åŒæ­¥ ä¸´ç•ŒåŒºæ¦‚å¿µä¸€ä¸ªè¿›ç¨‹åœ¨è¿›å…¥ä¸´ç•ŒåŒºä¹‹é—´ï¼Œå¿…é¡»å¾—åˆ°é”ã€‚ 123456789While(true) &#123; è¯·æ±‚é” ä¸´ç•ŒåŒº é‡Šæ”¾é” å‰©ä½™åŒº&#125; ä¿¡å·é‡ä½œä¸ºåŒæ­¥å·¥å…·é”æ˜¯åŒæ­¥çš„ä¸€ç§ï¼Œ2å€¼ä¿¡å·é‡å°±æ˜¯ä¸€ä¸ªäº’æ–¥é” é”çš„åˆ†ç±»äº’æ–¥é”ï¼ˆæ’å®ƒé”ã€ç‹¬å é”ã€å†™é”ã€Xé”ï¼‰å¦‚æœäº‹åŠ¡Tå¯¹æ•°æ®AåŠ ä¸Šæ’ä»–é”åï¼Œåˆ™å…¶ä»–äº‹åŠ¡ä¸èƒ½å†å¯¹AåŠ ä»»ä»»ä½•ç±»å‹çš„é”ï¼Œç›´åˆ°åœ¨äº‹åŠ¡çš„æœ«å°¾å°†èµ„æºä¸Šçš„é”é‡Šæ”¾ä¸ºæ­¢javaçš„å†…ç½®é”ï¼ˆ synchronizedï¼‰ä¸ºäº’æ–¥é” é”åœ¨ä¸€ä¸ªæ—¶é—´ç‚¹åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹é”å æœ‰ã€‚æ ¹æ®é”çš„è·å–æœºåˆ¶ï¼Œå®ƒåˆåˆ’åˆ†ä¸ºâ€œå…¬å¹³é”â€å’Œâ€œéå…¬å¹³é”â€ã€‚ å…±äº«é”ï¼ˆè¯»é”ã€Sé”ï¼‰å¦‚æœäº‹åŠ¡Tå¯¹æ•°æ®AåŠ ä¸Šå…±äº«é”åï¼Œåˆ™å…¶ä»–äº‹åŠ¡åªèƒ½å¯¹Aå†åŠ å…±äº«é”ï¼Œä¸èƒ½åŠ æ’ä»–é”ï¼Œç›´åˆ°å·²é‡Šæ”¾æ‰€æœ‰å…±äº«é”ã€‚è·å‡†å…±äº«é”çš„äº‹åŠ¡åªèƒ½è¯»æ•°æ®ï¼Œä¸èƒ½ä¿®æ”¹æ•°æ® èƒ½è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‹¥æœ‰ï¼Œèƒ½è¢«å…±äº«çš„é”ã€‚ å…¶ä»–çº¬åº¦çš„åˆ†ç±»å¯é‡å…¥é”å¦‚æœé”å…·å¤‡å¯é‡å…¥æ€§ï¼Œåˆ™ç§°ä½œä¸ºå¯é‡å…¥é”ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé”å¯ä»¥è¢«å•ä¸ªçº¿ç¨‹å¤šæ¬¡è·å–ã€‚å½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°æŸä¸ªsynchronizedæ–¹æ³•æ—¶ï¼Œæ¯”å¦‚è¯´method1ï¼Œè€Œåœ¨method1ä¸­ä¼šè°ƒç”¨å¦å¤–ä¸€ä¸ªsynchronizedæ–¹æ³•method2ï¼Œæ­¤æ—¶çº¿ç¨‹ä¸å¿…é‡æ–°å»ç”³è¯·é”ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥æ‰§è¡Œæ–¹æ³•method2ï¼Œsynchronizedå’ŒReentrantLockéƒ½æ˜¯å¯é‡å…¥é”ã€‚ å¯ä¸­æ–­é”å¦‚æœæŸä¸€çº¿ç¨‹Aæ­£åœ¨æ‰§è¡Œé”ä¸­çš„ä»£ç ï¼Œå¦ä¸€çº¿ç¨‹Bæ­£åœ¨ç­‰å¾…è·å–è¯¥é”ï¼Œå¯èƒ½ç”±äºç­‰å¾…æ—¶é—´è¿‡é•¿ï¼Œçº¿ç¨‹Bä¸æƒ³ç­‰å¾…äº†ï¼Œæƒ³å…ˆå¤„ç†å…¶ä»–äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥è®©å®ƒä¸­æ–­è‡ªå·±æˆ–è€…åœ¨åˆ«çš„çº¿ç¨‹ä¸­ä¸­æ–­å®ƒï¼Œè¿™ç§å°±æ˜¯å¯ä¸­æ–­é” å…¬å¹³é”å…¬å¹³é”å³å°½é‡ä»¥è¯·æ±‚é”çš„é¡ºåºæ¥è·å–é”ã€‚æ¯”å¦‚åŒæ˜¯æœ‰å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…ä¸€ä¸ªé”ï¼Œå½“è¿™ä¸ªé”è¢«é‡Šæ”¾æ—¶ï¼Œç­‰å¾…æ—¶é—´æœ€ä¹…çš„çº¿ç¨‹ï¼ˆæœ€å…ˆè¯·æ±‚çš„çº¿ç¨‹ï¼‰ä¼šè·å¾—è¯¥æ‰€ï¼Œè¿™ç§å°±æ˜¯å…¬å¹³é”ã€‚ åœ¨Javaä¸­ï¼Œsynchronizedå°±æ˜¯éå…¬å¹³é”ï¼Œå®ƒæ— æ³•ä¿è¯ç­‰å¾…çš„çº¿ç¨‹è·å–é”çš„é¡ºåº, ReentrantLockå’ŒReentrantReadWriteLockï¼Œå®ƒé»˜è®¤æƒ…å†µä¸‹æ˜¯éå…¬å¹³é”ï¼Œä½†æ˜¯å¯ä»¥è®¾ç½®ä¸ºå…¬å¹³é”ã€‚ ä¸åŒè§†è§’æ•°æ®åº“ç³»ç»Ÿçš„è§’åº¦é”åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ç±»å‹ã€‚ç‹¬å é”,å…±äº«é”,æ›´æ–°é” ä»ç¨‹åºå‘˜çš„è§’åº¦çœ‹ä¹è§‚é”ï¼ˆOptimistic Lockï¼‰ä¹è§‚é”çš„æ¦‚å¿µï¼Œä»–çš„æ ¸å¿ƒæ€è·¯å°±æ˜¯ï¼Œæ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€Œå»å®ŒæˆæŸé¡¹æ“ä½œï¼Œå¦‚æœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚å¸¸è§çš„ä¹è§‚é”æŠ€æœ¯ï¼ˆCASï¼‰ï¼Œä¹è§‚é”ï¼Œæ˜¯ä¸€ç§æ— é”æ–¹æ¡ˆã€‚ æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰éœ€è¦ç¨‹åºå‘˜ç›´æ¥ç®¡ç†æ•°æ®æˆ–å¯¹è±¡ä¸Šçš„åŠ é”å¤„ç†ï¼Œå¹¶è´Ÿè´£è·å–ã€å…±äº«å’Œæ”¾å¼ƒæ­£åœ¨ä½¿ç”¨çš„æ•°æ®ä¸Šçš„ä»»ä½•é”ã€‚ æ‚²è§‚é”ï¼Œä¹Ÿæ˜¯åŸºäºæ•°æ®åº“çš„é”æœºåˆ¶å®ç°","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"å¤šCPUç›‘æ§-mpstat","slug":"13åŸºç¡€æŠ€æœ¯/linux/mpstat","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.056Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/mpstat/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/mpstat/","excerpt":"","text":"#mpstat mpstatæ˜¯MultiProcessor Statisticsçš„ç¼©å†™ï¼Œæ˜¯å®æ—¶ç³»ç»Ÿç›‘æ§å·¥å…·ã€‚å…¶æŠ¥å‘Šä¸CPUçš„ä¸€äº›ç»Ÿè®¡ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨/proc/statæ–‡ä»¶ä¸­ã€‚åœ¨å¤šCPUsç³»ç»Ÿé‡Œï¼Œä¸ä½†èƒ½æŸ¥çœ‹æ‰€æœ‰CPUçš„å¹³å‡çŠ¶å†µä¿¡æ¯ï¼Œè€Œä¸”èƒ½å¤ŸæŸ¥çœ‹ç‰¹å®šCPUçš„ä¿¡æ¯ã€‚ è¿™ä¸ªå‘½ä»¤æ˜¾ç¤ºæ¯ä¸ªCPUçš„æ—¶é—´ä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥æ£€æŸ¥CPUæ˜¯å¦å­˜åœ¨è´Ÿè½½ä¸å‡è¡¡ã€‚å•ä¸ªè¿‡äºå¿™ç¢Œçš„CPUå¯èƒ½æ„å‘³ç€æ•´ä¸ªåº”ç”¨åªæœ‰å•ä¸ªçº¿ç¨‹åœ¨å·¥ä½œã€‚ å¦‚æœæ²¡æœ‰å®‰è£…sudo apt install sysstat å‚æ•°mpstatçš„è¯­æ³•å¦‚ä¸‹ï¼š mpstat [-P {|ALL}] [internal [count]] å‚æ•°çš„å«ä¹‰å¦‚ä¸‹ï¼š å‚æ•° è§£é‡Š -P {|ALL} è¡¨ç¤ºç›‘æ§å“ªä¸ªCPUï¼Œ cpuåœ¨[0,cpuä¸ªæ•°-1]ä¸­å–å€¼ internal ç›¸é‚»çš„ä¸¤æ¬¡é‡‡æ ·çš„é—´éš”æ—¶é—´ count é‡‡æ ·çš„æ¬¡æ•°ï¼Œcountåªèƒ½å’Œdelayä¸€èµ·ä½¿ç”¨ å½“æ²¡æœ‰å‚æ•°æ—¶ï¼Œmpstatåˆ™æ˜¾ç¤ºç³»ç»Ÿå¯åŠ¨ä»¥åæ‰€æœ‰ä¿¡æ¯çš„å¹³å‡å€¼ã€‚æœ‰intervalæ—¶ï¼Œç¬¬ä¸€è¡Œçš„ä¿¡æ¯è‡ªç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„å¹³å‡ä¿¡æ¯ã€‚ åŸºæœ¬ä½¿ç”¨mpstat -P ALL 1è¾“å‡ºå¦‚ä¸‹1234567Linux 4.4.0-47-generic (ubuntu) 12/14/2016 _x86_64_ (3 CPU)10:27:08 PM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle10:27:09 PM all 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.0010:27:09 PM 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.0010:27:09 PM 1 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.0010:27:09 PM 2 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 99.00 å‚æ•° è§£é‡Š CPU å¤„ç†å™¨ID user ç”¨æˆ·æ€çš„CPUæ—¶é—´ï¼ˆ%ï¼‰ ï¼Œä¸åŒ…å« niceå€¼ä¸ºè´Ÿ è¿›ç¨‹ dusr/dtotal*100 nice niceå€¼ä¸ºè´Ÿè¿›ç¨‹çš„CPUæ—¶é—´ï¼ˆ%ï¼‰ dnice/dtotal*100 system æ ¸å¿ƒæ—¶é—´ï¼ˆ%ï¼‰ dsystem/dtotal*100 iowait ç¡¬ç›˜IOç­‰å¾…æ—¶é—´ï¼ˆ%ï¼‰ diowait/dtotal*100 irq è½¯ä¸­æ–­æ—¶é—´ï¼ˆ%ï¼‰ dirq/dtotal*100 soft è½¯ä¸­æ–­æ—¶é—´ï¼ˆ%ï¼‰ dsoftirq/dtotal*100 idle CPUé™¤å»ç­‰å¾…ç£ç›˜IOæ“ä½œå¤–çš„å› ä¸ºä»»ä½•åŸå› è€Œç©ºé—²çš„æ—¶é—´é—²ç½®æ—¶é—´ ï¼ˆ%ï¼‰ didle/dtotal*100 intr/s æ¯ç§’CPUæ¥æ”¶çš„ä¸­æ–­çš„æ¬¡æ•° dintr/dtotal*100 ä»¥ä¸Šé’ˆå¯¹åœ¨internalæ—¶é—´æ®µé‡Œï¼Œç»Ÿè®¡ã€‚ %iowaitåˆ—ï¼ŒCPUç­‰å¾…I/Oæ“ä½œæ‰€èŠ±è´¹çš„æ—¶é—´ã€‚è¿™ä¸ªå€¼æŒç»­å¾ˆé«˜é€šå¸¸å¯èƒ½æ˜¯I/Oç“¶é¢ˆæ‰€å¯¼è‡´çš„ã€‚é€šè¿‡è¿™ä¸ªå‚æ•°å¯ä»¥æ¯”è¾ƒç›´è§‚çš„çœ‹å‡ºå½“å‰çš„I/Oæ“ä½œæ˜¯å¦å­˜åœ¨ç“¶é¢ˆ","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"AbstractQueuedSynchronizerå­¦ä¹ ","slug":"22programming/java/thread/AQS","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.102Z","comments":true,"path":"2016/11/06/22programming/java/thread/AQS/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/AQS/","excerpt":"","text":"AQSç®€ä»‹AbstractQueuedSynchronizerï¼ˆç®€ç§°AQSï¼‰AQSæ˜¯Javaå¹¶å‘æ¡†æ¶çš„ä¸€ä¸ªåŸºç¡€ç»„ä»¶ï¼Œjava.util.concurrentå¹¶å‘åŒ…ä¸‹å¾ˆå¤šç±»éƒ½æ˜¯åŸºäºå®ƒå®ç°çš„ï¼Œå¦‚ï¼šReentrantLockã€ReentrantReadWriterLockã€ä¿¡å·é‡ã€çº¿ç¨‹æ± ç­‰ã€‚ AQSæœ‰ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼šç‹¬å æ¨¡å¼å’Œå…±äº«æ¨¡å¼ã€‚AQSæ˜¯ç‹¬å é”(ä¾‹å¦‚ï¼ŒReentrantLock)å’Œå…±äº«é”(ä¾‹å¦‚ï¼ŒSemaphore)çš„å…¬å…±çˆ¶ç±»ã€‚ å®ƒçš„æ‰€æœ‰å­ç±»ä¸­ï¼Œè¦ä¹ˆå®ç°å¹¶ä½¿ç”¨äº†å®ƒç‹¬å åŠŸèƒ½çš„APIï¼Œè¦ä¹ˆä½¿ç”¨äº†å…±äº«é”çš„åŠŸèƒ½ï¼Œè€Œä¸ä¼šåŒæ—¶ä½¿ç”¨ä¸¤å¥—APIã€‚ ä»¥ReentrantReadWriterLockä¸ºä¾‹ï¼šå¦‚æœä¸€ä¸ªçº¿ç¨‹(å†™çº¿ç¨‹)ä»¥ç‹¬å æ¨¡å¼(acquire)è·å–åˆ°è¿™ä¸ªé”ï¼Œé‚£ä¹ˆå…¶ä»–çº¿ç¨‹(è¯»æˆ–å†™çº¿ç¨‹)ä¸ç®¡ä»¥å“ªç§æ¨¡å¼å°è¯•è·å–é”(å…±äº«æ¨¡å¼æ˜¯é€šè¿‡acquireSharedè·å–çš„)ï¼Œéƒ½ä¼šå¤±è´¥;å¦‚æœä¸€ä¸ªçº¿ç¨‹(è¯»çº¿ç¨‹)ä»¥å…±äº«æ¨¡å¼è·å–åˆ°è¿™ä¸ªé”ï¼Œé‚£ä¹ˆå…¶ä»–è¯»çº¿ç¨‹å¯ä»¥è·å–åˆ°é”ï¼Œè€Œå†™çº¿ç¨‹ä¼šè·å–å¤±è´¥ã€‚ AQSå®ç°AbstractQueuedSynchronizerå†…ç½®ä¸€ä¸ªstateå­—æ®µï¼Œå­ç±»é€šè¿‡ç»§æ‰¿åŒæ­¥å™¨å¹¶éœ€è¦å®ç°å®ƒçš„æ–¹æ³•æ¥ç®¡ç†å…¶çŠ¶æ€ï¼Œç®¡ç†çš„æ–¹å¼å°±æ˜¯é€šè¿‡ç±»ä¼¼acquireå’Œreleaseçš„æ–¹å¼æ¥æ“çºµçŠ¶æ€ã€‚ AQSä¼šå¯¹è¿›è¡Œ acquire è€Œè¢«é˜»å¡çš„çº¿ç¨‹è¿›è¡Œç®¡ç†ï¼Œå…¶å®å°±æ˜¯å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªFIFOé˜Ÿåˆ—ï¼Œè¿™ä¸ªé˜Ÿåˆ—æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚é“¾å¤´å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªç©ºçš„èŠ‚ç‚¹ï¼Œé™¤äº†é“¾å¤´ä»¥å¤–ï¼Œæ¯ä¸ªèŠ‚ç‚¹å†…éƒ¨éƒ½æŒæœ‰ç€ä¸€ä¸ªçº¿ç¨‹ã€‚ acquireæ“ä½œf(å°è¯•è·å–æˆåŠŸ){ returnï¼› }else{ åŠ å…¥ç­‰å¾…é˜Ÿåˆ—;parkè‡ªå·±} releasif(å°è¯•é‡Šæ”¾æˆåŠŸ){ unparkç­‰å¾…é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªèŠ‚ç‚¹}else{ return false}ä¸ºäº†å®ç°ä¸Šè¿°æ“ä½œï¼Œéœ€è¦ä¸‹é¢ä¸‰ä¸ªåŸºæœ¬ç»„ä»¶ï¼š 1) åŒæ­¥çŠ¶æ€çš„åŸå­æ€§ç®¡ç†ï¼› 2) çº¿ç¨‹çš„é˜»å¡ä¸è§£é™¤é˜»å¡ï¼› 3) é˜Ÿåˆ—çš„ç®¡ç†ï¼› http://www.infoq.com/cn/articles/jdk1.8-abstractqueuedsynchronizerhttp://ifeve.com/introduce-abstractqueuedsynchronizer/http://www.cnblogs.com/noahsark/p/sbstract_queued_synchronizer.html Unsafeä¸CAShttp://www.cnblogs.com/xrq730/p/4976007.html public final boolean compareAndSet(int expect, int update) { return unsafe.compareAndSwapInt(this, valueOffset, expect, update); }è¿™ä¸ªæ–¹æ³•æœ‰å››ä¸ªå‚æ•°ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºéœ€è¦æ”¹å˜çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªä¸ºåç§»é‡(å³ä¹‹å‰æ±‚å‡ºæ¥çš„valueOffsetçš„å€¼)ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæœŸå¾…çš„å€¼ï¼Œç¬¬å››ä¸ªä¸ºæ›´æ–°åçš„å€¼ã€‚æ•´ä¸ªæ–¹æ³•çš„ä½œç”¨å³ä¸ºè‹¥è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œvalueçš„å€¼ä¸expectè¿™ä¸ªå€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆåˆ™å°†valueä¿®æ”¹ä¸ºupdateè¿™ä¸ªå€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªtrueï¼Œå¦‚æœè°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œvalueçš„å€¼ä¸expectè¿™ä¸ªå€¼ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆä¸åšä»»ä½•æ“ä½œï¼Œå¹¶èŒƒå›´ä¸€ä¸ªfalseã€‚ ä»£ç æ•´ä½“ç»“æ„AQSåŒæ­¥é˜Ÿåˆ—çš„ä¸»è¦åŠŸèƒ½æ˜¯å°†æ— æ³•è·å¾—èµ„æºçš„çº¿ç¨‹æ”¾å…¥åŒæ­¥é˜Ÿåˆ—ä¸­ï¼Œè¿›è¡Œç­‰å¾…ï¼Œå®ƒæ˜¯é€šè¿‡é“¾è¡¨æ¥å®ç°çš„ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªä»»åŠ¡çº¿ç¨‹ã€‚åœ¨AbstractQueuedSynchronizerç±»ä¸­ç”¨é™æ€å†…éƒ¨ç±»Nodeæ¥ä½œä¸ºé“¾è¡¨çš„æ•°æ®ç»“æ„ã€‚ AQSå‚è€ƒäº†CLHé”çš„è®¾è®¡,ä½†AQSæ²¡æœ‰é‡‡ç”¨CLHä¸­çš„è‡ªæ—‹æ¥æŸ¥çœ‹å‰é©±ï¼ˆprevï¼‰èŠ‚ç‚¹çš„çŠ¶æ€AQSä¸­ï¼Œé˜Ÿåˆ—èŠ‚ç‚¹æ˜¯æ”¾åœ¨ä¸€ä¸ªåŒå‘é“¾è¡¨ç»“æ„ä¸­çš„ã€‚ CLH(Craig, Landin, and Hagersten)é”ï¼Œç®€å•çš„è¯´ï¼Œå®ƒä½¿ç”¨é˜Ÿåˆ—çš„æ–¹å¼æ¥è§£å†³nä¸ªçº¿ç¨‹æ¥äº‰å¤ºmæŠŠé”çš„é—®é¢˜ï¼Œæ¯å½“ä¸€ä¸ªæ–°çš„çº¿ç¨‹éœ€è¦è·å–é”ï¼Œä¸ºå…¶åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å¹¶æ”¾åˆ°é˜Ÿå°¾ï¼Œå¦‚æœè¯¥çº¿ç¨‹æ˜¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™èŠ‚ç‚¹çš„lockedè®¾ç½®æˆfalseï¼Œå¦‚æœå®ƒä¸æ˜¯é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™å®ƒçš„èŠ‚ç‚¹çš„prevæŒ‡å‘åŸæ¥çš„é˜Ÿå°¾èŠ‚ç‚¹ï¼Œå¹¶ä¸æ–­è‡ªæ—‹æŸ¥çœ‹prevæŒ‡å‘èŠ‚ç‚¹çš„lockedå±æ€§ï¼Œå¦‚æœè¯¥å€¼å˜ä¸ºfalseï¼Œè¡¨ç¤ºè½®åˆ°å®ƒæ¥å°è¯•è·å–é”äº†ï¼Œå¦‚æœè·å–æˆåŠŸå¹¶æœ€ç»ˆç”¨å®Œé‡Šæ”¾åï¼Œåˆ™å°†è‡ªå·±çš„lockedè®¾ç½®æˆfalseï¼Œå¦‚æœè·å–å¤±è´¥ï¼Œlockedå€¼ä¸å˜ï¼Œè¿˜æ˜¯trueï¼Œå¹¶ä¸æ–­å°è¯•è·å–é”ã€‚ MSCä¹Ÿæ˜¯å¯æ‰©å±•ã€é«˜æ€§èƒ½çš„è‡ªæ—‹é”ï¼Œå®ƒå’ŒCLHä¸åŒçš„æ˜¯ï¼Œå®ƒæ˜¯å¯¹è‡ªå·±èŠ‚ç‚¹çš„lockedå±æ€§è¿›è¡Œè‡ªæ—‹ï¼Œè¿™æ„å‘³ç€prevèŠ‚ç‚¹é‡Šæ”¾é”åï¼Œéœ€è¦å»ä¸»åŠ¨æ”¹å˜å®ƒçš„åç»§nextèŠ‚ç‚¹çš„lockedçš„çŠ¶æ€ã€‚ é™æ€å†…éƒ¨ç±»Nodeç±»æœ‰å“ªäº›ä¸»è¦å±æ€§ï¼š 123456789Node &#123; int waitStatus; Node prev; Node next; /** å› ä¸ºæ¡ä»¶åªèƒ½æ˜¯ç‹¬å çš„ï¼Œæ‰€ä»¥nextWaiteræŒ‡å‘çš„æ˜¯ä¸‹ä¸€ä¸ªç­‰å¾…è¯¥æ¡ä»¶çš„Nodeã€‚å½“ç„¶ï¼Œåœ¨å…±äº«æ¨¡å¼ä¸­ï¼ŒnextWaiterä¼šè¢«è®¾ç½®æˆä¸€ä¸ªç‰¹æ®Šå€¼ï¼šSHARED*/ Node nextWaiter; /** Nodeä¸Šç»‘å®šçš„çº¿ç¨‹ï¼Œç”±æ„é€ å‡½æ•°ä¼ å…¥ï¼Œç”¨å®Œåéœ€è¦set null */ Thread thread;&#125; Nodeçš„éé™æ€å±æ€§ï¼Œå› ä¸ºæ˜¯åŒå‘é“¾è¡¨ï¼Œæ‰€ä»¥æœ‰prevå’Œnextï¼Œè¿˜æœ‰ä¸€ä¸ªthreadï¼Œç”¨æ¥è®°å½•è¯¥èŠ‚ç‚¹å¯¹åº”çš„çº¿ç¨‹ï¼Œè¿˜æœ‰ä¸€ä¸ªè¡¨ç¤ºè¯¥èŠ‚ç‚¹çŠ¶æ€çš„waitStatusï¼Œå®ƒæœ‰å››ç§çŠ¶æ€ï¼š SIGNALï¼Œå€¼ä¸º-1ï¼Œè¡¨ç¤ºå½“å‰èŠ‚ç‚¹çš„nextèŠ‚ç‚¹éœ€è¦è·å–èµ„æºæ•°ï¼Œä¹Ÿå°±æ˜¯éœ€è¦unparkCANCELLEDï¼Œå€¼ä¸º1ï¼Œè¡¨ç¤ºå½“å‰çš„çº¿ç¨‹è¢«å–æ¶ˆCONDITIONï¼Œå€¼ä¸º-2ï¼Œè¡¨ç¤ºå½“å‰èŠ‚ç‚¹åœ¨ç­‰å¾…conditionï¼Œä¹Ÿå°±æ˜¯åœ¨conditioné˜Ÿåˆ—ä¸­PROPAGATEï¼Œå€¼ä¸º-3ï¼Œè¡¨ç¤ºå½“å‰åœºæ™¯ä¸‹åç»­çš„acquireSharedèƒ½å¤Ÿæ‰§è¡Œ0ï¼Œæ–°å»ºçš„Nodeçš„çŠ¶æ€éƒ½æ˜¯0ï¼Œè¡¨ç¤ºåˆå§‹çŠ¶æ€ã€‚ åŒæ­¥å™¨æ‹¥æœ‰ä¸‰ä¸ªæˆå‘˜å˜é‡ï¼šsyncé˜Ÿåˆ—çš„å¤´ç»“ç‚¹headã€syncé˜Ÿåˆ—çš„å°¾èŠ‚ç‚¹tailå’ŒçŠ¶æ€stateã€‚ AQSä¸­èµ„æºæ•°ï¼ˆæˆ–è€…é”ï¼‰çš„ä¸ªæ•°æ˜¯æ”¾åœ¨stateï¼Œprivate volatile int state; å¯¹äºé”çš„è·å–ï¼Œè¯·æ±‚å½¢æˆèŠ‚ç‚¹ï¼Œå°†å…¶æŒ‚è½½åœ¨å°¾éƒ¨ï¼Œè€Œé”èµ„æºçš„è½¬ç§»ï¼ˆé‡Šæ”¾å†è·å–ï¼‰æ˜¯ä»å¤´éƒ¨å¼€å§‹å‘åè¿›è¡Œã€‚ tryAcquireé€šè¿‡è¿”å›ä¸€ä¸ªbooleanå€¼æ¥å‘Šè¯‰è°ƒç”¨è€…è·å–èµ„æºæ•°æ˜¯å¦æˆåŠŸï¼Œè€ŒtryAcquireSharedåˆ™è¿”å›çš„æ˜¯ä¸ªintå‹ï¼Œå°äº0è¡¨ç¤ºè·å–å¤±è´¥ï¼Œç­‰äº0è¡¨ç¤ºè·å–æˆåŠŸä½†åç»­è¿˜æœ‰å…¶ä»–è·å–å°†å¤±è´¥ï¼Œå¤§äº0ä¹Ÿè¡¨ç¤ºè·å–æˆåŠŸä½†åç»­çš„è·å–æœ‰å¯èƒ½æˆåŠŸã€‚ å…ˆä»ä¸€ä¸ªä¾‹å­çœ‹èµ·,äº’æ–¥é”123public void lock() &#123; sync.acquire(1);&#125; acquire()åœ¨AQSä¸­å®ç°ï¼š12345public final void acquire(int arg) &#123; if (!tryAcquire(arg) &amp;&amp; acquireQueued(addWaiter(Node.EXCLUSIVE), arg)) selfInterrupt();&#125; â€œå½“å‰çº¿ç¨‹â€é¦–å…ˆé€šè¿‡tryAcquire()å°è¯•è·å–é”ã€‚è·å–æˆåŠŸçš„è¯ï¼Œç›´æ¥è¿”å›ï¼›å°è¯•å¤±è´¥çš„è¯ï¼Œè¿›å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—æ’åºç­‰å¾…ã€‚tryAcquireç”±å­ç±»å®ç°ã€‚ å°è¯•è·å–é”å¤±è´¥ï¼Œé€šè¿‡addWaiter(Node.EXCLUSIVE)æ¥å°†â€œå½“å‰çº¿ç¨‹â€åŠ å…¥åˆ°â€CLHé˜Ÿåˆ—(éé˜»å¡çš„FIFOé˜Ÿåˆ—)â€æœ«å°¾ã€‚CLHé˜Ÿåˆ—å°±æ˜¯çº¿ç¨‹ç­‰å¾…é˜Ÿåˆ—ã€‚ è°ƒç”¨acquireQueued()æ¥è·å–é”ã€‚ â€œå½“å‰çº¿ç¨‹â€åœ¨æ‰§è¡ŒacquireQueued()æ—¶ï¼Œä¼šè¿›å…¥åˆ°CLHé˜Ÿåˆ—ä¸­ä¼‘çœ ç­‰å¾…ï¼Œç›´åˆ°è·å–é”äº†æ‰è¿”å›ï¼å¦‚æœâ€œå½“å‰çº¿ç¨‹â€åœ¨ä¼‘çœ ç­‰å¾…è¿‡ç¨‹ä¸­è¢«ä¸­æ–­è¿‡ï¼ŒacquireQueuedä¼šè¿”å›trueï¼Œæ­¤æ—¶â€å½“å‰çº¿ç¨‹â€ä¼šè°ƒç”¨selfInterrupt()æ¥è‡ªå·±ç»™è‡ªå·±äº§ç”Ÿä¸€ä¸ªä¸­æ–­ã€‚ addWaiteræºç 12345678910111213141516private Node addWaiter(Node mode) &#123; // æ–°å»ºä¸€ä¸ªNodeèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å¯¹åº”çš„çº¿ç¨‹æ˜¯â€œå½“å‰çº¿ç¨‹â€ï¼Œâ€œå½“å‰çº¿ç¨‹â€çš„é”çš„æ¨¡å‹æ˜¯modeã€‚ Node node = new Node(Thread.currentThread(), mode); Node pred = tail; // è‹¥CLHé˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œåˆ™å°†â€œå½“å‰çº¿ç¨‹â€æ·»åŠ åˆ°CLHé˜Ÿåˆ—æœ«å°¾ if (pred != null) &#123; node.prev = pred; if (compareAndSetTail(pred, node)) &#123; pred.next = node; return node; &#125; &#125; // è‹¥CLHé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è°ƒç”¨enq()æ–°å»ºCLHé˜Ÿåˆ—ï¼Œç„¶åå†å°†â€œå½“å‰çº¿ç¨‹â€æ·»åŠ åˆ°CLHé˜Ÿåˆ—ä¸­ã€‚ enq(node); return node;&#125; acquireQueued()æºç acquireQueued()çš„ä½œç”¨å°±æ˜¯é€æ­¥çš„å»æ‰§è¡ŒCLHé˜Ÿåˆ—çš„çº¿ç¨‹ï¼Œå¦‚æœå½“å‰çº¿ç¨‹è·å–åˆ°äº†é”ï¼Œåˆ™è¿”å›ï¼›å¦åˆ™ï¼Œå½“å‰çº¿ç¨‹è¿›è¡Œä¼‘çœ ï¼Œç›´åˆ°å”¤é†’å¹¶é‡æ–°è·å–é”äº†æ‰è¿”å›ã€‚ èŠ‚ç‚¹ä»¥â€œæ­»å¾ªç¯â€çš„æ–¹å¼è·å–åŒæ­¥çŠ¶æ€ã€‚å¦‚æœè·å–ä¸åˆ°åˆ™é˜»å¡èŠ‚ç‚¹ä¸­çš„çº¿ç¨‹ï¼Œè€Œè¢«é˜»å¡çº¿ç¨‹çš„å”¤é†’ä¸»è¦ä¾é å‰é©±èŠ‚ç‚¹çš„å‡ºé˜Ÿæˆ–é˜»å¡çº¿ç¨‹è¢«ä¸­æ–­æ¥å®ç°ã€‚ 12345678910111213141516171819202122232425 final boolean acquireQueued(final Node node, int arg) &#123; boolean failed = true; try &#123; // interruptedè¡¨ç¤ºåœ¨CLHé˜Ÿåˆ—çš„è°ƒåº¦ä¸­ï¼Œ // â€œå½“å‰çº¿ç¨‹â€åœ¨ä¼‘çœ æ—¶ï¼Œæœ‰æ²¡æœ‰è¢«ä¸­æ–­è¿‡ã€‚ boolean interrupted = false; for (;;) &#123; // è·å–ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚ // nodeæ˜¯â€œå½“å‰çº¿ç¨‹â€å¯¹åº”çš„èŠ‚ç‚¹ï¼Œè¿™é‡Œå°±æ„å‘³ç€â€œè·å–ä¸Šä¸€ä¸ªç­‰å¾…é”çš„çº¿ç¨‹â€ã€‚ final Node p = node.predecessor(); if (p == head &amp;&amp; tryAcquire(arg)) &#123; setHead(node); p.next = null; // help GC failed = false; return interrupted; &#125; if (shouldParkAfterFailedAcquire(p, node) &amp;&amp; parkAndCheckInterrupt()) interrupted = true; &#125; &#125; finally &#123; if (failed) cancelAcquire(node); &#125;&#125; åœ¨acquireQueued(final Node node,int arg)æ–¹æ³•ä¸­ï¼Œå½“å‰çº¿ç¨‹åœ¨â€œæ­»å¾ªç¯â€ä¸­å°è¯•è·å–åŒæ­¥çŠ¶æ€ï¼Œè€Œåªæœ‰å‰é©±èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œå½“å‰çº¿ç¨‹å°±è°ƒç”¨tryAcquireå°è¯•è·å–é”ï¼Œå¦‚æœè·å–æˆåŠŸå°±å°†å¤´ç»“ç‚¹è®¾ç½®ä¸ºå½“å‰ç»“ç‚¹ï¼Œè¿”å›ï¼› ä¸æ˜¯å¤´ç»“ç‚¹çš„æƒ…å†µå†³å®šæ˜¯å¦åº”è¯¥æŒ‚èµ·ï¼ŒshouldParkAfterFailedAcquireè¿”å›â€œå½“å‰çº¿ç¨‹æ˜¯å¦åº”è¯¥é˜»å¡ã€‚ shouldParkAfterFailedAcquire()12345678910111213141516171819// â€private static boolean shouldParkAfterFailedAcquire(Node pred, Node node) &#123; // å‰ç»§èŠ‚ç‚¹çš„çŠ¶æ€ int ws = pred.waitStatus; // å¦‚æœå‰ç»§èŠ‚ç‚¹æ˜¯SIGNALçŠ¶æ€ï¼Œåˆ™æ„å‘³è¿™å½“å‰çº¿ç¨‹éœ€è¦è¢«unparkå”¤é†’ã€‚æ­¤æ—¶ï¼Œè¿”å›trueã€‚ if (ws == Node.SIGNAL) return true; // å¦‚æœå‰ç»§èŠ‚ç‚¹æ˜¯â€œå–æ¶ˆâ€çŠ¶æ€ï¼Œåˆ™è®¾ç½® â€œå½“å‰èŠ‚ç‚¹â€çš„ â€œå½“å‰å‰ç»§èŠ‚ç‚¹â€ ä¸º â€œâ€˜åŸå‰ç»§èŠ‚ç‚¹â€™çš„å‰ç»§èŠ‚ç‚¹â€ã€‚ if (ws &gt; 0) &#123; do &#123; node.prev = pred = pred.prev; &#125; while (pred.waitStatus &gt; 0); pred.next = node; &#125; else &#123; // å¦‚æœå‰ç»§èŠ‚ç‚¹ä¸ºâ€œ0â€æˆ–è€…â€œå…±äº«é”â€çŠ¶æ€ï¼Œåˆ™è®¾ç½®å‰ç»§èŠ‚ç‚¹ä¸ºSIGNALçŠ¶æ€ã€‚ compareAndSetWaitStatus(pred, ws, Node.SIGNAL); &#125; return false;&#125; CANCELLEDï¼šå› ä¸ºè¶…æ—¶æˆ–è€…ä¸­æ–­ï¼Œç»“ç‚¹ä¼šè¢«è®¾ç½®ä¸ºå–æ¶ˆçŠ¶æ€ï¼Œè¢«å–æ¶ˆçŠ¶æ€çš„ç»“ç‚¹ä¸åº”è¯¥å»ç«äº‰é”ï¼Œåªèƒ½ä¿æŒå–æ¶ˆçŠ¶æ€ä¸å˜ï¼Œä¸èƒ½è½¬æ¢ä¸ºå…¶ä»–çŠ¶æ€ã€‚å¤„äºè¿™ç§çŠ¶æ€çš„ç»“ç‚¹ä¼šè¢«è¸¢å‡ºé˜Ÿåˆ—ï¼Œè¢«GCå›æ”¶ï¼› SIGNALï¼šè¡¨ç¤ºè¿™ä¸ªç»“ç‚¹çš„ç»§ä»»ç»“ç‚¹è¢«é˜»å¡äº†ï¼Œåˆ°æ—¶éœ€è¦é€šçŸ¥å®ƒï¼› CONDITIONï¼šè¡¨ç¤ºè¿™ä¸ªç»“ç‚¹åœ¨æ¡ä»¶é˜Ÿåˆ—ä¸­ï¼Œå› ä¸ºç­‰å¾…æŸä¸ªæ¡ä»¶è€Œè¢«é˜»å¡ï¼› PROPAGATEï¼šä½¿ç”¨åœ¨å…±äº«æ¨¡å¼å¤´ç»“ç‚¹æœ‰å¯èƒ½ç‰Œå¤„äºè¿™ç§çŠ¶æ€ï¼Œè¡¨ç¤ºé”çš„ä¸‹ä¸€æ¬¡è·å–å¯ä»¥æ— æ¡ä»¶ä¼ æ’­ï¼›0ï¼šNone of the aboveï¼Œæ–°ç»“ç‚¹ä¼šå¤„äºè¿™ç§çŠ¶æ€ã€‚ è¯¥æ–¹æ³•é¦–å…ˆæ£€æŸ¥å‰è¶‹ç»“ç‚¹çš„waitStatusä½ï¼Œå¦‚æœä¸ºSIGNAL,è¡¨ç¤ºå‰è¶‹ç»“ç‚¹ä¼šé€šçŸ¥å®ƒï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°æŒ‚èµ·äº†ï¼› å¦‚æœå‰è¶‹ç»“ç‚¹æ˜¯ä¸€ä¸ªè¢«å–æ¶ˆçš„ç»“ç‚¹æ€ä¹ˆåŠå‘¢ï¼Ÿé‚£ä¹ˆå°±å‘å‰éå†è·³è¿‡è¢«å–æ¶ˆçš„ç»“ç‚¹ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæ²¡æœ‰è¢«å–æ¶ˆçš„ç»“ç‚¹ä¸ºæ­¢ï¼Œå°†æ‰¾åˆ°çš„è¿™ä¸ªç»“ç‚¹ä½œä¸ºå®ƒçš„å‰è¶‹ç»“ç‚¹ï¼Œå°†æ‰¾åˆ°çš„è¿™ä¸ªç»“ç‚¹çš„waitStatusä½è®¾ç½®ä¸ºSIGNAL,è¿”å›falseè¡¨ç¤ºçº¿ç¨‹ä¸åº”è¯¥è¢«æŒ‚èµ·ã€‚ parkAndCheckInterruptä¸Šé¢çš„ä»£ç è¿”å›true,éœ€è¦è¿›è¡Œé˜»å¡ã€‚åˆ™ä¼šè°ƒç”¨parkAndCheckInterrupt()é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å½“å‰å…ˆè¢«å”¤é†’æ‰ä»parkAndCheckInterrupt()ä¸­è¿”å›ã€‚ 123456private final boolean parkAndCheckInterrupt() &#123; // é€šè¿‡LockSupportçš„park()é˜»å¡â€œå½“å‰çº¿ç¨‹â€ã€‚ LockSupport.park(this); // è¿”å›çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ã€‚ return Thread.interrupted();&#125; çº¿ç¨‹è¢«é˜»å¡ä¹‹åå¦‚ä½•å”¤é†’ã€‚ä¸€èˆ¬æœ‰2ç§æƒ…å†µï¼šç¬¬1ç§æƒ…å†µï¼šunpark()å”¤é†’ã€‚â€œå‰ç»§èŠ‚ç‚¹å¯¹åº”çš„çº¿ç¨‹â€ä½¿ç”¨å®Œé”ä¹‹åï¼Œé€šè¿‡unpark()æ–¹å¼å”¤é†’å½“å‰çº¿ç¨‹ã€‚ç¬¬2ç§æƒ…å†µï¼šä¸­æ–­å”¤é†’ã€‚å…¶å®ƒçº¿ç¨‹é€šè¿‡interrupt()ä¸­æ–­å½“å‰çº¿ç¨‹ã€‚ LockSupportä¸­çš„park() å’Œ unpark() çš„ä½œç”¨åˆ†åˆ«æ˜¯é˜»å¡çº¿ç¨‹å’Œè§£é™¤é˜»å¡çº¿ç¨‹ã€‚Thread.interrupted()æ¸…é™¤ä¸­æ–­çŠ¶æ€ã€‚ selfInterrupt()å¦‚æœé˜»å¡åï¼Œä¸­æ–­å”¤é†’ 123private static void selfInterrupt() &#123; Thread.currentThread().interrupt();&#125; â€œå½“å‰çº¿ç¨‹â€è‡ªå·±äº§ç”Ÿä¸€ä¸ªä¸­æ–­ã€‚ åœ¨ä¸Šé¢çš„acquireQueued()ä¸­ï¼Œçº¿ç¨‹åœ¨é˜»å¡çŠ¶æ€è¢«ä¸­æ–­å”¤é†’è€Œè·å–åˆ°cpuæ‰§è¡Œæƒåˆ©ï¼›ä½†æ˜¯ï¼Œå¦‚æœè¯¥çº¿ç¨‹çš„å‰é¢è¿˜æœ‰å…¶å®ƒç­‰å¾…é”çš„çº¿ç¨‹ï¼Œæ ¹æ®å…¬å¹³æ€§åŸåˆ™ï¼Œè¯¥çº¿ç¨‹ä¾ç„¶æ— æ³•è·å–åˆ°é”ã€‚å®ƒä¼šå†æ¬¡é˜»å¡ï¼ è¯¥çº¿ç¨‹å†æ¬¡é˜»å¡ï¼Œç›´åˆ°è¯¥çº¿ç¨‹è¢«å®ƒçš„å‰é¢ç­‰å¾…é”çš„çº¿ç¨‹é”é‡‡ç”¨unpark()å”¤é†’ï¼›çº¿ç¨‹æ‰ä¼šè·å–é”ï¼Œç„¶åâ€œçœŸæ­£æ‰§è¡Œèµ·æ¥â€ï¼ åœ¨parkAndCheckInterrupt()ä¸­ï¼Œçº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€è¢«æ¸…é™¤äº†ã€‚ å†çœ‹acquire()å‡½æ•°12345public final void acquire(int arg) &#123; if (!tryAcquire(arg) &amp;&amp; acquireQueued(addWaiter(Node.EXCLUSIVE), arg)) selfInterrupt();&#125; å…ˆæ˜¯é€šè¿‡tryAcquire()å°è¯•è·å–é”ã€‚è·å–æˆåŠŸçš„è¯ï¼Œç›´æ¥è¿”å›ï¼›å°è¯•å¤±è´¥çš„è¯ï¼Œå†é€šè¿‡acquireQueued()è·å–é”ã€‚ å°è¯•å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œä¼šå…ˆé€šè¿‡addWaiter()æ¥å°†â€œå½“å‰çº¿ç¨‹â€åŠ å…¥åˆ°â€CLHé˜Ÿåˆ—â€æœ«å°¾ï¼›ç„¶åè°ƒç”¨acquireQueued()ï¼Œåœ¨CLHé˜Ÿåˆ—ä¸­æ’åºç­‰å¾…è·å–é”ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹å¤„äºä¼‘çœ çŠ¶æ€ã€‚ç›´åˆ°è·å–é”äº†æ‰è¿”å›ã€‚ å¦‚æœåœ¨ä¼‘çœ ç­‰å¾…è¿‡ç¨‹ä¸­è¢«ä¸­æ–­è¿‡ï¼Œåˆ™è°ƒç”¨selfInterrupt()æ¥è‡ªå·±äº§ç”Ÿä¸€ä¸ªä¸­æ–­ã€‚ http://ifeve.com/introduce-abstractqueuedsynchronizer/http://blog.csdn.net/sherld/article/details/42492259AbstractQueuedSynchronizeræºç è§£æhttp://blog.csdn.net/yuenkin/article/details/50867530 AbstractQueuedSynchronizer(AQS)æºç è§£æï¼ˆä¸€ï¼‰http://www.tuicool.com/articles/INfEj23 http://manzhizhen.iteye.com/blog/2305890 Javaå¤šçº¿ç¨‹ç³»åˆ—ç›®å½•(å…±43ç¯‡)http://www.cnblogs.com/skywang12345/p/java_threads_category.html http://blog.csdn.net/yanlinwang/article/details/41172697","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"æŸ¥çœ‹å‘åŒ…çš„ç«¯å£ï¼netstat","slug":"13åŸºç¡€æŠ€æœ¯/linux/netstat","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.056Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/netstat/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/netstat/","excerpt":"","text":"#netstat å¯ç”¨äºåˆ—å‡ºç³»ç»Ÿä¸Šæ‰€æœ‰çš„ç½‘ç»œå¥—æ¥å­—è¿æ¥æƒ…å†µï¼ŒåŒ…æ‹¬ tcp, udp ä»¥åŠ unix å¥—æ¥å­—ï¼Œå¦å¤–å®ƒè¿˜èƒ½åˆ—å‡ºå¤„äºç›‘å¬çŠ¶æ€ï¼ˆå³ç­‰å¾…æ¥å…¥è¯·æ±‚ï¼‰çš„å¥—æ¥å­—ã€‚ åŸºæœ¬ä½¿ç”¨netstat ï¼an å‚æ•° å‚æ•°è¯´æ˜ è¯´æ˜ -a æ˜¾ç¤ºæ‰€æœ‰socketï¼ŒåŒ…æ‹¬æ­£åœ¨ç›‘å¬çš„ã€‚ -c æ¯éš”1ç§’å°±é‡æ–°æ˜¾ç¤ºä¸€éï¼Œç›´åˆ°ç”¨æˆ·ä¸­æ–­å®ƒã€‚ -i æ˜¾ç¤ºæ‰€æœ‰ç½‘ç»œæ¥å£çš„ä¿¡æ¯ï¼Œæ ¼å¼åŒâ€œifconfig -n ä»¥ç½‘ç»œIPåœ°å€ä»£æ›¿åç§°ï¼Œæ˜¾ç¤ºå‡ºç½‘ç»œè¿æ¥æƒ…å½¢ã€‚ -n é€‰é¡¹ç¦ç”¨åŸŸåè§£æåŠŸèƒ½ -r æ˜¾ç¤ºæ ¸å¿ƒè·¯ç”±è¡¨ï¼Œæ ¼å¼åŒâ€œroute -t æ˜¾ç¤ºTCPåè®®çš„è¿æ¥æƒ…å†µã€‚ -u æ˜¾ç¤ºUDPåè®®çš„è¿æ¥æƒ…å†µã€‚ -v æ˜¾ç¤ºæ­£åœ¨è¿›è¡Œçš„å·¥ä½œã€‚ å­—æ®µæè¿°ç”¨æ³•ä¸¾ä¾‹åˆ—å‡ºæ‰€æœ‰è¿æ¥åˆ—å‡ºæ‰€æœ‰å½“å‰çš„è¿æ¥ã€‚ä½¿ç”¨ -a é€‰é¡¹å³netstat -a netstat -an | grep LISTENnetstat -an | grep ESTABLISHED å‚æ•°ä¸­stateçš„å«ä¹‰å¦‚ä¸‹æ‰€ç¤º åç§° è¯´æ˜ LISTEN ä¾¦å¬æ¥è‡ªè¿œæ–¹çš„TCPç«¯å£çš„è¿æ¥è¯·æ±‚ã€‚ SYN_SENT åœ¨å‘é€è¿æ¥è¯·æ±‚åç­‰å¾…åŒ¹é…çš„è¿æ¥è¯·æ±‚ã€‚ SYN_RECEIVED åœ¨æ”¶åˆ°å’Œå‘é€ä¸€ä¸ªè¿æ¥è¯·æ±‚åç­‰å¾…å¯¹æ–¹å¯¹è¿æ¥è¯·æ±‚çš„ç¡®è®¤ã€‚ ESTABLISHED ä»£è¡¨ä¸€ä¸ªæ‰“å¼€çš„è¿æ¥ï¼Œæˆ‘ä»¬å¸¸ç”¨æ­¤ä½œå¹¶å‘è¿æ¥æ•°ã€‚ FIN_WAIT1 ç­‰å¾…è¿œç¨‹TCPè¿æ¥ä¸­æ–­è¯·æ±‚ï¼Œæˆ–å…ˆå‰çš„è¿æ¥ä¸­æ–­è¯·æ±‚çš„ç¡®è®¤ã€‚ FIN_WAIT2 ä»è¿œç¨‹TCPç­‰å¾…è¿æ¥ä¸­æ–­è¯·æ±‚ã€‚ CLOSE_WAIT ç­‰å¾…ä»æœ¬åœ°ç”¨æˆ·å‘æ¥çš„è¿æ¥ä¸­æ–­è¯·æ±‚ã€‚ CLOSING ç­‰å¾…è¿œç¨‹TCPå¯¹è¿æ¥ä¸­æ–­çš„ç¡®è®¤ã€‚ LAST_ACK ç­‰å¾…åŸæ¥å‘å‘è¿œç¨‹TCPçš„è¿æ¥ä¸­æ–­è¯·æ±‚çš„ç¡®è®¤ã€‚ TIME_WAIT ç­‰å¾…è¶³å¤Ÿçš„æ—¶é—´ä»¥ç¡®ä¿è¿œç¨‹TCPæ¥æ”¶åˆ°è¿æ¥ä¸­æ–­è¯·æ±‚çš„ç¡®è®¤ã€‚ CLOSED æ²¡æœ‰ä»»ä½•è¿æ¥çŠ¶æ€ åªåˆ—å‡º TCP æˆ– UDP åè®®çš„è¿æ¥ä½¿ç”¨ -t é€‰é¡¹åˆ—å‡º TCP åè®®çš„è¿æ¥netstat -at ä½¿ç”¨ -u é€‰é¡¹åˆ—å‡º UDP åè®®çš„è¿æ¥netstat -au ç¦ç”¨åå‘åŸŸåè§£æï¼ŒåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ netstat ä¼šé€šè¿‡åå‘åŸŸåè§£ææŠ€æœ¯æŸ¥æ‰¾æ¯ä¸ª IP åœ°å€å¯¹åº”çš„ä¸»æœºåã€‚è¿™ä¼šé™ä½æŸ¥æ‰¾é€Ÿåº¦ã€‚å¦‚æœä½ è§‰å¾— IP åœ°å€å·²ç»è¶³å¤Ÿï¼Œè€Œæ²¡æœ‰å¿…è¦çŸ¥é“ä¸»æœºåï¼Œå°±ä½¿ç”¨ -n é€‰é¡¹ç¦ç”¨åŸŸåè§£æåŠŸèƒ½ netstat -ant åªåˆ—å‡ºç›‘å¬ä¸­çš„è¿æ¥ä»»ä½•ç½‘ç»œæœåŠ¡çš„åå°è¿›ç¨‹éƒ½ä¼šæ‰“å¼€ä¸€ä¸ªç«¯å£ï¼Œç”¨äºç›‘å¬æ¥å…¥çš„è¯·æ±‚ã€‚è¿™äº›æ­£åœ¨ç›‘å¬çš„å¥—æ¥å­—ä¹Ÿå’Œè¿æ¥çš„å¥—æ¥å­—ä¸€æ ·ï¼Œä¹Ÿèƒ½è¢« netstat åˆ—å‡ºæ¥ã€‚ä½¿ç”¨ -l é€‰é¡¹åˆ—å‡ºæ­£åœ¨ç›‘å¬çš„å¥—æ¥å­—ã€‚netstat -tnl ä¸è¦ä½¿ç”¨a è·å–è¿›ç¨‹åã€è¿›ç¨‹å·ä»¥åŠç”¨æˆ· IDä½¿ç”¨ -p é€‰é¡¹æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯sudo netstat -nlpt ä½¿ç”¨ -p é€‰é¡¹æ—¶ï¼Œnetstat å¿…é¡»è¿è¡Œåœ¨ root æƒé™ä¹‹ä¸‹ï¼Œä¸ç„¶å®ƒå°±ä¸èƒ½å¾—åˆ°è¿è¡Œåœ¨ root æƒé™ä¸‹çš„è¿›ç¨‹å sudo netstat -ltpe -ep é€‰é¡¹å¯ä»¥åŒæ—¶æŸ¥çœ‹è¿›ç¨‹åå’Œç”¨æˆ·åå‡å¦‚ä½ å°† -n å’Œ -e é€‰é¡¹ä¸€èµ·ä½¿ç”¨ï¼ŒUser åˆ—çš„å±æ€§å°±æ˜¯ç”¨æˆ·çš„ ID å·ï¼Œè€Œä¸æ˜¯ç”¨æˆ·å æ‰€æœ‰ç½‘ç»œåŒ…çš„ç»Ÿè®¡æƒ…å†µnetstat -såŒ…å«Icmpï¼Œip,tcpç­‰åè®® æ˜¾ç¤ºå¤šæ’­ç»„ä¿¡æ¯netstat -g æ‰¾å‡ºè¿è¡Œåœ¨æŒ‡å®šç«¯å£çš„è¿›ç¨‹rootç”¨æˆ·netstat -anop | grep 3306 å‚è€ƒhttps://linux.cn/article-2434-1.htmlhttp://blog.csdn.net/u013281361/article/details/52021993","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"javaå¹¶å‘æœºåˆ¶å’Œå†…å­˜æ¨¡å‹æ€»ç»“","slug":"22programming/java/thread/javaå¹¶å‘çŸ¥è¯†æ€»ç»“","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.102Z","comments":true,"path":"2016/11/06/22programming/java/thread/javaå¹¶å‘çŸ¥è¯†æ€»ç»“/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/javaå¹¶å‘çŸ¥è¯†æ€»ç»“/","excerpt":"","text":"æœ¯è¯­ä¸´ç•ŒåŒºä¸´ç•ŒåŒºè¡¨ç¤ºä¸€ç§å…¬å…±èµ„æºæˆ–è€…å…±äº«æ•°æ®ã€‚æ¯ä¸€åˆ»åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œå¦‚æœä¸´ç•ŒåŒºèµ„æºè¢«å ç”¨ï¼Œå…¶ä»–çº¿ç¨‹æƒ³ä½¿ç”¨è¿™ä¸ªèµ„æºï¼Œå°±å¿…é¡»ç­‰å¾…ã€‚ CASCompare and Swapï¼Œæ¯”è¾ƒå¹¶è®¾ç½®ã€‚ ç”¨äºåœ¨ç¡¬ä»¶å±‚é¢ä¸Šæä¾›åŸå­æ€§æ“ä½œã€‚åœ¨Intel å¤„ç†å™¨ä¸­ï¼Œæ¯”è¾ƒå¹¶äº¤æ¢é€šè¿‡æŒ‡ä»¤cmpxchgå®ç°ã€‚æ¯”è¾ƒæ˜¯å¦å’Œç»™å®šçš„æ•°å€¼ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´åˆ™ä¿®æ”¹ï¼Œä¸ä¸€è‡´åˆ™ä¸ä¿®æ”¹ã€‚ å¹¶å‘ç¼–ç¨‹çš„æŒ‘æˆ˜å¹¶å‘ç¼–ç¨‹çš„ç›®çš„æ˜¯ä¸ºäº†è®©ç¨‹åºè¿è¡Œå¾—æ›´å¿«ï¼Œä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯å¯åŠ¨æ›´å¤šçš„çº¿ç¨‹å°±èƒ½è®©ç¨‹åºæœ€å¤§é™åº¦åœ°å¹¶å‘æ‰§è¡Œã€‚ çº¿ç¨‹æœ‰åˆ›å»ºå’Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ã€æ­»é”çš„é—®é¢˜ï¼Œä»¥åŠå—é™äºç¡¬ä»¶å’Œè½¯ä»¶çš„èµ„æºé™åˆ¶ã€‚ amdah1å®šå¾‹ï¼šå¤šæ ¸cpuä¼˜åŒ–çš„æ•ˆæœå–å†³äºcpuæ•°é‡å’Œç³»ç»Ÿä¸­ä¸²è¡ŒåŒ–ç¨‹åºçš„æ¯”é‡ã€‚åªæä¾›cpuæ•°é‡ä¹Ÿæ— æ³•æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚ #javaä¸­å¹¶å‘ç¼–ç¨‹æ¨¡å‹ Javaä¸­æ‰€ä½¿ç”¨çš„å¹¶å‘æœºåˆ¶ä¾èµ–äºJVMçš„å®ç°å’ŒCPUçš„æŒ‡ä»¤ã€‚ åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œéœ€è¦å¤„ç†ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼šçº¿ç¨‹ä¹‹é—´å¦‚ä½•é€šä¿¡åŠçº¿ç¨‹ä¹‹é—´å¦‚ä½•åŒæ­¥ã€‚ é€šä¿¡æ˜¯æŒ‡çº¿ç¨‹ä¹‹é—´ä»¥ä½•ç§æœºåˆ¶æ¥äº¤æ¢ä¿¡æ¯ã€‚çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡æœºåˆ¶æœ‰ä¸¤ç§ï¼šå…±äº«å†…å­˜å’Œæ¶ˆæ¯ä¼ é€’ã€‚ Javaçš„å¹¶å‘é‡‡ç”¨çš„æ˜¯å…±äº«å†…å­˜æ¨¡å‹ã€‚ç”±Javaå†…å­˜æ¨¡å‹ï¼ˆæœ¬æ–‡ç®€ç§°ä¸ºJMMï¼‰æ§åˆ¶ã€‚ åœ¨å…±äº«å†…å­˜çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å…¬å…±çŠ¶æ€ï¼Œé€šè¿‡å†™-è¯»å†…å­˜ä¸­çš„å…¬å…±çŠ¶æ€è¿›è¡Œéšå¼é€šä¿¡ã€‚ åŒæ­¥æ˜¯æŒ‡ç¨‹åºä¸­ç”¨äºæ§åˆ¶ä¸åŒçº¿ç¨‹é—´æ“ä½œå‘ç”Ÿç›¸å¯¹é¡ºåºçš„æœºåˆ¶ã€‚åœ¨å…±äº«å†…å­˜å¹¶å‘æ¨¡å‹é‡Œï¼ŒåŒæ­¥æ˜¯æ˜¾å¼è¿›è¡Œçš„ã€‚ç¨‹åºå‘˜å¿…é¡»æ˜¾å¼æŒ‡å®šæŸä¸ªæ–¹æ³•æˆ–æŸæ®µä»£ç éœ€è¦åœ¨çº¿ç¨‹ä¹‹é—´äº’æ–¥æ‰§è¡Œã€‚ åœ¨æ¶ˆæ¯ä¼ é€’çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œç”±äºæ¶ˆæ¯çš„å‘é€å¿…é¡»åœ¨æ¶ˆæ¯çš„æ¥æ”¶ä¹‹å‰ï¼Œå› æ­¤åŒæ­¥æ˜¯éšå¼è¿›è¡Œçš„ã€‚ æ“ä½œç³»ç»Ÿå±‚é¢ï¼šä¸ºäº†æé«˜å¤„ç†é€Ÿåº¦ï¼Œå¤„ç†å™¨ä¸ç›´æ¥å’Œå†…å­˜è¿›è¡Œé€šä¿¡ï¼Œè€Œæ˜¯å…ˆå°†ç³»ç»Ÿå†…å­˜çš„æ•°æ®è¯»åˆ°å†…éƒ¨ç¼“å­˜ï¼ˆL1ï¼ŒL2æˆ–å…¶ä»–ï¼‰åå†è¿›è¡Œæ“ä½œã€‚ ç°ä»£çš„å¤„ç†å™¨ä½¿ç”¨å†™ç¼“å†²åŒºä¸´æ—¶ä¿å­˜å‘å†…å­˜å†™å…¥çš„æ•°æ®ã€‚å†™ç¼“å†²åŒºå¯ä»¥ä¿è¯æŒ‡ä»¤æµæ°´çº¿æŒç»­è¿è¡Œï¼Œå®ƒå¯ä»¥é¿å…ç”±äºå¤„ç†å™¨åœé¡¿ä¸‹æ¥ç­‰å¾…å‘å†…å­˜å†™å…¥æ•°æ®è€Œäº§ç”Ÿçš„å»¶è¿Ÿã€‚åŒæ—¶ï¼Œé€šè¿‡ä»¥æ‰¹å¤„ç†çš„æ–¹å¼åˆ·æ–°å†™ç¼“å†²åŒºï¼Œä»¥åŠåˆå¹¶å†™ç¼“å†²åŒºä¸­å¯¹åŒä¸€å†…å­˜åœ°å€çš„å¤šæ¬¡å†™ï¼Œå‡å°‘å¯¹å†…å­˜æ€»çº¿çš„å ç”¨ã€‚ è™½ç„¶å†™ç¼“å†²åŒºæœ‰å¾ˆå¤šå¥½å¤„ï¼Œä½†æ¯ä¸ªå¤„ç†å™¨ä¸Šçš„å†™ç¼“å†²åŒºï¼Œä»…ä»…å¯¹å®ƒæ‰€åœ¨çš„å¤„ç†å™¨å¯è§ã€‚ å¦‚æœå¯¹å£°æ˜äº†volatileçš„å˜é‡è¿›è¡Œå†™æ“ä½œï¼ŒJVMå°±ä¼šå‘å¤„ç†å™¨å‘é€ä¸€æ¡Lockå‰ç¼€çš„æŒ‡ä»¤ï¼Œå°†è¿™ä¸ªå˜é‡æ‰€åœ¨ç¼“å­˜è¡Œçš„æ•°æ®å†™å›åˆ°ç³»ç»Ÿå†…å­˜ã€‚ å¦‚ä½•è§£å†³å…¶ä»–å¤„ç†å™¨ç¼“å­˜çš„å€¼è¿˜æ˜¯æ—§çš„ï¼Ÿ ä¸ºäº†ä¿è¯å„ä¸ªå¤„ç†å™¨çš„ç¼“å­˜æ˜¯ä¸€è‡´çš„ï¼Œå°±ä¼šå®ç°ç¼“å­˜ä¸€è‡´æ€§åè®®ã€‚æ¯ä¸ªå¤„ç†å™¨é€šè¿‡å—…æ¢åœ¨æ€»çº¿ä¸Šä¼ æ’­çš„æ•°æ®æ¥æ£€æŸ¥è‡ªå·±ç¼“å­˜çš„å€¼æ˜¯ä¸æ˜¯è¿‡æœŸäº†ã€‚ æ“ä½œç³»ç»Ÿå±‚é¢ï¼šåœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’åºã€‚æŒ‡ä»¤é‡æ’,åŒæ—¶å¸¦æ¥äº†ä¹±åºçš„é—®é¢˜ã€‚åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œå¯¹å­˜åœ¨æ§åˆ¶ä¾èµ–çš„æ“ä½œé‡æ’åºï¼Œå¯èƒ½ä¼šæ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœã€‚ ä¸ºäº†ä¿è¯å†…å­˜å¯è§æ€§ï¼ŒJavaç¼–è¯‘å™¨åœ¨ç”ŸæˆæŒ‡ä»¤åºåˆ—çš„é€‚å½“ä½ç½®ä¼šæ’å…¥å†…å­˜å±éšœæŒ‡ä»¤æ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚ JMMæ€»ç»“JMMä»æŠ½è±¡çš„è§’åº¦æ¥çœ‹ï¼ŒJMMå®šä¹‰äº†çº¿ç¨‹å’Œä¸»å†…å­˜ä¹‹é—´çš„æŠ½è±¡å…³ç³»ï¼šçº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆMain Memoryï¼‰ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„Localå†…å­˜ï¼ˆLocal Memoryï¼‰ï¼Œæœ¬åœ°å†…å­˜ä¸­å­˜å‚¨äº†è¯¥çº¿ç¨‹ä»¥è¯»/å†™å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚ æœ¬åœ°å†…å­˜æ˜¯JMMçš„ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®å­˜åœ¨ã€‚å®ƒæ¶µç›–äº†ç¼“å­˜ã€å†™ç¼“å†²åŒºã€å¯„å­˜å™¨ä»¥åŠå…¶ä»–çš„ç¡¬ä»¶å’Œç¼–è¯‘å™¨ä¼˜åŒ–ã€‚ å…±äº«å˜é‡ï¼šåœ¨Javaä¸­ï¼Œæ‰€æœ‰å®ä¾‹åŸŸã€é™æ€åŸŸå’Œæ•°ç»„å…ƒç´ éƒ½å­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå †å†…å­˜åœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ã€‚è¿™äº›å˜é‡ç»Ÿç§°ä¸ºå…±äº«å˜é‡ã€‚ JMMå…³é”®æŠ€æœ¯ç‚¹JMMéµå¾ªçš„åŸºæœ¬åŸåˆ™ï¼šåªè¦ä¸æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœï¼ˆæŒ‡çš„æ˜¯å•çº¿ç¨‹ç¨‹åºå’Œæ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºï¼‰ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ€ä¹ˆä¼˜åŒ–éƒ½å¯ä»¥ã€‚ JMMçš„å…³é”®æŠ€æœ¯ç‚¹ä¸»è¦ä¸ºå¤šçº¿ç¨‹çš„åŸå­æ€§ï¼å¯è§æ€§ï¼æœ‰åºæ€§ã€‚ åŸå­æ€§å¤„ç†å™¨å¦‚ä½•å®ç°åŸå­æ“ä½œ32ä½IA-32å¤„ç†å™¨ä½¿ç”¨åŸºäºå¯¹ç¼“å­˜åŠ é”æˆ–æ€»çº¿åŠ é”çš„æ–¹å¼æ¥å®ç°å¤šå¤„ç†å™¨ä¹‹é—´çš„åŸå­æ“ä½œ Javaå¦‚ä½•å®ç°åŸå­æ“ä½œåœ¨Javaä¸­å¯ä»¥é€šè¿‡é”å’Œå¾ªç¯CASçš„æ–¹å¼æ¥å®ç°åŸå­æ“ä½œã€‚ ä»Java 1.5å¼€å§‹ï¼ŒJDKçš„å¹¶å‘åŒ…é‡Œæä¾›äº†ä¸€äº›ç±»æ¥æ”¯æŒåŸå­æ“ä½œï¼Œå¦‚AtomicBooleanï¼ˆç”¨åŸå­æ–¹å¼æ›´æ–°çš„booleanå€¼ï¼‰ã€AtomicIntegerï¼ˆç”¨åŸå­æ–¹å¼æ›´æ–°çš„intå€¼ï¼‰å’ŒAtomicLongï¼ˆç”¨åŸå­æ–¹å¼æ›´æ–°çš„longå€¼ï¼‰ ä½¿ç”¨å¾ªç¯CASå®ç°åŸå­æ“ä½œJVMä¸­çš„CASæ“ä½œæ­£æ˜¯åˆ©ç”¨äº†å¤„ç†å™¨æä¾›çš„CMPXCHGæŒ‡ä»¤å®ç°çš„ã€‚è‡ªæ—‹CASå®ç°çš„åŸºæœ¬æ€è·¯å°±æ˜¯å¾ªç¯è¿›è¡ŒCASæ“ä½œç›´åˆ°æˆåŠŸä¸ºæ­¢ ä½¿ç”¨é”æœºåˆ¶å®ç°åŸå­æ“ä½œé”æœºåˆ¶ä¿è¯äº†åªæœ‰è·å¾—é”çš„çº¿ç¨‹æ‰èƒ½å¤Ÿæ“ä½œé”å®šçš„å†…å­˜åŒºåŸŸã€‚JVMå†…éƒ¨å®ç°äº†å¾ˆå¤šç§é”æœºåˆ¶ï¼Œæœ‰åå‘é”ã€è½»é‡çº§é”å’Œäº’æ–¥é”ã€‚æœ‰æ„æ€çš„æ˜¯é™¤äº†åå‘é”ï¼ŒJVMå®ç°é”çš„æ–¹å¼éƒ½ç”¨äº†å¾ªç¯CASï¼Œå³å½“ä¸€ä¸ªçº¿ç¨‹æƒ³è¿›å…¥åŒæ­¥å—çš„æ—¶å€™ä½¿ç”¨å¾ªç¯CASçš„æ–¹å¼æ¥è·å–é”ï¼Œå½“å®ƒé€€å‡ºåŒæ­¥å—çš„æ—¶å€™ä½¿ç”¨å¾ªç¯CASé‡Šæ”¾é”ã€‚ å¯è§æ€§JMMé€šè¿‡æ§åˆ¶ä¸»å†…å­˜ä¸æ¯ä¸ªçº¿ç¨‹çš„æœ¬åœ°å†…å­˜ä¹‹é—´çš„äº¤äº’ï¼Œæ¥ä¸ºJavaç¨‹åºå‘˜æä¾›å†…å­˜å¯è§æ€§ä¿è¯ã€‚ æœ‰åºæ€§åœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’åºã€‚æŒ‡ä»¤é‡æ’,åŒæ—¶å¸¦æ¥äº†ä¹±åºçš„é—®é¢˜ã€‚ JMMçš„å¤„ç†å™¨é‡æ’åºè§„åˆ™ä¼šè¦æ±‚Javaç¼–è¯‘å™¨åœ¨ç”ŸæˆæŒ‡ä»¤åºåˆ—æ—¶ï¼Œæ’å…¥ç‰¹å®šç±»å‹çš„å†…å­˜å±éšœï¼ˆMemory Barriersï¼ŒIntelç§°ä¹‹ä¸ºMemory Fenceï¼‰æŒ‡ä»¤ï¼Œé€šè¿‡å†…å­˜å±éšœæŒ‡ä»¤æ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚ é‚£äº›æŒ‡ä»¤ä¸èƒ½è¿›è¡Œé‡æ’ï¼Ÿ happen-beforeè§„åˆ™ã€‚ #å¸¸ç”¨åŒæ­¥æ–¹å¼ synchronizedã€volatileã€Lock volatileåœ¨å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹ä¸­synchronizedå’Œvolatileéƒ½æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ï¼Œvolatileå¯ä»¥è®¤ä¸ºæ˜¯è½»é‡çº§çš„synchronizedã€‚å®ƒåœ¨å¤šå¤„ç†å™¨å¼€å‘ä¸­ä¿è¯äº†å…±äº«å˜é‡çš„â€œå¯è§æ€§â€ã€‚ Javaè¯­è¨€æä¾›äº†volatileï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æ¯”é”è¦æ›´åŠ æ–¹ä¾¿ã€‚å¦‚æœä¸€ä¸ªå­—æ®µè¢«å£°æ˜æˆvolatileï¼ŒJavaçº¿ç¨‹å†…å­˜æ¨¡å‹ç¡®ä¿æ‰€æœ‰çº¿ç¨‹çœ‹åˆ°è¿™ä¸ªå˜é‡çš„å€¼æ˜¯ä¸€è‡´çš„ã€‚ ä¸€ä¸ªvolatileå˜é‡çš„å•ä¸ªè¯»/å†™æ“ä½œï¼Œä¸ä¸€ä¸ªæ™®é€šå˜é‡çš„è¯»/å†™æ“ä½œéƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªé”æ¥åŒæ­¥ï¼Œå®ƒä»¬ä¹‹é—´çš„æ‰§è¡Œæ•ˆæœç›¸åŒã€‚ volatileçš„å®šä¹‰ä¸å®ç°åŸç†Javaè¯­è¨€è§„èŒƒç¬¬3ç‰ˆä¸­å¯¹volatileçš„å®šä¹‰å¦‚ä¸‹ï¼šJavaç¼–ç¨‹è¯­è¨€å…è®¸çº¿ç¨‹è®¿é—®å…±äº«å˜é‡ï¼Œä¸ºäº†ç¡®ä¿å…±äº«å˜é‡èƒ½è¢«å‡†ç¡®å’Œä¸€è‡´åœ°æ›´æ–°ï¼Œçº¿ç¨‹åº”è¯¥ç¡®ä¿é€šè¿‡æ’ä»–é”å•ç‹¬è·å¾—è¿™ä¸ªå˜é‡ã€‚Javaè¯­è¨€æä¾›äº†volatileï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æ¯”é”è¦æ›´åŠ æ–¹ä¾¿ã€‚å¦‚æœä¸€ä¸ªå­—æ®µè¢«å£°æ˜æˆvolatileï¼ŒJavaçº¿ç¨‹å†…å­˜æ¨¡å‹ç¡®ä¿æ‰€æœ‰çº¿ç¨‹çœ‹åˆ°è¿™ä¸ªå˜é‡çš„å€¼æ˜¯ä¸€è‡´çš„ã€‚ volatileè¯»çš„å†…å­˜è¯­ä¹‰ï¼šå½“è¯»ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ç½®ä¸ºæ— æ•ˆã€‚çº¿ç¨‹æ¥ä¸‹æ¥å°†ä»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡ã€‚å½“å†™ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ã€‚ volatileè¯»çš„å†…å­˜è¯­ä¹‰ï¼šå½“è¯»ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ç½®ä¸ºæ— æ•ˆã€‚çº¿ç¨‹æ¥ä¸‹æ¥å°†ä»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡ã€‚ ä¸ºäº†å®ç°volatileçš„å†…å­˜è¯­ä¹‰ï¼Œç¼–è¯‘å™¨åœ¨ç”Ÿæˆå­—èŠ‚ç æ—¶ï¼Œä¼šåœ¨æŒ‡ä»¤åºåˆ—ä¸­æ’å…¥å†…å­˜å±éšœæ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚ä¾‹å¦‚åœ¨æ¯ä¸ªvolatileå†™æ“ä½œçš„å‰é¢æ’å…¥ä¸€ä¸ªStoreStoreå±éšœã€‚ ä¸ºäº†æä¾›ä¸€ç§æ¯”é”æ›´è½»é‡çº§çš„çº¿ç¨‹ä¹‹é—´é€šä¿¡çš„æœºåˆ¶ï¼ŒJSR-133ä¸“å®¶ç»„å†³å®šå¢å¼ºvolatileçš„å†…å­˜è¯­ä¹‰ï¼šä¸¥æ ¼é™åˆ¶ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹volatileå˜é‡ä¸æ™®é€šå˜é‡çš„é‡æ’åºï¼Œç¡®ä¿volatileçš„å†™-è¯»å’Œé”çš„é‡Šæ”¾-è·å–å…·æœ‰ç›¸åŒçš„å†…å­˜è¯­ä¹‰ã€‚ ##Lockå¯¹è±¡ volatileä»…ä»…ä¿è¯å¯¹å•ä¸ªvolatileå˜é‡çš„è¯»/å†™å…·æœ‰åŸå­æ€§ï¼Œè€Œé”çš„äº’æ–¥æ‰§è¡Œçš„ç‰¹æ€§å¯ä»¥ç¡®ä¿å¯¹æ•´ä¸ªä¸´ç•ŒåŒºä»£ç çš„æ‰§è¡Œå…·æœ‰åŸå­æ€§ã€‚ å†…å­˜å†…å­˜è¯­ä¹‰çº¿ç¨‹Aé‡Šæ”¾ä¸€ä¸ªé”ï¼Œå®è´¨ä¸Šæ˜¯çº¿ç¨‹Aå‘æ¥ä¸‹æ¥å°†è¦è·å–è¿™ä¸ªé”çš„æŸä¸ªçº¿ç¨‹å‘å‡ºäº†ï¼ˆçº¿ç¨‹Aå¯¹å…±äº«å˜é‡æ‰€åšä¿®æ”¹çš„ï¼‰æ¶ˆæ¯ã€‚Â·çº¿ç¨‹Bè·å–ä¸€ä¸ªé”ï¼Œå®è´¨ä¸Šæ˜¯çº¿ç¨‹Bæ¥æ”¶äº†ä¹‹å‰æŸä¸ªçº¿ç¨‹å‘å‡ºçš„ï¼ˆåœ¨é‡Šæ”¾è¿™ä¸ªé”ä¹‹å‰å¯¹å…±äº«å˜é‡æ‰€åšä¿®æ”¹çš„ï¼‰æ¶ˆæ¯ã€‚ ä»£ç 12345678910111213141516171819202122232425import java.util.concurrent.locks.ReentrantLock;class ReentrantLockExample &#123; int a = 0; ReentrantLock lock = new ReentrantLock(); public void writer() &#123; lock.lock(); // try &#123; a++; &#125; finally &#123; lock.unlock(); // &#125; &#125; public void reader() &#123; lock.lock(); // try &#123; int i = a; // &#125; finally &#123; lock.unlock(); // &#125; &#125;&#125; åœ¨ReentrantLockä¸­ï¼Œè°ƒç”¨lock()æ–¹æ³•è·å–é”ï¼›è°ƒç”¨unlock()æ–¹æ³•é‡Šæ”¾é”ã€‚å†…éƒ¨ä½¿ç”¨æ•´å‹çš„volatileå˜é‡ï¼ˆå‘½åä¸ºstateï¼‰æ¥ç»´æŠ¤åŒæ­¥çŠ¶æ€ã€‚ æ•´å‹çš„volatileå˜é‡ï¼ˆå‘½åä¸ºstateï¼‰æ¥ç»´æŠ¤åŒæ­¥çŠ¶æ€ã€‚åŠ é”æ–¹æ³•é¦–å…ˆè¯»volatileå˜é‡stateã€‚é‡Šæ”¾é”çš„æœ€åå†™volatileå˜é‡stateã€‚ concurrentåŒ…é€šç”¨åŒ–çš„å®ç°æ¨¡å¼é¦–å…ˆï¼Œå£°æ˜å…±äº«å˜é‡ä¸ºvolatileã€‚ç„¶åï¼Œä½¿ç”¨CASçš„åŸå­æ¡ä»¶æ›´æ–°æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ã€‚åŒæ—¶ï¼Œé…åˆä»¥volatileçš„è¯»/å†™å’ŒCASæ‰€å…·æœ‰çš„volatileè¯»å’Œå†™çš„å†…å­˜è¯­ä¹‰æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ synchronizedVS locksynchronizedæ˜¯æ‰˜ç®¡ç»™JVMæ‰§è¡Œçš„ï¼Œè€Œlockæ˜¯Javaå†™çš„æ§åˆ¶é”çš„ä»£ç ã€‚ synchronizedç§°ä¸ºâ€œé‡é‡çº§é”â€,åœ¨1.5ä¸­ï¼Œsynchronizeæ˜¯æ€§èƒ½ä½æ•ˆçš„ã€‚å¯¼è‡´æœ‰å¯èƒ½åŠ é”æ¶ˆè€—çš„ç³»ç»Ÿæ—¶é—´æ¯”åŠ é”ä»¥å¤–çš„æ“ä½œè¿˜å¤šã€‚åˆ°äº†Java1.6å‘ç”Ÿäº†å˜åŒ–ã€‚synchronizeåœ¨è¯­ä¹‰ä¸Šå¾ˆæ¸…æ™°ï¼Œå¯ä»¥è¿›è¡Œå¾ˆå¤šä¼˜åŒ–ï¼ˆä¸ºäº†å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ï¼Œæœ‰é€‚åº”è‡ªæ—‹ï¼Œé”æ¶ˆé™¤ï¼Œé”ç²—åŒ–ï¼Œè½»é‡çº§é”ï¼Œåå‘é”ç­‰ç­‰ã€‚å¯¼è‡´åœ¨Java1.6ä¸Šsynchronizeçš„æ€§èƒ½å¹¶ä¸æ¯”Lockå·®ã€‚ synchronizedåŸå§‹é‡‡ç”¨çš„æ˜¯CPUæ‚²è§‚é”æœºåˆ¶ï¼Œå³çº¿ç¨‹è·å¾—çš„æ˜¯ç‹¬å é”ã€‚ç‹¬å é”æ„å‘³ç€å…¶ä»–çº¿ç¨‹åªèƒ½ä¾é é˜»å¡æ¥ç­‰å¾…çº¿ç¨‹é‡Šæ”¾é”ï¼Œè€Œåœ¨CPUè½¬æ¢çº¿ç¨‹é˜»å¡æ—¶ä¼šå¼•èµ·çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ Lockç”¨çš„æ˜¯ä¹è§‚é”æ–¹å¼ã€‚æ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€Œå»å®ŒæˆæŸé¡¹æ“ä½œï¼Œå¦‚æœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚è·å¾—é”çš„æ–¹æ³•æ˜¯compareAndSetStateï¼Œå°±æ˜¯è°ƒç”¨çš„CPUæä¾›çš„ç‰¹æ®ŠæŒ‡ä»¤ã€‚ Synchonizedåœ¨JVMé‡Œçš„å®ç°åŸç†synchronizedå®ç°åŒæ­¥çš„åŸºç¡€ï¼šJavaä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºé”ã€‚ ä»£ç å—åŒæ­¥æ˜¯ä½¿ç”¨monitorenterå’ŒmonitorexitæŒ‡ä»¤å®ç°monitorenteræŒ‡ä»¤æ˜¯åœ¨ç¼–è¯‘åæ’å…¥åˆ°åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®ï¼Œè€Œmonitorexitæ˜¯æ’å…¥åˆ°æ–¹æ³•ç»“æŸå¤„å’Œå¼‚å¸¸å¤„ã€‚ ä»»ä½•å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªmonitorä¸ä¹‹å…³è”ï¼Œå½“ä¸€ä¸ªmonitorè¢«æŒæœ‰åï¼Œå®ƒå°†å¤„äºé”å®šçŠ¶æ€ã€‚ æ¨¡å‹ä»‹ç»happen-beforeè§„åˆ™é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹å‚è€ƒ å„ç§ Java Thread State ç¬¬ä¸€åˆ†ææ³•åˆ™","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"http://yoursite.com/tags/é«˜å¹¶å‘/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ç»¼åˆç›‘æ§åˆ°çº¿ç¨‹ï¼pidstatå‘½ä»¤","slug":"13åŸºç¡€æŠ€æœ¯/linux/pidstat","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.056Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/pidstat/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/pidstat/","excerpt":"","text":"#pidstat ç”¨pidstatå·¥å…·å¯ä»¥è·å–æ¯ä¸ªè¿›ç¨‹ä½¿ç”¨cpuã€å†…å­˜å’Œç£ç›˜ç­‰ç³»ç»Ÿèµ„æºçš„ç»Ÿè®¡ä¿¡æ¯ã€‚ pidstatçœ‹ä¸Šå»å°±åƒtopï¼Œä¸è¿‡topçš„è¾“å‡ºä¼šè¦†ç›–æ‰ä¹‹å‰çš„è¾“å‡ºï¼Œè€Œpidstatçš„è¾“å‡ºåˆ™æ·»åŠ åœ¨ä¹‹å‰çš„è¾“å‡ºçš„åé¢ã€‚ åŸºæœ¬ä½¿ç”¨ä»¥1ç§’ä¸ºä¿¡æ¯é‡‡é›†å‘¨æœŸï¼Œåˆ†åˆ«è·å–cpuã€å†…å­˜å’Œç£ç›˜IOçš„ç»Ÿè®¡ä¿¡æ¯pidstat -u 1 pidstat -r 1 pidstat -d 1 å­—æ®µæè¿°pidstat è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š 123456linux 4.4.0-53-generic (ubuntu) 12/15/2016 _x86_64_ (3 CPU)03:20:10 PM UID PID %usr %system %guest %CPU CPU Command03:20:10 PM 0 1 0.01 0.02 0.00 0.02 0 systemd03:20:10 PM 0 3 0.00 0.00 0.00 0.00 0 ksoftirqd/003:20:10 PM 0 7 0.00 0.04 0.00 0.04 2 å­—æ®µ è¯´æ˜ PID è¿›ç¨‹pid %usr è¿›ç¨‹åœ¨ç”¨æˆ·æ€è¿è¡Œæ‰€å cpuæ—¶é—´æ¯”ç‡ %system è¿›ç¨‹åœ¨å†…æ ¸æ€è¿è¡Œæ‰€å cpuæ—¶é—´æ¯”ç‡ %CPU è¿›ç¨‹è¿è¡Œæ‰€å cpuæ—¶é—´æ¯”ç‡,åœ¨å„ä¸ªCPUä¸Šçš„ä½¿ç”¨é‡çš„æ€»å’Œ,ä¾‹å¦‚1600%,è¡¨ç¤ºæ¶ˆè€—äº†å°†è¿‘16ä¸ªCPU CPU æŒ‡ç¤ºè¿›ç¨‹åœ¨å“ªä¸ªæ ¸è¿è¡Œ Command è¿›ç¨‹å¯¹åº”çš„å‘½ä»¤ æ‰§è¡Œpidstaté»˜è®¤è¾“å‡ºä¿¡æ¯ä¸ºç³»ç»Ÿå¯åŠ¨ååˆ°æ‰§è¡Œæ—¶é—´ç‚¹çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œå› è€Œå³ä½¿å½“å‰æŸè¿›ç¨‹çš„cpuå ç”¨ç‡å¾ˆé«˜ï¼Œè¾“å‡ºä¸­çš„å€¼æœ‰å¯èƒ½ä»ä¸º0ã€‚ æŒ‡å®šé‡‡æ ·å‘¨æœŸå’Œé‡‡æ ·æ¬¡æ•°pidstat 2 2 å‚æ•°cpuä½¿ç”¨æƒ…å†µç»Ÿè®¡(-u)ä½¿ç”¨-ué€‰é¡¹ï¼Œpidstatå°†æ˜¾ç¤ºå„æ´»åŠ¨è¿›ç¨‹çš„cpuä½¿ç”¨ç»Ÿè®¡ï¼Œæ‰§è¡Œâ€pidstat -uâ€ä¸å•ç‹¬æ‰§è¡Œâ€pidstatâ€çš„æ•ˆæœä¸€æ · pidstat -p 1080 -u 1 3ä½¿ç”¨-pé€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹çš„ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ ä½¿ç”¨tå‚æ•°æ˜¾ç¤ºçº¿ç¨‹pidstat -p 1080 -u 1 3 -t å†…å­˜ä½¿ç”¨æƒ…å†µç»Ÿè®¡(-r)pidstat -r -p 927 1123403:30:13 PM UID PID minflt/s majflt/s VSZ RSS %MEM Command03:30:14 PM 122 927 0.00 0.00 1234292 149376 7.31 mysqld03:30:15 PM 122 927 0.00 0.00 1234292 149376 7.31 mysqld03:30:16 PM 122 927 0.00 0.00 1234292 149376 7.31 mysqld å­—æ®µ è¯´æ˜ minflt/s æ¯ç§’æ¬¡ç¼ºé¡µé”™è¯¯æ¬¡æ•°(minor page faults)ï¼Œæ¬¡ç¼ºé¡µé”™è¯¯æ¬¡æ•°æ„å³è™šæ‹Ÿå†…å­˜åœ°å€æ˜ å°„æˆç‰©ç†å†…å­˜åœ°å€äº§ç”Ÿçš„page faultæ¬¡æ•° majflt/s æ¯ç§’ä¸»ç¼ºé¡µé”™è¯¯æ¬¡æ•°(major page faults)ï¼Œå½“è™šæ‹Ÿå†…å­˜åœ°å€æ˜ å°„æˆç‰©ç†å†…å­˜åœ°å€æ—¶ï¼Œç›¸åº”çš„pageåœ¨swapä¸­ï¼Œè¿™æ ·çš„page faultä¸ºmajor page faultï¼Œä¸€èˆ¬åœ¨å†…å­˜ä½¿ç”¨ç´§å¼ æ—¶äº§ç”Ÿ VSZ è¯¥è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜(ä»¥kBä¸ºå•ä½) RSS è¯¥è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜(ä»¥kBä¸ºå•ä½) %MEM è¯¥è¿›ç¨‹ä½¿ç”¨å†…å­˜çš„ç™¾åˆ†æ¯” Command æ‹‰èµ·è¿›ç¨‹å¯¹åº”çš„å‘½ä»¤ IOæƒ…å†µç»Ÿè®¡(-d)pidstat -d 1 2 1203:40:17 PM UID PID kB_rd/s kB_wr/s kB_ccwr/s iodelay Command03:40:18 PM 1000 1676 0.00 1441476.00 0.00 0 dd å­—æ®µ è¯´æ˜ kB_rd/s æ¯ç§’è¿›ç¨‹ä»ç£ç›˜è¯»å–çš„æ•°æ®é‡(ä»¥kBä¸ºå•ä½) kB_wr/s æ¯ç§’è¿›ç¨‹å‘ç£ç›˜å†™çš„æ•°æ®é‡(ä»¥kBä¸ºå•ä½) Command æ‹‰èµ·è¿›ç¨‹å¯¹åº”çš„å‘½ä»¤ ç”¨æ³•ä¸¾ä¾‹","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"javaå¹¶å‘æœºåˆ¶å’Œå†…å­˜æ¨¡å‹æ€»ç»“","slug":"22programming/java/thread/javaå¹¶å‘æœºåˆ¶å’Œå†…å­˜æ¨¡å‹æ€»ç»“","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.102Z","comments":true,"path":"2016/11/06/22programming/java/thread/javaå¹¶å‘æœºåˆ¶å’Œå†…å­˜æ¨¡å‹æ€»ç»“/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/javaå¹¶å‘æœºåˆ¶å’Œå†…å­˜æ¨¡å‹æ€»ç»“/","excerpt":"","text":"æœ¯è¯­ä¸´ç•ŒåŒºä¸´ç•ŒåŒºè¡¨ç¤ºä¸€ç§å…¬å…±èµ„æºæˆ–è€…å…±äº«æ•°æ®ã€‚æ¯ä¸€åˆ»åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œå¦‚æœä¸´ç•ŒåŒºèµ„æºè¢«å ç”¨ï¼Œå…¶ä»–çº¿ç¨‹æƒ³ä½¿ç”¨è¿™ä¸ªèµ„æºï¼Œå°±å¿…é¡»ç­‰å¾…ã€‚ CASCompare and Swapï¼Œæ¯”è¾ƒå¹¶è®¾ç½®ã€‚ ç”¨äºåœ¨ç¡¬ä»¶å±‚é¢ä¸Šæä¾›åŸå­æ€§æ“ä½œã€‚åœ¨Intel å¤„ç†å™¨ä¸­ï¼Œæ¯”è¾ƒå¹¶äº¤æ¢é€šè¿‡æŒ‡ä»¤cmpxchgå®ç°ã€‚æ¯”è¾ƒæ˜¯å¦å’Œç»™å®šçš„æ•°å€¼ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´åˆ™ä¿®æ”¹ï¼Œä¸ä¸€è‡´åˆ™ä¸ä¿®æ”¹ã€‚ å¹¶å‘ç¼–ç¨‹çš„æŒ‘æˆ˜å¹¶å‘ç¼–ç¨‹çš„ç›®çš„æ˜¯ä¸ºäº†è®©ç¨‹åºè¿è¡Œå¾—æ›´å¿«ï¼Œä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯å¯åŠ¨æ›´å¤šçš„çº¿ç¨‹å°±èƒ½è®©ç¨‹åºæœ€å¤§é™åº¦åœ°å¹¶å‘æ‰§è¡Œã€‚ çº¿ç¨‹æœ‰åˆ›å»ºå’Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ã€æ­»é”çš„é—®é¢˜ï¼Œä»¥åŠå—é™äºç¡¬ä»¶å’Œè½¯ä»¶çš„èµ„æºé™åˆ¶ã€‚ amdah1å®šå¾‹ï¼šå¤šæ ¸cpuä¼˜åŒ–çš„æ•ˆæœå–å†³äºcpuæ•°é‡å’Œç³»ç»Ÿä¸­ä¸²è¡ŒåŒ–ç¨‹åºçš„æ¯”é‡ã€‚åªæä¾›cpuæ•°é‡ä¹Ÿæ— æ³•æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚ #javaä¸­å¹¶å‘ç¼–ç¨‹æ¨¡å‹ Javaä¸­æ‰€ä½¿ç”¨çš„å¹¶å‘æœºåˆ¶ä¾èµ–äºJVMçš„å®ç°å’ŒCPUçš„æŒ‡ä»¤ã€‚ åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œéœ€è¦å¤„ç†ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼šçº¿ç¨‹ä¹‹é—´å¦‚ä½•é€šä¿¡åŠçº¿ç¨‹ä¹‹é—´å¦‚ä½•åŒæ­¥ã€‚ é€šä¿¡æ˜¯æŒ‡çº¿ç¨‹ä¹‹é—´ä»¥ä½•ç§æœºåˆ¶æ¥äº¤æ¢ä¿¡æ¯ã€‚çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡æœºåˆ¶æœ‰ä¸¤ç§ï¼šå…±äº«å†…å­˜å’Œæ¶ˆæ¯ä¼ é€’ã€‚ Javaçš„å¹¶å‘é‡‡ç”¨çš„æ˜¯å…±äº«å†…å­˜æ¨¡å‹ã€‚ç”±Javaå†…å­˜æ¨¡å‹ï¼ˆæœ¬æ–‡ç®€ç§°ä¸ºJMMï¼‰æ§åˆ¶ã€‚ åœ¨å…±äº«å†…å­˜çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å…¬å…±çŠ¶æ€ï¼Œé€šè¿‡å†™-è¯»å†…å­˜ä¸­çš„å…¬å…±çŠ¶æ€è¿›è¡Œéšå¼é€šä¿¡ã€‚ åŒæ­¥æ˜¯æŒ‡ç¨‹åºä¸­ç”¨äºæ§åˆ¶ä¸åŒçº¿ç¨‹é—´æ“ä½œå‘ç”Ÿç›¸å¯¹é¡ºåºçš„æœºåˆ¶ã€‚åœ¨å…±äº«å†…å­˜å¹¶å‘æ¨¡å‹é‡Œï¼ŒåŒæ­¥æ˜¯æ˜¾å¼è¿›è¡Œçš„ã€‚ç¨‹åºå‘˜å¿…é¡»æ˜¾å¼æŒ‡å®šæŸä¸ªæ–¹æ³•æˆ–æŸæ®µä»£ç éœ€è¦åœ¨çº¿ç¨‹ä¹‹é—´äº’æ–¥æ‰§è¡Œã€‚ åœ¨æ¶ˆæ¯ä¼ é€’çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œç”±äºæ¶ˆæ¯çš„å‘é€å¿…é¡»åœ¨æ¶ˆæ¯çš„æ¥æ”¶ä¹‹å‰ï¼Œå› æ­¤åŒæ­¥æ˜¯éšå¼è¿›è¡Œçš„ã€‚ æ“ä½œç³»ç»Ÿå±‚é¢ï¼šä¸ºäº†æé«˜å¤„ç†é€Ÿåº¦ï¼Œå¤„ç†å™¨ä¸ç›´æ¥å’Œå†…å­˜è¿›è¡Œé€šä¿¡ï¼Œè€Œæ˜¯å…ˆå°†ç³»ç»Ÿå†…å­˜çš„æ•°æ®è¯»åˆ°å†…éƒ¨ç¼“å­˜ï¼ˆL1ï¼ŒL2æˆ–å…¶ä»–ï¼‰åå†è¿›è¡Œæ“ä½œã€‚ ç°ä»£çš„å¤„ç†å™¨ä½¿ç”¨å†™ç¼“å†²åŒºä¸´æ—¶ä¿å­˜å‘å†…å­˜å†™å…¥çš„æ•°æ®ã€‚å†™ç¼“å†²åŒºå¯ä»¥ä¿è¯æŒ‡ä»¤æµæ°´çº¿æŒç»­è¿è¡Œï¼Œå®ƒå¯ä»¥é¿å…ç”±äºå¤„ç†å™¨åœé¡¿ä¸‹æ¥ç­‰å¾…å‘å†…å­˜å†™å…¥æ•°æ®è€Œäº§ç”Ÿçš„å»¶è¿Ÿã€‚åŒæ—¶ï¼Œé€šè¿‡ä»¥æ‰¹å¤„ç†çš„æ–¹å¼åˆ·æ–°å†™ç¼“å†²åŒºï¼Œä»¥åŠåˆå¹¶å†™ç¼“å†²åŒºä¸­å¯¹åŒä¸€å†…å­˜åœ°å€çš„å¤šæ¬¡å†™ï¼Œå‡å°‘å¯¹å†…å­˜æ€»çº¿çš„å ç”¨ã€‚ è™½ç„¶å†™ç¼“å†²åŒºæœ‰å¾ˆå¤šå¥½å¤„ï¼Œä½†æ¯ä¸ªå¤„ç†å™¨ä¸Šçš„å†™ç¼“å†²åŒºï¼Œä»…ä»…å¯¹å®ƒæ‰€åœ¨çš„å¤„ç†å™¨å¯è§ã€‚ å¦‚æœå¯¹å£°æ˜äº†volatileçš„å˜é‡è¿›è¡Œå†™æ“ä½œï¼ŒJVMå°±ä¼šå‘å¤„ç†å™¨å‘é€ä¸€æ¡Lockå‰ç¼€çš„æŒ‡ä»¤ï¼Œå°†è¿™ä¸ªå˜é‡æ‰€åœ¨ç¼“å­˜è¡Œçš„æ•°æ®å†™å›åˆ°ç³»ç»Ÿå†…å­˜ã€‚ å¦‚ä½•è§£å†³å…¶ä»–å¤„ç†å™¨ç¼“å­˜çš„å€¼è¿˜æ˜¯æ—§çš„ï¼Ÿ ä¸ºäº†ä¿è¯å„ä¸ªå¤„ç†å™¨çš„ç¼“å­˜æ˜¯ä¸€è‡´çš„ï¼Œå°±ä¼šå®ç°ç¼“å­˜ä¸€è‡´æ€§åè®®ã€‚æ¯ä¸ªå¤„ç†å™¨é€šè¿‡å—…æ¢åœ¨æ€»çº¿ä¸Šä¼ æ’­çš„æ•°æ®æ¥æ£€æŸ¥è‡ªå·±ç¼“å­˜çš„å€¼æ˜¯ä¸æ˜¯è¿‡æœŸäº†ã€‚ æ“ä½œç³»ç»Ÿå±‚é¢ï¼šåœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’åºã€‚æŒ‡ä»¤é‡æ’,åŒæ—¶å¸¦æ¥äº†ä¹±åºçš„é—®é¢˜ã€‚åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œå¯¹å­˜åœ¨æ§åˆ¶ä¾èµ–çš„æ“ä½œé‡æ’åºï¼Œå¯èƒ½ä¼šæ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœã€‚ ä¸ºäº†ä¿è¯å†…å­˜å¯è§æ€§ï¼ŒJavaç¼–è¯‘å™¨åœ¨ç”ŸæˆæŒ‡ä»¤åºåˆ—çš„é€‚å½“ä½ç½®ä¼šæ’å…¥å†…å­˜å±éšœæŒ‡ä»¤æ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚ JMMæ€»ç»“JMMä»æŠ½è±¡çš„è§’åº¦æ¥çœ‹ï¼ŒJMMå®šä¹‰äº†çº¿ç¨‹å’Œä¸»å†…å­˜ä¹‹é—´çš„æŠ½è±¡å…³ç³»ï¼šçº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆMain Memoryï¼‰ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„Localå†…å­˜ï¼ˆLocal Memoryï¼‰ï¼Œæœ¬åœ°å†…å­˜ä¸­å­˜å‚¨äº†è¯¥çº¿ç¨‹ä»¥è¯»/å†™å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚ æœ¬åœ°å†…å­˜æ˜¯JMMçš„ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®å­˜åœ¨ã€‚å®ƒæ¶µç›–äº†ç¼“å­˜ã€å†™ç¼“å†²åŒºã€å¯„å­˜å™¨ä»¥åŠå…¶ä»–çš„ç¡¬ä»¶å’Œç¼–è¯‘å™¨ä¼˜åŒ–ã€‚ å…±äº«å˜é‡ï¼šåœ¨Javaä¸­ï¼Œæ‰€æœ‰å®ä¾‹åŸŸã€é™æ€åŸŸå’Œæ•°ç»„å…ƒç´ éƒ½å­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå †å†…å­˜åœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ã€‚è¿™äº›å˜é‡ç»Ÿç§°ä¸ºå…±äº«å˜é‡ã€‚ JMMå…³é”®æŠ€æœ¯ç‚¹JMMéµå¾ªçš„åŸºæœ¬åŸåˆ™ï¼šåªè¦ä¸æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœï¼ˆæŒ‡çš„æ˜¯å•çº¿ç¨‹ç¨‹åºå’Œæ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºï¼‰ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ€ä¹ˆä¼˜åŒ–éƒ½å¯ä»¥ã€‚ JMMçš„å…³é”®æŠ€æœ¯ç‚¹ä¸»è¦ä¸ºå¤šçº¿ç¨‹çš„åŸå­æ€§ï¼å¯è§æ€§ï¼æœ‰åºæ€§ã€‚ åŸå­æ€§å¤„ç†å™¨å¦‚ä½•å®ç°åŸå­æ“ä½œ32ä½IA-32å¤„ç†å™¨ä½¿ç”¨åŸºäºå¯¹ç¼“å­˜åŠ é”æˆ–æ€»çº¿åŠ é”çš„æ–¹å¼æ¥å®ç°å¤šå¤„ç†å™¨ä¹‹é—´çš„åŸå­æ“ä½œ Javaå¦‚ä½•å®ç°åŸå­æ“ä½œåœ¨Javaä¸­å¯ä»¥é€šè¿‡é”å’Œå¾ªç¯CASçš„æ–¹å¼æ¥å®ç°åŸå­æ“ä½œã€‚ ä»Java 1.5å¼€å§‹ï¼ŒJDKçš„å¹¶å‘åŒ…é‡Œæä¾›äº†ä¸€äº›ç±»æ¥æ”¯æŒåŸå­æ“ä½œï¼Œå¦‚AtomicBooleanï¼ˆç”¨åŸå­æ–¹å¼æ›´æ–°çš„booleanå€¼ï¼‰ã€AtomicIntegerï¼ˆç”¨åŸå­æ–¹å¼æ›´æ–°çš„intå€¼ï¼‰å’ŒAtomicLongï¼ˆç”¨åŸå­æ–¹å¼æ›´æ–°çš„longå€¼ï¼‰ ä½¿ç”¨å¾ªç¯CASå®ç°åŸå­æ“ä½œJVMä¸­çš„CASæ“ä½œæ­£æ˜¯åˆ©ç”¨äº†å¤„ç†å™¨æä¾›çš„CMPXCHGæŒ‡ä»¤å®ç°çš„ã€‚è‡ªæ—‹CASå®ç°çš„åŸºæœ¬æ€è·¯å°±æ˜¯å¾ªç¯è¿›è¡ŒCASæ“ä½œç›´åˆ°æˆåŠŸä¸ºæ­¢ ä½¿ç”¨é”æœºåˆ¶å®ç°åŸå­æ“ä½œé”æœºåˆ¶ä¿è¯äº†åªæœ‰è·å¾—é”çš„çº¿ç¨‹æ‰èƒ½å¤Ÿæ“ä½œé”å®šçš„å†…å­˜åŒºåŸŸã€‚JVMå†…éƒ¨å®ç°äº†å¾ˆå¤šç§é”æœºåˆ¶ï¼Œæœ‰åå‘é”ã€è½»é‡çº§é”å’Œäº’æ–¥é”ã€‚æœ‰æ„æ€çš„æ˜¯é™¤äº†åå‘é”ï¼ŒJVMå®ç°é”çš„æ–¹å¼éƒ½ç”¨äº†å¾ªç¯CASï¼Œå³å½“ä¸€ä¸ªçº¿ç¨‹æƒ³è¿›å…¥åŒæ­¥å—çš„æ—¶å€™ä½¿ç”¨å¾ªç¯CASçš„æ–¹å¼æ¥è·å–é”ï¼Œå½“å®ƒé€€å‡ºåŒæ­¥å—çš„æ—¶å€™ä½¿ç”¨å¾ªç¯CASé‡Šæ”¾é”ã€‚ å¯è§æ€§JMMé€šè¿‡æ§åˆ¶ä¸»å†…å­˜ä¸æ¯ä¸ªçº¿ç¨‹çš„æœ¬åœ°å†…å­˜ä¹‹é—´çš„äº¤äº’ï¼Œæ¥ä¸ºJavaç¨‹åºå‘˜æä¾›å†…å­˜å¯è§æ€§ä¿è¯ã€‚ æœ‰åºæ€§åœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’åºã€‚æŒ‡ä»¤é‡æ’,åŒæ—¶å¸¦æ¥äº†ä¹±åºçš„é—®é¢˜ã€‚ JMMçš„å¤„ç†å™¨é‡æ’åºè§„åˆ™ä¼šè¦æ±‚Javaç¼–è¯‘å™¨åœ¨ç”ŸæˆæŒ‡ä»¤åºåˆ—æ—¶ï¼Œæ’å…¥ç‰¹å®šç±»å‹çš„å†…å­˜å±éšœï¼ˆMemory Barriersï¼ŒIntelç§°ä¹‹ä¸ºMemory Fenceï¼‰æŒ‡ä»¤ï¼Œé€šè¿‡å†…å­˜å±éšœæŒ‡ä»¤æ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚ é‚£äº›æŒ‡ä»¤ä¸èƒ½è¿›è¡Œé‡æ’ï¼Ÿ happen-beforeè§„åˆ™ã€‚ #å¸¸ç”¨åŒæ­¥æ–¹å¼ synchronizedã€volatileã€Lock volatileåœ¨å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹ä¸­synchronizedå’Œvolatileéƒ½æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ï¼Œvolatileå¯ä»¥è®¤ä¸ºæ˜¯è½»é‡çº§çš„synchronizedã€‚å®ƒåœ¨å¤šå¤„ç†å™¨å¼€å‘ä¸­ä¿è¯äº†å…±äº«å˜é‡çš„â€œå¯è§æ€§â€ã€‚ Javaè¯­è¨€æä¾›äº†volatileï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æ¯”é”è¦æ›´åŠ æ–¹ä¾¿ã€‚å¦‚æœä¸€ä¸ªå­—æ®µè¢«å£°æ˜æˆvolatileï¼ŒJavaçº¿ç¨‹å†…å­˜æ¨¡å‹ç¡®ä¿æ‰€æœ‰çº¿ç¨‹çœ‹åˆ°è¿™ä¸ªå˜é‡çš„å€¼æ˜¯ä¸€è‡´çš„ã€‚ ä¸€ä¸ªvolatileå˜é‡çš„å•ä¸ªè¯»/å†™æ“ä½œï¼Œä¸ä¸€ä¸ªæ™®é€šå˜é‡çš„è¯»/å†™æ“ä½œéƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªé”æ¥åŒæ­¥ï¼Œå®ƒä»¬ä¹‹é—´çš„æ‰§è¡Œæ•ˆæœç›¸åŒã€‚ volatileçš„å®šä¹‰ä¸å®ç°åŸç†Javaè¯­è¨€è§„èŒƒç¬¬3ç‰ˆä¸­å¯¹volatileçš„å®šä¹‰å¦‚ä¸‹ï¼šJavaç¼–ç¨‹è¯­è¨€å…è®¸çº¿ç¨‹è®¿é—®å…±äº«å˜é‡ï¼Œä¸ºäº†ç¡®ä¿å…±äº«å˜é‡èƒ½è¢«å‡†ç¡®å’Œä¸€è‡´åœ°æ›´æ–°ï¼Œçº¿ç¨‹åº”è¯¥ç¡®ä¿é€šè¿‡æ’ä»–é”å•ç‹¬è·å¾—è¿™ä¸ªå˜é‡ã€‚Javaè¯­è¨€æä¾›äº†volatileï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æ¯”é”è¦æ›´åŠ æ–¹ä¾¿ã€‚å¦‚æœä¸€ä¸ªå­—æ®µè¢«å£°æ˜æˆvolatileï¼ŒJavaçº¿ç¨‹å†…å­˜æ¨¡å‹ç¡®ä¿æ‰€æœ‰çº¿ç¨‹çœ‹åˆ°è¿™ä¸ªå˜é‡çš„å€¼æ˜¯ä¸€è‡´çš„ã€‚ volatileè¯»çš„å†…å­˜è¯­ä¹‰ï¼šå½“è¯»ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ç½®ä¸ºæ— æ•ˆã€‚çº¿ç¨‹æ¥ä¸‹æ¥å°†ä»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡ã€‚å½“å†™ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ã€‚ volatileè¯»çš„å†…å­˜è¯­ä¹‰ï¼šå½“è¯»ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ç½®ä¸ºæ— æ•ˆã€‚çº¿ç¨‹æ¥ä¸‹æ¥å°†ä»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡ã€‚ ä¸ºäº†å®ç°volatileçš„å†…å­˜è¯­ä¹‰ï¼Œç¼–è¯‘å™¨åœ¨ç”Ÿæˆå­—èŠ‚ç æ—¶ï¼Œä¼šåœ¨æŒ‡ä»¤åºåˆ—ä¸­æ’å…¥å†…å­˜å±éšœæ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚ä¾‹å¦‚åœ¨æ¯ä¸ªvolatileå†™æ“ä½œçš„å‰é¢æ’å…¥ä¸€ä¸ªStoreStoreå±éšœã€‚ ä¸ºäº†æä¾›ä¸€ç§æ¯”é”æ›´è½»é‡çº§çš„çº¿ç¨‹ä¹‹é—´é€šä¿¡çš„æœºåˆ¶ï¼ŒJSR-133ä¸“å®¶ç»„å†³å®šå¢å¼ºvolatileçš„å†…å­˜è¯­ä¹‰ï¼šä¸¥æ ¼é™åˆ¶ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹volatileå˜é‡ä¸æ™®é€šå˜é‡çš„é‡æ’åºï¼Œç¡®ä¿volatileçš„å†™-è¯»å’Œé”çš„é‡Šæ”¾-è·å–å…·æœ‰ç›¸åŒçš„å†…å­˜è¯­ä¹‰ã€‚ ##Lockå¯¹è±¡ volatileä»…ä»…ä¿è¯å¯¹å•ä¸ªvolatileå˜é‡çš„è¯»/å†™å…·æœ‰åŸå­æ€§ï¼Œè€Œé”çš„äº’æ–¥æ‰§è¡Œçš„ç‰¹æ€§å¯ä»¥ç¡®ä¿å¯¹æ•´ä¸ªä¸´ç•ŒåŒºä»£ç çš„æ‰§è¡Œå…·æœ‰åŸå­æ€§ã€‚ å†…å­˜å†…å­˜è¯­ä¹‰çº¿ç¨‹Aé‡Šæ”¾ä¸€ä¸ªé”ï¼Œå®è´¨ä¸Šæ˜¯çº¿ç¨‹Aå‘æ¥ä¸‹æ¥å°†è¦è·å–è¿™ä¸ªé”çš„æŸä¸ªçº¿ç¨‹å‘å‡ºäº†ï¼ˆçº¿ç¨‹Aå¯¹å…±äº«å˜é‡æ‰€åšä¿®æ”¹çš„ï¼‰æ¶ˆæ¯ã€‚Â·çº¿ç¨‹Bè·å–ä¸€ä¸ªé”ï¼Œå®è´¨ä¸Šæ˜¯çº¿ç¨‹Bæ¥æ”¶äº†ä¹‹å‰æŸä¸ªçº¿ç¨‹å‘å‡ºçš„ï¼ˆåœ¨é‡Šæ”¾è¿™ä¸ªé”ä¹‹å‰å¯¹å…±äº«å˜é‡æ‰€åšä¿®æ”¹çš„ï¼‰æ¶ˆæ¯ã€‚ ä»£ç 12345678910111213141516171819202122232425import java.util.concurrent.locks.ReentrantLock;class ReentrantLockExample &#123; int a = 0; ReentrantLock lock = new ReentrantLock(); public void writer() &#123; lock.lock(); // try &#123; a++; &#125; finally &#123; lock.unlock(); // &#125; &#125; public void reader() &#123; lock.lock(); // try &#123; int i = a; // &#125; finally &#123; lock.unlock(); // &#125; &#125;&#125; åœ¨ReentrantLockä¸­ï¼Œè°ƒç”¨lock()æ–¹æ³•è·å–é”ï¼›è°ƒç”¨unlock()æ–¹æ³•é‡Šæ”¾é”ã€‚å†…éƒ¨ä½¿ç”¨æ•´å‹çš„volatileå˜é‡ï¼ˆå‘½åä¸ºstateï¼‰æ¥ç»´æŠ¤åŒæ­¥çŠ¶æ€ã€‚ æ•´å‹çš„volatileå˜é‡ï¼ˆå‘½åä¸ºstateï¼‰æ¥ç»´æŠ¤åŒæ­¥çŠ¶æ€ã€‚åŠ é”æ–¹æ³•é¦–å…ˆè¯»volatileå˜é‡stateã€‚é‡Šæ”¾é”çš„æœ€åå†™volatileå˜é‡stateã€‚ concurrentåŒ…é€šç”¨åŒ–çš„å®ç°æ¨¡å¼é¦–å…ˆï¼Œå£°æ˜å…±äº«å˜é‡ä¸ºvolatileã€‚ç„¶åï¼Œä½¿ç”¨CASçš„åŸå­æ¡ä»¶æ›´æ–°æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ã€‚åŒæ—¶ï¼Œé…åˆä»¥volatileçš„è¯»/å†™å’ŒCASæ‰€å…·æœ‰çš„volatileè¯»å’Œå†™çš„å†…å­˜è¯­ä¹‰æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ synchronizedVS locksynchronizedæ˜¯æ‰˜ç®¡ç»™JVMæ‰§è¡Œçš„ï¼Œè€Œlockæ˜¯Javaå†™çš„æ§åˆ¶é”çš„ä»£ç ã€‚ synchronizedç§°ä¸ºâ€œé‡é‡çº§é”â€,åœ¨1.5ä¸­ï¼Œsynchronizeæ˜¯æ€§èƒ½ä½æ•ˆçš„ã€‚å¯¼è‡´æœ‰å¯èƒ½åŠ é”æ¶ˆè€—çš„ç³»ç»Ÿæ—¶é—´æ¯”åŠ é”ä»¥å¤–çš„æ“ä½œè¿˜å¤šã€‚åˆ°äº†Java1.6å‘ç”Ÿäº†å˜åŒ–ã€‚synchronizeåœ¨è¯­ä¹‰ä¸Šå¾ˆæ¸…æ™°ï¼Œå¯ä»¥è¿›è¡Œå¾ˆå¤šä¼˜åŒ–ï¼ˆä¸ºäº†å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ï¼Œæœ‰é€‚åº”è‡ªæ—‹ï¼Œé”æ¶ˆé™¤ï¼Œé”ç²—åŒ–ï¼Œè½»é‡çº§é”ï¼Œåå‘é”ç­‰ç­‰ã€‚å¯¼è‡´åœ¨Java1.6ä¸Šsynchronizeçš„æ€§èƒ½å¹¶ä¸æ¯”Lockå·®ã€‚ synchronizedåŸå§‹é‡‡ç”¨çš„æ˜¯CPUæ‚²è§‚é”æœºåˆ¶ï¼Œå³çº¿ç¨‹è·å¾—çš„æ˜¯ç‹¬å é”ã€‚ç‹¬å é”æ„å‘³ç€å…¶ä»–çº¿ç¨‹åªèƒ½ä¾é é˜»å¡æ¥ç­‰å¾…çº¿ç¨‹é‡Šæ”¾é”ï¼Œè€Œåœ¨CPUè½¬æ¢çº¿ç¨‹é˜»å¡æ—¶ä¼šå¼•èµ·çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ Lockç”¨çš„æ˜¯ä¹è§‚é”æ–¹å¼ã€‚æ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€Œå»å®ŒæˆæŸé¡¹æ“ä½œï¼Œå¦‚æœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚è·å¾—é”çš„æ–¹æ³•æ˜¯compareAndSetStateï¼Œå°±æ˜¯è°ƒç”¨çš„CPUæä¾›çš„ç‰¹æ®ŠæŒ‡ä»¤ã€‚ Synchonizedåœ¨JVMé‡Œçš„å®ç°åŸç†synchronizedå®ç°åŒæ­¥çš„åŸºç¡€ï¼šJavaä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºé”ã€‚ ä»£ç å—åŒæ­¥æ˜¯ä½¿ç”¨monitorenterå’ŒmonitorexitæŒ‡ä»¤å®ç°monitorenteræŒ‡ä»¤æ˜¯åœ¨ç¼–è¯‘åæ’å…¥åˆ°åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®ï¼Œè€Œmonitorexitæ˜¯æ’å…¥åˆ°æ–¹æ³•ç»“æŸå¤„å’Œå¼‚å¸¸å¤„ã€‚ ä»»ä½•å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªmonitorä¸ä¹‹å…³è”ï¼Œå½“ä¸€ä¸ªmonitorè¢«æŒæœ‰åï¼Œå®ƒå°†å¤„äºé”å®šçŠ¶æ€ã€‚ æ¨¡å‹ä»‹ç»happen-beforeè§„åˆ™é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹å‚è€ƒ å„ç§ Java Thread State ç¬¬ä¸€åˆ†ææ³•åˆ™","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"http://yoursite.com/tags/é«˜å¹¶å‘/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Linux shell æ€»ç»“","slug":"13åŸºç¡€æŠ€æœ¯/linux/linuxshellæ€»ç»“","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.055Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/linuxshellæ€»ç»“/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/linuxshellæ€»ç»“/","excerpt":"","text":"ç®¡é“ ä¸ xargsç®¡é“å°†ä¸€ä¸ªå‘½ä»¤çš„stdoutï¼ˆæ ‡å‡†è¾“å‡ºï¼‰é‡æ–°å®šå‘åˆ°å¦ä¸€ä¸ªå‘½ä»¤çš„stdinï¼ˆæ ‡å‡†è¾“å…¥)æœ‰äº›å‘½ä»¤åªèƒ½æ¥å—å‚æ•°ï¼Œå°±éœ€è¦ä½¿ç”¨xargsã€‚ xargsæ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å‘½ä»¤ï¼Œå®ƒæ“…é•¿å°†æ ‡å‡†è¾“å…¥æ•°æ®è½¬æ¢æˆå‘½ä»¤è¡Œå‚æ•°ã€‚xargsèƒ½å¤Ÿå¤„ç†stdinå¹¶å°†å…¶è½¬æ¢ä¸ºç‰¹å®šå‘½ä»¤çš„å‘½ä»¤è¡Œå‚æ•°ã€‚ ä½¿ç”¨ä¾‹å­å°†å•è¡Œè¾“å…¥è½¬æ¢æˆå¤šè¡Œè¾“å‡ºecho &quot;1 2 3 4 5 6 7 8 9&quot; | xargs -n 3å°†è¾“å‡º1 2 34 5 67 8 9 ç”¨-dé€‰é¡¹ä¸ºè¾“å…¥æŒ‡å®šä¸€ä¸ªå®šåˆ¶çš„å®šç•Œç¬¦echo &quot;splitXsplitXsplitXsplit&quot; | xargs -d X ä»æ–‡æœ¬è¯»å–ï¼Œä¸€è¡Œä¸€ä¸ªcat args.txt | xargs -n 1 ./cecho.sh å›ºå®šä¸å˜çš„å‘½ä»¤å‚æ•°ï¼Œä½¿ç”¨Iä¾‹å¦‚./cecho.sh â€“p arg1 â€“larg1æ˜¯å”¯ä¸€çš„å¯å˜æ–‡æœ¬ï¼Œå…¶ä½™éƒ¨åˆ†éƒ½ä¿æŒä¸å˜ xargsæœ‰ä¸€ä¸ªé€‰é¡¹-Iï¼ŒæŒ‡å®šä¸€ä¸ªæ›¿æ¢å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²åœ¨xargsæ‰©å±•æ—¶ä¼šè¢«æ›¿æ¢æ‰ã€‚å½“-Iä¸xargsç»“åˆä½¿ç”¨æ—¶ï¼Œå¯¹äºæ¯ä¸€ä¸ªå‚æ•°ï¼Œå‘½ä»¤éƒ½ä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚ cat args.txt | xargs -I {} ./cecho.sh -p {} -l å‚è€ƒ sedå‘½ä»¤è¯¦è§£ sed ç®€æ˜æ•™ç¨‹ awkæ¡ˆä¾‹å­¦ä¹ ","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"å¸¸ç”¨Linuxç³»ç»Ÿè°ƒç”¨","slug":"13åŸºç¡€æŠ€æœ¯/linux/å¸¸ç”¨Linuxç³»ç»Ÿè°ƒç”¨","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.059Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/å¸¸ç”¨Linuxç³»ç»Ÿè°ƒç”¨/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/å¸¸ç”¨Linuxç³»ç»Ÿè°ƒç”¨/","excerpt":"","text":"#ç³»ç»Ÿè°ƒç”¨ç®€ä»‹ linuxå†…æ ¸ä¸­è®¾ç½®äº†ä¸€ç»„ç”¨äºå®ç°ç³»ç»ŸåŠŸèƒ½çš„å­ç¨‹åºï¼Œç§°ä¸ºç³»ç»Ÿè°ƒç”¨ã€‚ç³»ç»Ÿè°ƒç”¨å’Œæ™®é€šåº“å‡½æ•°è°ƒç”¨éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯ç³»ç»Ÿè°ƒç”¨ç”±æ“ä½œç³»ç»Ÿæ ¸å¿ƒæä¾›ï¼Œè¿è¡Œäºæ ¸å¿ƒæ€ï¼Œè€Œæ™®é€šçš„å‡½æ•°è°ƒç”¨ç”±å‡½æ•°åº“æˆ–ç”¨æˆ·è‡ªå·±æä¾›ï¼Œè¿è¡Œäºç”¨æˆ·æ€ã€‚ #ç³»ç»Ÿè°ƒç”¨æ±‡æ€» linuxå¾ˆå¤šç›‘æ§ï¼è°ƒè¯•å‘½ä»¤å¦‚straceéƒ½éœ€è¦çŸ¥é“ç³»ç»Ÿè°ƒç”¨çš„åå­—ï¼Œå› æ­¤æ‘˜å½•äºæ­¤ï¼Œä¾›æŸ¥è¯¢æ–¹ä¾¿ã€‚ è¿›ç¨‹æ§åˆ¶ åç§° æå™ fork åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹ clone æŒ‰æŒ‡å®šæ¡ä»¶åˆ›å»ºå­è¿›ç¨‹ execve è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ exit ä¸­æ­¢è¿›ç¨‹ _exit ç«‹å³ä¸­æ­¢å½“å‰è¿›ç¨‹ getdtablesize è¿›ç¨‹æ‰€èƒ½æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•° getpgid è·å–æŒ‡å®šè¿›ç¨‹ç»„æ ‡è¯†å· setpgid è®¾ç½®æŒ‡å®šè¿›ç¨‹ç»„æ ‡å¿—å· getpgrp è·å–å½“å‰è¿›ç¨‹ç»„æ ‡è¯†å· setpgrp è®¾ç½®å½“å‰è¿›ç¨‹ç»„æ ‡å¿—å· getpid è·å–è¿›ç¨‹æ ‡è¯†å· getppid è·å–çˆ¶è¿›ç¨‹æ ‡è¯†å· getpriority è·å–è°ƒåº¦ä¼˜å…ˆçº§ setpriority è®¾ç½®è°ƒåº¦ä¼˜å…ˆçº§ modify_ldt è¯»å†™è¿›ç¨‹çš„æœ¬åœ°æè¿°è¡¨ nanosleep ä½¿è¿›ç¨‹ç¡çœ æŒ‡å®šçš„æ—¶é—´ nice æ”¹å˜åˆ†æ—¶è¿›ç¨‹çš„ä¼˜å…ˆçº§ pause æŒ‚èµ·è¿›ç¨‹ï¼Œç­‰å¾…ä¿¡å· personality è®¾ç½®è¿›ç¨‹è¿è¡ŒåŸŸ prctl å¯¹è¿›ç¨‹è¿›è¡Œç‰¹å®šæ“ä½œ ptrace è¿›ç¨‹è·Ÿè¸ª sched_get_priority_max å–å¾—é™æ€ä¼˜å…ˆçº§çš„ä¸Šé™ sched_get_priority_min å–å¾—é™æ€ä¼˜å…ˆçº§çš„ä¸‹é™ sched_getparam å–å¾—è¿›ç¨‹çš„è°ƒåº¦å‚æ•° sched_getscheduler å–å¾—æŒ‡å®šè¿›ç¨‹çš„è°ƒåº¦ç­–ç•¥ sched_rr_get_interval å–å¾—æŒ‰RRç®—æ³•è°ƒåº¦çš„å®æ—¶è¿›ç¨‹çš„æ—¶é—´ç‰‡é•¿åº¦ sched_setparam è®¾ç½®è¿›ç¨‹çš„è°ƒåº¦å‚æ•° sched_setscheduler è®¾ç½®æŒ‡å®šè¿›ç¨‹çš„è°ƒåº¦ç­–ç•¥å’Œå‚æ•° sched_yield è¿›ç¨‹ä¸»åŠ¨è®©å‡ºå¤„ç†å™¨,å¹¶å°†è‡ªå·±ç­‰å€™è°ƒåº¦é˜Ÿåˆ—é˜Ÿå°¾ vfork åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œä»¥ä¾›æ‰§è¡Œæ–°ç¨‹åºï¼Œå¸¸ä¸execveç­‰åŒæ—¶ä½¿ç”¨ wait ç­‰å¾…å­è¿›ç¨‹ç»ˆæ­¢ wait3 å‚è§wait waitpid ç­‰å¾…æŒ‡å®šå­è¿›ç¨‹ç»ˆæ­¢ wait4 å‚è§waitpid capget è·å–è¿›ç¨‹æƒé™ capset è®¾ç½®è¿›ç¨‹æƒé™ getsid è·å–ä¼šæ™¤æ ‡è¯†å· setsid è®¾ç½®ä¼šæ™¤æ ‡è¯†å· æ–‡ä»¶ç³»ç»Ÿ åç§° æå™ æ–‡ä»¶è¯»å†™æ“ä½œ fcntl æ–‡ä»¶æ§åˆ¶ open æ‰“å¼€æ–‡ä»¶ creat åˆ›å»ºæ–°æ–‡ä»¶ close å…³é—­æ–‡ä»¶æè¿°å­— read è¯»æ–‡ä»¶ write å†™æ–‡ä»¶ readv ä»æ–‡ä»¶è¯»å…¥æ•°æ®åˆ°ç¼“å†²æ•°ç»„ä¸­ writev å°†ç¼“å†²æ•°ç»„é‡Œçš„æ•°æ®å†™å…¥æ–‡ä»¶ pread å¯¹æ–‡ä»¶éšæœºè¯» pwrite å¯¹æ–‡ä»¶éšæœºå†™ lseek ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆ _llseek åœ¨64ä½åœ°å€ç©ºé—´é‡Œç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆ dup å¤åˆ¶å·²æ‰“å¼€çš„æ–‡ä»¶æè¿°å­— dup2 æŒ‰æŒ‡å®šæ¡ä»¶å¤åˆ¶æ–‡ä»¶æè¿°å­— flock æ–‡ä»¶åŠ /è§£é” poll I/Oå¤šè·¯è½¬æ¢ truncate æˆªæ–­æ–‡ä»¶ ftruncate å‚è§truncate umask è®¾ç½®æ–‡ä»¶æƒé™æ©ç  fsync æŠŠæ–‡ä»¶åœ¨å†…å­˜ä¸­çš„éƒ¨åˆ†å†™å›ç£ç›˜ æ–‡ä»¶ç³»ç»Ÿæ“ä½œ access ç¡®å®šæ–‡ä»¶çš„å¯å­˜å–æ€§ chdir æ”¹å˜å½“å‰å·¥ä½œç›®å½• fchdir å‚è§chdir chmod æ”¹å˜æ–‡ä»¶æ–¹å¼ fchmod å‚è§chmod chown æ”¹å˜æ–‡ä»¶çš„å±ä¸»æˆ–ç”¨æˆ·ç»„ fchown å‚è§chown lchown å‚è§chown chroot æ”¹å˜æ ¹ç›®å½• stat å–æ–‡ä»¶çŠ¶æ€ä¿¡æ¯ lstat å‚è§stat fstat å‚è§stat statfs å–æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ fstatfs å‚è§statfs readdir è¯»å–ç›®å½•é¡¹ getdents è¯»å–ç›®å½•é¡¹ mkdir åˆ›å»ºç›®å½• mknod åˆ›å»ºç´¢å¼•èŠ‚ç‚¹ rmdir åˆ é™¤ç›®å½• rename æ–‡ä»¶æ”¹å link åˆ›å»ºé“¾æ¥ symlink åˆ›å»ºç¬¦å·é“¾æ¥ unlink åˆ é™¤é“¾æ¥ readlink è¯»ç¬¦å·é“¾æ¥çš„å€¼ mount å®‰è£…æ–‡ä»¶ç³»ç»Ÿ umount å¸ä¸‹æ–‡ä»¶ç³»ç»Ÿ ustat å–æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ utime æ”¹å˜æ–‡ä»¶çš„è®¿é—®ä¿®æ”¹æ—¶é—´ utimes å‚è§utime quotactl æ§åˆ¶ç£ç›˜é…é¢ ç³»ç»Ÿæ§åˆ¶ åç§° æå™ ioctl I/Oæ€»æ§åˆ¶å‡½æ•° _sysctl è¯»/å†™ç³»ç»Ÿå‚æ•° acct å¯ç”¨æˆ–ç¦æ­¢è¿›ç¨‹è®°è´¦ getrlimit è·å–ç³»ç»Ÿèµ„æºä¸Šé™ setrlimit è®¾ç½®ç³»ç»Ÿèµ„æºä¸Šé™ getrusage è·å–ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ uselib é€‰æ‹©è¦ä½¿ç”¨çš„äºŒè¿›åˆ¶å‡½æ•°åº“ ioperm è®¾ç½®ç«¯å£I/Oæƒé™ iopl æ”¹å˜è¿›ç¨‹I/Oæƒé™çº§åˆ« outb ä½çº§ç«¯å£æ“ä½œ reboot é‡æ–°å¯åŠ¨ swapon æ‰“å¼€äº¤æ¢æ–‡ä»¶å’Œè®¾å¤‡ swapoff å…³é—­äº¤æ¢æ–‡ä»¶å’Œè®¾å¤‡ bdflush æ§åˆ¶bdflushå®ˆæŠ¤è¿›ç¨‹ sysfs å–æ ¸å¿ƒæ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ sysinfo å–å¾—ç³»ç»Ÿä¿¡æ¯ adjtimex è°ƒæ•´ç³»ç»Ÿæ—¶é’Ÿ alarm è®¾ç½®è¿›ç¨‹çš„é—¹é’Ÿ getitimer è·å–è®¡æ—¶å™¨å€¼ setitimer è®¾ç½®è®¡æ—¶å™¨å€¼ gettimeofday å–æ—¶é—´å’Œæ—¶åŒº settimeofday è®¾ç½®æ—¶é—´å’Œæ—¶åŒº stime è®¾ç½®ç³»ç»Ÿæ—¥æœŸå’Œæ—¶é—´ time å–å¾—ç³»ç»Ÿæ—¶é—´ times å–è¿›ç¨‹è¿è¡Œæ—¶é—´ uname è·å–å½“å‰UNIXç³»ç»Ÿçš„åç§°ã€ç‰ˆæœ¬å’Œä¸»æœºç­‰ä¿¡æ¯ vhangup æŒ‚èµ·å½“å‰ç»ˆç«¯ nfsservctl å¯¹NFSå®ˆæŠ¤è¿›ç¨‹è¿›è¡Œæ§åˆ¶ vm86 è¿›å…¥æ¨¡æ‹Ÿ8086æ¨¡å¼ create_module åˆ›å»ºå¯è£…è½½çš„æ¨¡å—é¡¹ delete_module åˆ é™¤å¯è£…è½½çš„æ¨¡å—é¡¹ init_module åˆå§‹åŒ–æ¨¡å— query_module æŸ¥è¯¢æ¨¡å—ä¿¡æ¯ *get_kernel_syms å–å¾—æ ¸å¿ƒç¬¦å·,å·²è¢«query_moduleä»£æ›¿ restart_syscall è°ƒç”¨è¿›å…¥æœªå®Œçš„é‚£ä¸ªç³»ç»Ÿè°ƒç”¨ å†…å­˜ç®¡ç† åç§° æå™ brk æ”¹å˜æ•°æ®æ®µç©ºé—´çš„åˆ†é… sbrk å‚è§brk mlock å†…å­˜é¡µé¢åŠ é” munlock å†…å­˜é¡µé¢è§£é” mlockall è°ƒç”¨è¿›ç¨‹æ‰€æœ‰å†…å­˜é¡µé¢åŠ é” munlockall è°ƒç”¨è¿›ç¨‹æ‰€æœ‰å†…å­˜é¡µé¢è§£é” mmap æ˜ å°„è™šæ‹Ÿå†…å­˜é¡µ munmap å»é™¤å†…å­˜é¡µæ˜ å°„ mremap é‡æ–°æ˜ å°„è™šæ‹Ÿå†…å­˜åœ°å€ msync å°†æ˜ å°„å†…å­˜ä¸­çš„æ•°æ®å†™å›ç£ç›˜ mprotect è®¾ç½®å†…å­˜æ˜ åƒä¿æŠ¤ getpagesize è·å–é¡µé¢å¤§å° sync å°†å†…å­˜ç¼“å†²åŒºæ•°æ®å†™å›ç¡¬ç›˜ cacheflush å°†æŒ‡å®šç¼“å†²åŒºä¸­çš„å†…å®¹å†™å›ç£ç›˜ ç½‘ç»œç®¡ç† åç§° æå™ getdomainname å–åŸŸå setdomainname è®¾ç½®åŸŸå gethostid è·å–ä¸»æœºæ ‡è¯†å· sethostid è®¾ç½®ä¸»æœºæ ‡è¯†å· gethostname è·å–æœ¬ä¸»æœºåç§° sethostname è®¾ç½®ä¸»æœºåç§° socketæ§åˆ¶ åç§° æå™ socketcall socketç³»ç»Ÿè°ƒç”¨ socket å»ºç«‹socket bind ç»‘å®šsocketåˆ°ç«¯å£ connect è¿æ¥è¿œç¨‹ä¸»æœº accept å“åº”socketè¿æ¥è¯·æ±‚ send é€šè¿‡socketå‘é€ä¿¡æ¯ sendto å‘é€UDPä¿¡æ¯ sendmsg å‚è§send recv é€šè¿‡socketæ¥æ”¶ä¿¡æ¯ recvfrom æ¥æ”¶UDPä¿¡æ¯ recvmsg å‚è§recv listen ç›‘å¬socketç«¯å£ select å¯¹å¤šè·¯åŒæ­¥I/Oè¿›è¡Œè½®è¯¢ shutdown å…³é—­socketä¸Šçš„è¿æ¥ getsockname å–å¾—æœ¬åœ°socketåå­— getpeername è·å–é€šä¿¡å¯¹æ–¹çš„socketåå­— getsockopt å–ç«¯å£è®¾ç½® setsockopt è®¾ç½®ç«¯å£å‚æ•° sendfile åœ¨æ–‡ä»¶æˆ–ç«¯å£é—´ä¼ è¾“æ•°æ® socketpair åˆ›å»ºä¸€å¯¹å·²è”æ¥çš„æ— åsocket ç”¨æˆ·ç®¡ç† åç§° æå™ getuid è·å–ç”¨æˆ·æ ‡è¯†å· setuid è®¾ç½®ç”¨æˆ·æ ‡å¿—å· getgid è·å–ç»„æ ‡è¯†å· setgid è®¾ç½®ç»„æ ‡å¿—å· getegid è·å–æœ‰æ•ˆç»„æ ‡è¯†å· setegid è®¾ç½®æœ‰æ•ˆç»„æ ‡è¯†å· geteuid è·å–æœ‰æ•ˆç”¨æˆ·æ ‡è¯†å· seteuid è®¾ç½®æœ‰æ•ˆç”¨æˆ·æ ‡è¯†å· setregid åˆ†åˆ«è®¾ç½®çœŸå®å’Œæœ‰æ•ˆçš„çš„ç»„æ ‡è¯†å· setreuid åˆ†åˆ«è®¾ç½®çœŸå®å’Œæœ‰æ•ˆçš„ç”¨æˆ·æ ‡è¯†å· getresgid åˆ†åˆ«è·å–çœŸå®çš„,æœ‰æ•ˆçš„å’Œä¿å­˜è¿‡çš„ç»„æ ‡è¯†å· setresgid åˆ†åˆ«è®¾ç½®çœŸå®çš„,æœ‰æ•ˆçš„å’Œä¿å­˜è¿‡çš„ç»„æ ‡è¯†å· getresuid åˆ†åˆ«è·å–çœŸå®çš„,æœ‰æ•ˆçš„å’Œä¿å­˜è¿‡çš„ç”¨æˆ·æ ‡è¯†å· setresuid åˆ†åˆ«è®¾ç½®çœŸå®çš„,æœ‰æ•ˆçš„å’Œä¿å­˜è¿‡çš„ç”¨æˆ·æ ‡è¯†å· setfsgid è®¾ç½®æ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥æ—¶ä½¿ç”¨çš„ç»„æ ‡è¯†å· setfsuid è®¾ç½®æ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥æ—¶ä½¿ç”¨çš„ç”¨æˆ·æ ‡è¯†å· getgroups è·å–åè¡¥ç»„æ ‡å¿—æ¸…å• setgroups è®¾ç½®åè¡¥ç»„æ ‡å¿—æ¸…å• è¿›ç¨‹é—´é€šä¿¡ åç§° æå™ ipc è¿›ç¨‹é—´é€šä¿¡æ€»æ§åˆ¶è°ƒç”¨ ä¿¡å· sigaction è®¾ç½®å¯¹æŒ‡å®šä¿¡å·çš„å¤„ç†æ–¹æ³• sigprocmask æ ¹æ®å‚æ•°å¯¹ä¿¡å·é›†ä¸­çš„ä¿¡å·æ‰§è¡Œé˜»å¡/è§£é™¤é˜»å¡ç­‰æ“ä½œ sigpending ä¸ºæŒ‡å®šçš„è¢«é˜»å¡ä¿¡å·è®¾ç½®é˜Ÿåˆ— sigsuspend æŒ‚èµ·è¿›ç¨‹ç­‰å¾…ç‰¹å®šä¿¡å· signal å‚è§signal kill å‘è¿›ç¨‹æˆ–è¿›ç¨‹ç»„å‘ä¿¡å· *sigblock å‘è¢«é˜»å¡ä¿¡å·æ©ç ä¸­æ·»åŠ ä¿¡å·,å·²è¢«sigprocmaskä»£æ›¿ *siggetmask å–å¾—ç°æœ‰é˜»å¡ä¿¡å·æ©ç ,å·²è¢«sigprocmaskä»£æ›¿ *sigsetmask ç”¨ç»™å®šä¿¡å·æ©ç æ›¿æ¢ç°æœ‰é˜»å¡ä¿¡å·æ©ç ,å·²è¢«sigprocmaskä»£æ›¿ *sigmask å°†ç»™å®šçš„ä¿¡å·è½¬åŒ–ä¸ºæ©ç ,å·²è¢«sigprocmaskä»£æ›¿ *sigpause ä½œç”¨åŒsigsuspend,å·²è¢«sigsuspendä»£æ›¿ sigvec ä¸ºå…¼å®¹BSDè€Œè®¾çš„ä¿¡å·å¤„ç†å‡½æ•°,ä½œç”¨ç±»ä¼¼sigaction ssetmask ANSI æ¶ˆæ¯ msgctl æ¶ˆæ¯æ§åˆ¶æ“ä½œ msgget è·å–æ¶ˆæ¯é˜Ÿåˆ— msgsnd å‘æ¶ˆæ¯ msgrcv å–æ¶ˆæ¯ ç®¡é“ pipe åˆ›å»ºç®¡é“ ä¿¡å·é‡ semctl ä¿¡å·é‡æ§åˆ¶ semget è·å–ä¸€ç»„ä¿¡å·é‡ semop ä¿¡å·é‡æ“ä½œ å…±äº«å†…å­˜ shmctl æ§åˆ¶å…±äº«å†…å­˜ shmget è·å–å…±äº«å†…å­˜ shmat è¿æ¥å…±äº«å†…å­˜ shmdt æ‹†å¸å…±äº«å†…å­˜ é” futex fast userspace mutex,å¿«é€Ÿç”¨æˆ·ç©ºé—´äº’æ–¥ä½“ compat_futex å‚è€ƒåˆ—å‡ºæ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨ï¼Œå¯ä»¥ä½¿ç”¨systemtap stap -l &#39;syscall.*&#39; æœ¬æ–‡æ‘˜å½•äºhttp://www.ibm.com/developerworks/cn/linux/kernel/syscall/part1/appendix.html","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"systemtapå­¦ä¹ æ€»ç»“","slug":"13åŸºç¡€æŠ€æœ¯/linux/systemtap","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.057Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/systemtap/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/systemtap/","excerpt":"","text":"systemtapç®€ä»‹systemtapå®‰è£…æµ‹è¯•å®‰è£…å®‰è£…elfutilsï¼Œæä¾›åˆ†æè°ƒè¯•ä¿¡æ¯çš„åº“å‡½æ•°ï¼ŒåŠlibcap-dev sudo apt-get install elfutils sudo apt-get install libcap-dev sudo apt-get install systemtap æµ‹è¯• stap-prep å‡ºç°å¦‚ä¸‹é”™è¯¯You need package linux-image-4.4.0-47-generic-dbgsym but it does not seem to be available ç”±äºå‘è¡Œç‰ˆçš„å†…æ ¸é»˜è®¤æ— å†…æ ¸è°ƒè¯•ä¿¡æ¯ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªè°ƒè¯•å†…æ ¸é•œåƒ wget http://ddebs.ubuntu.com/pool/main/l/linux/linux-image-4.4.0-47-generic-dbgsym_4.4.0-47.68_amd64.ddeb dpkg -i linux-image-4.4.0-47-generic-dbgsym_4.4.0-47.68_amd64.ddeb æŸ¥è¯¢å†…æ ¸ç‰ˆæœ¬çš„æ–¹æ³•cat /proc/version_signatureæˆ–è€…uname -r æ‰§è¡Œæµ‹è¯•stap -ve &#39;probe begin { log(&quot;hello world&quot;) exit() }&#39; æ²¡æœ‰å‡ºç°é”™è¯¯ï¼Œè¡¨ç¤ºæˆåŠŸ.-v æ‰“å°ç¼–è¯‘é˜¶æ®µçš„è¯¦ç»†ä¿¡æ¯ systemtapåŸç†SystemTapé‡‡ç”¨å…¶ä»–çš„å†…æ ¸æ¡†æ¶åšæºï¼šé™æ€æŒ‡é’ˆä½¿ç”¨tracepoints,åŠ¨æ€æŒ‡é’ˆä½¿ç”¨Kprobeã€‚ç”¨æˆ·çº§åˆ«çš„ä½¿ç”¨uprobesã€‚ Kprobes ä» 2.6.9 ç‰ˆæœ¬å¼€å§‹å°±æ·»åŠ åˆ°ä¸»æµçš„ Linux å†…æ ¸ä¸­ã€‚å®ƒæä¾›ä¸€äº›ä¸åŒçš„æœåŠ¡ï¼Œä½†æœ€é‡è¦çš„ä¸¤ç§æœåŠ¡æ˜¯ Kprobe å’Œ Kretprobeã€‚ Kprobe ç‰¹å®šäºæ¶æ„ï¼Œå®ƒåœ¨éœ€è¦æ£€æŸ¥çš„æŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸­æ’å…¥ä¸€ä¸ªæ–­ç‚¹æŒ‡ä»¤ã€‚å½“è°ƒç”¨è¯¥æŒ‡ä»¤æ—¶ï¼Œå°†æ‰§è¡Œé’ˆå¯¹æ¢é’ˆçš„ç‰¹å®šå¤„ç†å‡½æ•°ã€‚æ‰§è¡Œå®Œæˆä¹‹åï¼Œæ¥ç€æ‰§è¡ŒåŸå§‹çš„æŒ‡ä»¤ï¼ˆä»æ–­ç‚¹å¼€å§‹ï¼‰ã€‚ æ–­ç‚¹æŒ‡ä»¤(breakpoint instruction)ï¼š__asm INT 3ï¼Œæœºå™¨ç ä¸ºCCã€‚æ–­ç‚¹ä¸­æ–­(INT3)æ˜¯ä¸€ç§è½¯ä¸­æ–­ï¼Œå½“æ‰§è¡Œåˆ°INT 3æŒ‡ä»¤æ—¶ï¼ŒCPUä¼šæŠŠå½“æ—¶çš„ç¨‹åºæŒ‡é’ˆ(CSå’ŒEIP)å‹å…¥å †æ ˆä¿å­˜èµ·æ¥ï¼Œç„¶åé€šè¿‡ä¸­æ–­å‘é‡è¡¨è°ƒç”¨INT 3æ‰€å¯¹åº”çš„ä¸­æ–­ä¾‹ç¨‹ã€‚INTæ˜¯è½¯ä¸­æ–­æŒ‡ä»¤ï¼Œä¸­æ–­å‘é‡è¡¨æ˜¯ä¸­æ–­å·å’Œä¸­æ–­å¤„ç†å‡½æ•°åœ°å€çš„å¯¹åº”è¡¨ã€‚INT 3å³è§¦å‘è½¯ä¸­æ–­3ï¼Œç›¸åº”çš„ä¸­æ–­å¤„ç†å‡½æ•°çš„åœ°å€ä¸ºï¼šä¸­æ–­å‘é‡è¡¨åœ°å€ + 4 * 3ã€‚ Kretprobes æœ‰æ‰€ä¸åŒï¼Œå®ƒæ“ä½œè°ƒç”¨å‡½æ•°çš„è¿”å›ç»“æœã€‚æ³¨æ„ï¼Œå› ä¸ºä¸€ä¸ªå‡½æ•°å¯èƒ½æœ‰å¤šä¸ªè¿”å›ç‚¹ï¼Œæ‰€ä»¥å¬èµ·æ¥äº‹æƒ…æœ‰äº›å¤æ‚ã€‚ä¸è¿‡ï¼Œå®ƒå®é™…ä½¿ç”¨ä¸€ç§ç§°ä¸º trampoline çš„ç®€å•æŠ€æœ¯ã€‚æ‚¨å°†å‘å‡½æ•°æ¡ç›®æ·»åŠ ä¸€å°æ®µä»£ç ï¼Œè€Œä¸æ˜¯æ£€æŸ¥å‡½æ•°ä¸­çš„æ¯ä¸ªè¿”å›ç‚¹ã€‚è¿™æ®µä»£ç ä½¿ç”¨ trampoline åœ°å€æ›¿æ¢å †æ ˆä¸Šçš„è¿”å›åœ°å€ ï¼ˆKretprobe åœ°å€ï¼‰ã€‚å½“è¯¥å‡½æ•°å­˜åœ¨æ—¶ï¼Œå®ƒæ²¡æœ‰è¿”å›åˆ°è°ƒç”¨æ–¹ï¼Œè€Œæ˜¯è°ƒç”¨ Kretprobeï¼ˆæ‰§è¡Œå®ƒçš„åŠŸèƒ½ï¼‰ï¼Œç„¶åä» Kretprobe è¿”å›åˆ°å®é™…çš„è°ƒç”¨æ–¹ã€‚ stap å®ç”¨ç¨‹åºå°† stap è„šæœ¬è½¬æ¢æˆæä¾›æ¢é’ˆè¡Œä¸ºçš„å†…æ ¸æ¨¡å—ã€‚ SystemTap è„šæœ¬æŸ¥çœ‹ä¸€ä¸ªè„šæœ¬ï¼Œnethist.stp 123456789101112131415161718global histogramprobe begin &#123; printf(&quot;Capturing...\\n&quot;)&#125;probe netdev.receive &#123; histogram &lt;&lt;&lt; length&#125;probe netdev.transmit &#123; histogram &lt;&lt;&lt; length&#125;probe end &#123; printf( &quot;\\n&quot; ) print( @hist_log(histogram) )&#125; è¿è¡Œstap nethist.stp ç”¨probeæŒ‡å®šä¸€ä¸ªæ¢æµ‹ç‚¹(probe-point)(æ¢é’ˆ)ï¼Œä»¥åŠåœ¨è¿™ä¸ªæ¢æµ‹ç‚¹å¤„æ‰§è¡Œçš„å¤„ç†å‡½æ•° å¸¸ç”¨æ¢é’ˆç±»å‹ æ¢é’ˆç±»å‹ è¯´æ˜ begin åœ¨è„šæœ¬å¼€å§‹æ—¶è§¦å‘ end åœ¨è„šæœ¬ç»“æŸæ—¶è§¦å‘ kernel.function(â€œsys_syncâ€) è°ƒç”¨ sys_sync æ—¶è§¦å‘ kernel.function(â€œsys_syncâ€).call åŒä¸Š kernel.function(â€œsys_syncâ€).return è¿”å› sys_sync æ—¶è§¦å‘ kernel.syscall.* è¿›è¡Œä»»ä½•ç³»ç»Ÿè°ƒç”¨æ—¶è§¦å‘ kernel.function(â€œ*@kernel/fork.c:934â€) åˆ°è¾¾ fork.c çš„ç¬¬ 934 è¡Œæ—¶è§¦å‘ module(â€œext3â€).function(â€œext3_file_writeâ€) è°ƒç”¨ ext3 write å‡½æ•°æ—¶è§¦å‘ timer.jiffies(1000) æ¯éš” 1000 ä¸ªå†…æ ¸ jiffy è§¦å‘ä¸€æ¬¡ timer.ms(200).randomize(50) æ¯éš” 200 æ¯«ç§’è§¦å‘ä¸€æ¬¡ï¼Œå¸¦æœ‰çº¿æ€§åˆ†å¸ƒçš„éšæœºé™„åŠ æ—¶é—´ï¼ˆ-50 åˆ° +50ï¼‰ æ¢æµ‹ç‚¹çš„ä¸€èˆ¬è¯­æ³•å½¢å¼kernel.function(PATTERN)kernel.function(PATTERN).callkernel.function(PATTERN).return ç¼ºå°‘åç¼€æ—¶æ„å‘³ç€æ¢æµ‹å‡½æ•°çš„è¿›å…¥ç‚¹ï¼Œé»˜è®¤ä¸ºcallã€‚ .function ä½¿æ¢é’ˆå®šä½åœ¨å‘½åå‡½æ•°çš„å¼€å§‹ä¹‹å¤„ï¼Œå› æ­¤æ¢é’ˆå¯ç”¨ä¸Šä¸‹æ–‡å˜é‡çš„æ–¹å¼æ¥è·å–å‡½æ•°å‚æ•°ã€‚.return è®©æ¢é’ˆå®šä½åˆ°å‘½åå‡½æ•°è¿”å›çš„é‚£ä¸€æ—¶åˆ».call è°ƒç”¨æ—¶è§¦å‘,é»˜è®¤ã€‚.statement,ä½¿æ¢é’ˆæ¢æµ‹åˆ°ç¡®åˆ‡çš„ä»£ç è¡Œä¾‹å¦‚ï¼škernel.statement(&quot;bio_init@fs/bio.c+3&quot;)//å¼•ç”¨æ–‡ä»¶fs/bio.c å†…bio_init+3 è¿™ä¸€è¡Œè¯­å¥ PATTERN æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢å€¼ï¼Œå®ƒæ ‡è¯†ç¨‹åºä¸­çš„ä»£ç ç‚¹ã€‚å®ƒç”±3 éƒ¨åˆ†æ„æˆã€‚ ç¬¬ä¸€éƒ¨åˆ†æ˜¯å‡½æ•°åå­—ï¼Œå¯ä½¿ç”¨æ˜Ÿå·å’Œé—®å·é€šé…ç¬¦æ¥åŒ¹é…å¤šä¸ªå‡½æ•°åå­—ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯å¯é€‰çš„ï¼Œå®ƒä»¥@ å­—ç¬¦å¼€å¤´ï¼Œç´§è·Ÿç€æ­¤å‡½æ•°æ‰€åœ¨æºæ–‡ä»¶çš„è·¯å¾„ã€‚é»˜è®¤ä¸ºä¸ºä»Linux ä»£ç æ ‘é¡¶å±‚ç›®å½•å¼€å§‹çš„ç›¸å¯¹è·¯å¾„ã€‚ å¦‚æœç»™å®šæ–‡ä»¶åï¼Œç¬¬ä¸‰éƒ¨ä»æ˜¯å¯é€‰çš„ã€‚å®ƒä»¥â€œ: â€æˆ–â€œ+ â€å¼€å¤´ï¼Œç”¨æ¥æ ‡è¯†æºæ–‡ä»¶çš„è¡Œå·ã€‚ â€:â€ åé¢è·Ÿçš„æ˜¯ç»å¯¹è¡Œå·â€+â€ åé¢è·Ÿçš„æ˜¯å‡½æ•°å…¥å£çš„ç›¸å¯¹è¡Œå·â€:*â€ åŒ¹é…å‡½æ•°çš„æ¯ä¸€è¡Œâ€:x-yâ€ å¯ä»¥ä»x è¡ŒåŒ¹é…åˆ°yè¡Œ å†…ç½®å˜é‡ column column execname() uid ##å†…ç½®å‡½æ•° åç§° è¯´æ˜ cpu() æ‰§è¡Œå½“å‰è¿›ç¨‹çš„CPU number execname() è¿”å›å½“å‰æ‰§è¡Œçš„è¿›ç¨‹å tid pid() å½“å‰è¿›ç¨‹çš„ID uid() å½“å‰è¿›ç¨‹çš„user id stp_pid() pp() thread_indent() probefunc() è¿”å›è¢«æ¢æµ‹çš„å‡½æ•°å probemod() print_backtrace() æ‰“å°è¿›ç¨‹å †æ ˆå›æœ”æ–¹æ³• strlen() substr() isinstr() strtol() get_cycles() gettimeofday_s() gettimeofday_ns() å½“å‰æ—¶é—´ï¼Œè‡ªå¯åŠ¨ä»¥æ¥çš„çº³ç§’æ•° target() task_current() æŒ‡å‘å½“å‰çº¿ç¨‹å†…æ ¸ç»“æ„çš„æŒ‡é’ˆ è¯­æ³•##åŸºæœ¬æ ¼å¼ å˜é‡å±äºå¼±æ•°æ®ç±»å‹ï¼Œä¸ç”¨äº‹å…ˆå£°æ˜ï¼Œä¸ç”¨æŒ‡å®šæ•°æ®ç±»å‹ã€‚probe-handlerä¸­å®šä¹‰çš„å˜é‡æ˜¯å±€éƒ¨çš„ï¼Œä¸èƒ½åœ¨å…¶å®ƒæ¢æµ‹ç‚¹å¤„ç†å‡½æ•°ä¸­ä½¿ç”¨ã€‚globalç¬¦å·ç”¨äºå®šä¹‰å…¨å±€å˜é‡ã€‚ Stringè¿æ¥ç¬¦æ˜¯â€œ.â€ï¼Œæ¯”è¾ƒç¬¦ä¸ºâ€œ==â€ã€‚nextè¯­å¥ï¼šæ‰§è¡Œåˆ°nextè¯­å¥æ—¶ï¼Œä¼šé©¬ä¸Šä»æ¢æµ‹ç‚¹å¤„ç†å‡½æ•°ä¸­è¿”å›ã€‚ å˜é‡çš„å¼•ç”¨$varname // å¼•ç”¨å˜é‡varname$var-&gt;field // å¼•ç”¨ç»“æ„çš„æˆå‘˜å˜é‡$var[N] // å¼•ç”¨æ•°ç»„çš„å…ƒç´ &amp;$var // å˜é‡çš„åœ°å€å¦å¤–çš„é£æ ¼@var(â€œvarnameâ€) // å¼•ç”¨å˜é‡varname@var(â€œvar@src/file.câ€) // å¼•ç”¨src/file.cåœ¨è¢«ç¼–è¯‘æ—¶çš„å…¨å±€å˜é‡varname@var(â€œvarname@file.câ€œ)-&gt;field // å¼•ç”¨ç»“æ„çš„æˆå‘˜å˜é‡@var(â€œvar@file.câ€œ)[N] // å¼•ç”¨æ•°ç»„çš„å…ƒç´ &amp;@var(â€œvar@file.câ€œ) // å˜é‡çš„åœ°å€ å…³è”æ•°ç»„å…³è”æ•°ç»„æ˜¯ç”¨å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæœ€å¤§å¤§å°åœ¨ä¸€å¼€å§‹å°±è®¾å®šäº†ã€‚å…³è”æ•°ç»„å¿…é¡»æ˜¯å…¨å±€çš„ï¼Œä¸èƒ½åœ¨æ¢æµ‹ç‚¹å¤„ç†å‡½æ•°å†…éƒ¨å®šä¹‰ã€‚æ•°ç»„çš„ç´¢å¼•æœ€å¤šå¯ä»¥æœ‰9ä¸ªï¼Œç”¨é€—å·éš”å¼€ï¼Œå¯ä»¥æ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²ã€‚å…ƒç´ çš„æ•°æ®ç±»å‹æœ‰ä¸‰ç§ï¼šæ•°å€¼ã€å­—ç¬¦ä¸²ã€ç»Ÿè®¡ç±»å‹ã€‚ä¾‹å¦‚ï¼šfoo[4, â€œhelloâ€]++ ç»Ÿè®¡ç±»å‹æ“ä½œç¬¦â€œ&lt;&lt;&lt;â€ä¾‹å¦‚ï¼šg_value &lt;&lt;&lt; b # ç›¸å½“äºCè¯­è¨€çš„g_value += b @count(g_value)ï¼šæ‰€æœ‰ç»Ÿè®¡æ“ä½œçš„æ“ä½œæ¬¡æ•°@sum(g_value)ï¼šæ‰€æœ‰ç»Ÿè®¡æ“ä½œçš„æ“ä½œæ•°çš„æ€»å’Œ@min(g_value)ï¼šæ‰€æœ‰ç»Ÿè®¡æ“ä½œçš„æ“ä½œæ•°çš„æœ€å°å€¼@max(g_value)ï¼šæ‰€æœ‰ç»Ÿè®¡æ“ä½œçš„æ“ä½œæ•°çš„æœ€å¤§å€¼@avg(g_value)ï¼šæ‰€æœ‰ç»Ÿè®¡æ“ä½œçš„æ“ä½œæ•°çš„å¹³å‡å€¼ SystemTapå…¶ä»–ç”¨æ³•è·å–stapå‘½ä»¤è¡Œå‚æ•°å‡å®šè¯¥è„šæœ¬çš„åå­—ä¸ºexample.stpprobe begin { printf(â€œ%d, %s/nâ€, $1, @2) }è¿è¡Œå¦‚ä¸‹ï¼šstap example.stp 10 mystringé‚£ä¹ˆï¼Œ$1 ä¼šè¢«æ›¿æ¢æˆ10 ï¼Œè€Œ@2 ä¼šè¢«æ›¿æ¢æˆâ€mystringâ€ ï¼Œç»“æœè¾“å‡ºï¼š10, mystring $1 â€¦ $ å°†å‚æ•°è½¬æ¢æˆæ•´æ•°@1 â€¦ @ å°†å‚æ•°è½¬æ¢æˆå­—ç¬¦ä¸² æŸ¥æ‰¾åŒ¹é…çš„å†…æ ¸å‡½æ•°å’Œå˜é‡æŸ¥æ‰¾æ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨stap -l &#39;syscall.*&#39;stap -L syscall.read.return openç³»ç»Ÿè°ƒç”¨åœ¨å†…æ ¸çš„å®ç°stap -l &#39;kernel.function(&quot;sys_open&quot;)&#39;kernel.function(&quot;SyS_open@/build/linux-xHzv4a/linux-4.4.0/fs/open.c:1038&quot;) æŸ¥æ‰¾åå­—ä¸­åŒ…å«nitçš„å†…æ ¸å‡½æ•°ï¼šstap -l &#39;kernel.function(&quot;*nit*&quot;)&#39; æŸ¥çœ‹æ‰§è¡Œåˆ°è¿™ä¸ªæ¢æµ‹ç‚¹æ—¶ï¼Œå“ªäº›ä¸Šä¸‹æ–‡å˜é‡æ˜¯å¯ç”¨çš„stap -L &#39;kernel.function(&quot;vfs_write&quot;)&#39;stap -L &#39;netdev.transmit&#39; å®˜æ–¹æä¾›çš„ä¾‹å­å‚è€ƒhttps://sourceware.org/systemtap/wiki/WarStories å‚è€ƒ SystemTap_Beginners_Guide å†…æ ¸è°ƒè¯•ç¥å™¨SystemTap â€” æ¢æµ‹ç‚¹ä¸è¯­æ³•ï¼ˆäºŒï¼‰ Linux è‡ªæ£€å’Œ SystemTap Systemè¯­è¨€è¯¦è§£â€”â€”1.SystemTapæ¦‚è¿°","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"ç½‘ç»œå‘½ä»¤-sar","slug":"13åŸºç¡€æŠ€æœ¯/linux/sar","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.057Z","comments":true,"path":"2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/sar/","link":"","permalink":"http://yoursite.com/2016/11/06/13åŸºç¡€æŠ€æœ¯/linux/sar/","excerpt":"","text":"#sar saråŸºæœ¬ç”¨æ³•sar å¦‚æœå‡ºç°é”™è¯¯Cannot open /var/log/sysstat/sa14: No such file or directoryç›´æ¥ä½¿ç”¨sarå°±ä¼šæŸ¥æ‰¾å†å²æ–‡ä»¶ï¼Œå› ä¸ºåˆšè£…è¿˜æ²¡æœ‰æ–‡ä»¶14ä»£è¡¨å½“å¤©æ—¥æœŸï¼Œä½¿ç”¨å‚æ•°-o è®©å…¶ç”Ÿæˆè¯¥æ–‡ä»¶sar -o 14 æŸ¥çœ‹æŸå¤©çš„ç³»ç»ŸçŠ¶æ€ sar -f /var/log/sysstat/sa14 é»˜è®¤æƒ…å†µæ˜¯å¯¹è¿‡å»æ—¶é—´æ®µè¿›è¡Œæ•°æ®ç»Ÿè®¡ï¼Œä¸€èˆ¬ä»æœ€è¿‘çš„0ï¼š00å¼€å§‹æ˜¾ç¤ºã€‚å¦‚æœæƒ³ç»§ç»­æŸ¥çœ‹ä¸€å¤©å‰çš„æŠ¥å‘Šï¼Œå¯ä»¥ç”¨-fé€‰é¡¹æŒ‡å®šä¿å­˜åœ¨/var/log/sysstatç›®å½•ä¸‹çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚å¦‚æœæƒ³å‘¨æœŸæ€§çš„æŸ¥çœ‹å½“å‰æ•°æ®å¯ä»¥å‘½ä»¤åé¢åŠ ä¸Šæ•°å­—å‚æ•°ï¼Œå¦‚sar 1 3 ï¼Œè¡¨ç¤ºï¼š1ç§’1æ¬¡ï¼Œå…±3æ¬¡ã€‚ sar 1 3 1234567Linux 4.4.0-47-generic (ubuntu) 12/14/2016 _x86_64_ (3 CPU)11:31:33 PM CPU %user %nice %system %iowait %steal %idle11:31:34 PM all 0.33 0.00 0.00 0.00 0.00 99.6711:31:35 PM all 0.00 0.00 0.33 0.00 0.00 99.6711:31:36 PM all 0.00 0.00 0.00 0.00 0.00 100.00Average: all 0.11 0.00 0.11 0.00 0.00 99.78 å‚æ•° å‚æ•° è§£é‡Š -A ç­‰ä»·äº -bBcdqrRuvwWy -I SUM -I XALL -n ALL -P ALL -b æ˜¾ç¤ºI/Oå’Œä¼ é€é€Ÿç‡çš„ç»Ÿè®¡ä¿¡æ¯ -B è¾“å‡ºå†…å­˜é¡µé¢çš„ç»Ÿè®¡ä¿¡æ¯ -c è¾“å‡ºè¿›ç¨‹ç»Ÿè®¡ä¿¡æ¯ï¼Œæ¯ç§’åˆ›å»ºçš„è¿›ç¨‹æ•° -d è¾“å‡ºæ¯ä¸€ä¸ªå—è®¾å¤‡çš„æ´»åŠ¨ä¿¡æ¯ -i interval æŒ‡å®šé—´éš”æ—¶é•¿ï¼Œå•ä½ä¸ºç§’ -p æ˜¾ç¤ºå‹å¥½è®¾å¤‡åå­—ï¼Œä»¥æ–¹ä¾¿æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥å’Œ-d å’Œ-n å‚æ•°ç»“åˆä½¿ç”¨ï¼Œæ¯”å¦‚ -dp æˆ–-np -q è¾“å‡ºè¿›ç¨‹é˜Ÿåˆ—é•¿åº¦å’Œå¹³å‡è´Ÿè½½çŠ¶æ€ç»Ÿè®¡ä¿¡æ¯ -r è¾“å‡ºå†…å­˜å’Œäº¤æ¢ç©ºé—´çš„ç»Ÿè®¡ä¿¡æ¯ -R è¾“å‡ºå†…å­˜é¡µé¢çš„ç»Ÿè®¡ä¿¡æ¯ -t è¯»å– /var/log/sa/saDD çš„æ•°æ®æ—¶æ˜¾ç¤ºå…¶ä¸­è®°å½•çš„åŸå§‹æ—¶é—´ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°ä½¿ç”¨ç”¨æˆ·çš„æœ¬åœ°æ—¶é—´ -u è¾“å‡ºCPUä½¿ç”¨æƒ…å†µçš„ç»Ÿè®¡ä¿¡æ¯ -v è¾“å‡ºinodeã€æ–‡ä»¶å’Œå…¶ä»–å†…æ ¸è¡¨çš„ç»Ÿè®¡ä¿¡æ¯ -V è¾“å‡ºç‰ˆæœ¬å·ä¿¡æ¯ -w è¾“å‡ºç³»ç»Ÿäº¤æ¢æ´»åŠ¨ä¿¡æ¯ -W è¾“å‡ºç³»ç»Ÿäº¤æ¢çš„ç»Ÿè®¡ä¿¡æ¯ -y è¾“å‡ºTTYè®¾å¤‡çš„æ´»åŠ¨ä¿¡æ¯ -n {DEV EDEV NFS NFSD SOCK ALL} åˆ†æè¾“å‡ºç½‘ç»œè®¾å¤‡çŠ¶æ€ç»Ÿè®¡ä¿¡æ¯ã€‚ DEV æŠ¥å‘Šç½‘ç»œè®¾å¤‡çš„ç»Ÿè®¡ä¿¡æ¯ EDEV æŠ¥å‘Šç½‘ç»œè®¾å¤‡çš„é”™è¯¯ç»Ÿè®¡ä¿¡æ¯ NFS æŠ¥å‘Š NFS å®¢æˆ·ç«¯çš„æ´»åŠ¨ç»Ÿè®¡ä¿¡æ¯ NFSD æŠ¥å‘Š NFS æœåŠ¡å™¨çš„æ´»åŠ¨ç»Ÿè®¡ä¿¡æ¯ SOCK æŠ¥å‘Šç½‘ç»œå¥—æ¥å­—ï¼ˆsocketsï¼‰çš„ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯ ALL æŠ¥å‘Šæ‰€æœ‰ç±»å‹çš„ç½‘ç»œæ´»åŠ¨ç»Ÿè®¡ä¿¡æ¯ -x {pid or SELF or ALL} è¾“å‡ºæŒ‡å®šè¿›ç¨‹çš„ç»Ÿè®¡ä¿¡æ¯ã€‚ -X {pid or SELF or ALL} è¾“å‡ºæŒ‡å®šè¿›ç¨‹çš„å­è¿›ç¨‹çš„ç»Ÿè®¡ä¿¡æ¯ -I {irq or SUM or ALL orXALL} è¾“å‡ºæŒ‡å®šä¸­æ–­çš„ç»Ÿè®¡ä¿¡æ¯ã€‚ -P {cpu or ALL} è¾“å‡ºæŒ‡å®š CPU çš„ç»Ÿè®¡ä¿¡æ¯ -o filename å°†è¾“å‡ºä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ filename -f filename ä»æ–‡ä»¶ filename è¯»å–æ•°æ®ä¿¡æ¯ã€‚filename æ˜¯ä½¿ç”¨-o é€‰é¡¹æ—¶ç”Ÿæˆçš„æ–‡ä»¶ã€‚ -s hh:mm:ss æŒ‡å®šè¾“å‡ºç»Ÿè®¡æ•°æ®çš„èµ·å§‹æ—¶é—´ -e hh:mm:ss æŒ‡å®šè¾“å‡ºç»Ÿè®¡æ•°æ®çš„æˆªè‡³æ—¶é—´ï¼Œé»˜è®¤ä¸º18:00:00 ç”¨æ³•æ±‡æ€»sar â€“u æŸ¥çœ‹CPUä½¿ç”¨ç‡sar -u 1234567891009æ—¶39åˆ†42ç§’ LINUX RESTART09æ—¶40åˆ†01ç§’ CPU %user %nice %system %iowait %steal %idle 09æ—¶50åˆ†01ç§’ all 0.14 0.00 0.58 0.12 0.00 99.15 10æ—¶00åˆ†01ç§’ all 0.06 0.00 0.50 0.16 0.00 99.27 10æ—¶10åˆ†01ç§’ all 0.11 0.06 0.95 2.58 0.00 96.30 10æ—¶20åˆ†01ç§’ all 0.12 0.19 0.82 1.41 0.00 97.46 10æ—¶30åˆ†01ç§’ all 0.14 0.00 0.54 0.12 0.00 99.20 10æ—¶40åˆ†01ç§’ all 0.15 0.00 0.54 0.16 0.00 99.15 Average: all 0.12 0.04 0.65 0.76 0.00 98.43 è¿™é‡Œï¼š %user ï¼š ç”¨æˆ·æ¨¡å¼ä¸‹æ¶ˆè€—çš„CPUæ—¶é—´çš„æ¯”ä¾‹ï¼› %niceï¼šé€šè¿‡niceæ”¹å˜äº†è¿›ç¨‹è°ƒåº¦ä¼˜å…ˆçº§çš„è¿›ç¨‹ï¼Œåœ¨ç”¨æˆ·æ¨¡å¼ä¸‹æ¶ˆè€—çš„CPUæ—¶é—´çš„æ¯”ä¾‹ï¼› %systemï¼šç³»ç»Ÿæ¨¡å¼ä¸‹æ¶ˆè€—çš„CPUæ—¶é—´çš„æ¯”ä¾‹ï¼› %iowaitï¼šCPUç­‰å¾…ç£ç›˜I/Oè€Œå¯¼è‡´ç©ºé—²çŠ¶æ€æ¶ˆè€—æ—¶é—´çš„æ¯”ä¾‹ï¼› %stealï¼šåˆ©ç”¨Xenç­‰æ“ä½œç³»ç»Ÿè™šæ‹ŸåŒ–æŠ€æœ¯æ—¶ï¼Œç­‰å¾…å…¶ä»–è™šæ‹ŸCPUè®¡ç®—å ç”¨çš„æ—¶é—´æ¯”ä¾‹ï¼› %idleï¼šCPUæ²¡æœ‰ç­‰å¾…ç£ç›˜I/Oç­‰çš„ç©ºé—²çŠ¶æ€æ¶ˆè€—çš„æ—¶é—´æ¯”ä¾‹ï¼› æ³¨ï¼š å¦‚æœ %iowait çš„å€¼è¿‡é«˜ï¼Œè¡¨ç¤ºç¡¬ç›˜å­˜åœ¨I/Oç“¶é¢ˆå¦‚æœ %idle çš„å€¼é«˜ä½†ç³»ç»Ÿå“åº”æ…¢æ—¶ï¼Œæœ‰å¯èƒ½æ˜¯ CPU ç­‰å¾…åˆ†é…å†…å­˜ï¼Œæ­¤æ—¶åº”åŠ å¤§å†…å­˜å®¹é‡å¦‚æœ %idle çš„å€¼æŒç»­ä½äº 10ï¼Œåˆ™ç³»ç»Ÿçš„ CPU å¤„ç†èƒ½åŠ›ç›¸å¯¹è¾ƒä½ï¼Œè¡¨æ˜ç³»ç»Ÿä¸­æœ€éœ€è¦è§£å†³çš„èµ„æºæ˜¯ CPUã€‚ sar â€“q æŸ¥çœ‹å¹³å‡è´Ÿè·sar -q 123456789101109æ—¶39åˆ†42ç§’ LINUX RESTART09æ—¶40åˆ†01ç§’ runq-sz plist-sz ldavg-1 ldavg-5 ldavg-15 09æ—¶50åˆ†01ç§’ 0 152 0.00 0.02 0.05 10æ—¶00åˆ†01ç§’ 0 152 0.00 0.00 0.00 10æ—¶10åˆ†01ç§’ 0 156 0.39 0.09 0.03 10æ—¶20åˆ†01ç§’ 0 151 0.00 0.03 0.01 10æ—¶30åˆ†01ç§’ 0 151 0.00 0.00 0.00 10æ—¶40åˆ†01ç§’ 0 151 0.00 0.00 0.00 10æ—¶50åˆ†01ç§’ 0 151 0.00 0.00 0.00 Average: 0 152 0.06 0.02 0.01 runq-szï¼š è¿è¡Œé˜Ÿåˆ—çš„é•¿åº¦ï¼ˆç­‰å¾…è¿è¡Œçš„è¿›ç¨‹æ•°ï¼‰plist-szï¼š è¿›ç¨‹åˆ—è¡¨ä¸­è¿›ç¨‹ï¼ˆprocessesï¼‰å’Œçº¿ç¨‹ï¼ˆthreadsï¼‰çš„æ•°é‡ldavg-1ï¼š æœ€å1åˆ†é’Ÿçš„ç³»ç»Ÿå¹³å‡è´Ÿè½½ï¼ˆSystem load averageï¼‰ldavg-5ï¼š è¿‡å»5åˆ†é’Ÿçš„ç³»ç»Ÿå¹³å‡è´Ÿè½½ldavg-15ï¼š è¿‡å»15åˆ†é’Ÿçš„ç³»ç»Ÿå¹³å‡è´Ÿè½½ sar â€“r æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µsar -r 12345678909æ—¶39åˆ†42ç§’ LINUX RESTART09æ—¶40åˆ†01ç§’ kbmemfree kbmemused %memused kbbuffers kbcached kbswpfree kbswpused %swpused kbswpcad 09æ—¶50åˆ†01ç§’ 481572 553492 53.47 35592 384508 2097144 0 0.00 0 10æ—¶00åˆ†01ç§’ 480960 554104 53.53 36032 384512 2097144 0 0.00 0 10æ—¶10åˆ†01ç§’ 404952 630112 60.88 77764 399432 2097144 0 0.00 0 10æ—¶20åˆ†01ç§’ 375824 659240 63.69 87356 410892 2097144 0 0.00 0 10æ—¶30åˆ†01ç§’ 371860 663204 64.07 87756 411064 2097144 0 0.00 0 â€¦ kbmemfreeï¼šç©ºé—²ç‰©ç†å†…å­˜é‡ï¼› kbmemusedï¼šä½¿ç”¨ä¸­çš„ç‰©ç†å†…å­˜é‡ï¼› %memusedï¼šç‰©ç†å†…å­˜é‡ä½¿ç”¨ç‡ï¼› kbbuffersï¼šå†…æ ¸ä¸­ä½œä¸ºç¼“å†²åŒºä½¿ç”¨çš„ç‰©ç†å†…å­˜å®¹é‡ï¼› kbcacheedï¼šå†…æ ¸ä¸­ä½œä¸ºç¼“å­˜ä½¿ç”¨çš„ç‰©ç†å†…å­˜å®¹é‡ï¼› kbswpfreeï¼šäº¤æ¢åŒºçš„ç©ºé—²å®¹é‡ï¼› kbswpusedï¼šä½¿ç”¨ä¸­çš„äº¤æ¢åŒºå®¹é‡ï¼› sar â€“W æŸ¥çœ‹é¡µé¢äº¤æ¢å‘ç”ŸçŠ¶å†µ[root@localhost ~]# sar -W 123456714æ—¶30åˆ†01ç§’ pswpin/s pswpout/s14æ—¶40åˆ†01ç§’ 0.00 0.0014æ—¶50åˆ†01ç§’ 0.00 0.0015æ—¶00åˆ†01ç§’ 0.00 0.00Average: 0.00 0.00â€¦ sar â€“b æŸ¥çœ‹I/Oå’Œä¼ é€é€Ÿç‡çš„ç»Ÿè®¡ä¿¡æ¯[root@localhost ~]# sar -b 1 5 15æ—¶08åˆ†18ç§’ tps rtps wtps bread/s bwrtn/s15æ—¶08åˆ†19ç§’ 0.00 0.00 0.00 0.00 0.0015æ—¶08åˆ†20ç§’ 0.00 0.00 0.00 0.00 0.0015æ—¶08åˆ†21ç§’ 0.00 0.00 0.00 0.00 0.0015æ—¶08åˆ†22ç§’ 13.27 0.00 13.27 0.00 220.4115æ—¶08åˆ†23ç§’ 0.00 0.00 0.00 0.00 0.00Average: 2.66 0.00 2.66 0.00 44.17 tpsï¼š æ¯ç§’é’Ÿç‰©ç†è®¾å¤‡çš„ I/O ä¼ è¾“æ€»é‡rtps: æ¯ç§’é’Ÿä»ç‰©ç†è®¾å¤‡è¯»å…¥çš„æ•°æ®æ€»é‡wtps: æ¯ç§’é’Ÿå‘ç‰©ç†è®¾å¤‡å†™å…¥çš„æ•°æ®æ€»é‡bread/s: æ¯ç§’é’Ÿä»ç‰©ç†è®¾å¤‡è¯»å…¥çš„æ•°æ®é‡ï¼Œå•ä½ä¸º å—/sbwrtn/s: æ¯ç§’é’Ÿå‘ç‰©ç†è®¾å¤‡å†™å…¥çš„æ•°æ®é‡ï¼Œå•ä½ä¸º å—/s sar -n DEVæŸ¥çœ‹å½“å‰ç½‘å¡æµé‡çŠ¶æ€sar -n DEV 1 10 //æ¯1ç§’æ˜¾ç¤º1æ¬¡ï¼Œä¸€å…±æ˜¾ç¤º10æ¬¡ -n çš„å…¶ä»–å‚æ•°DEV æŠ¥å‘Šç½‘ç»œè®¾å¤‡çš„ç»Ÿè®¡ä¿¡æ¯EDEV æŠ¥å‘Šç½‘ç»œè®¾å¤‡çš„é”™è¯¯ç»Ÿè®¡ä¿¡æ¯NFS æŠ¥å‘Š NFS å®¢æˆ·ç«¯çš„æ´»åŠ¨ç»Ÿè®¡ä¿¡æ¯NFSD æŠ¥å‘Š NFS æœåŠ¡å™¨çš„æ´»åŠ¨ç»Ÿè®¡ä¿¡æ¯SOCK æŠ¥å‘Šç½‘ç»œå¥—æ¥å­—ï¼ˆsocketsï¼‰çš„ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯ALL æŠ¥å‘Šæ‰€æœ‰ç±»å‹çš„ç½‘ç»œæ´»åŠ¨ç»Ÿè®¡ä¿¡æ¯ 123Average: IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutilAverage: lo 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00Average: enp0s5 0.66 0.66 0.04 0.19 0.00 0.00 0.00 0.00 å‚æ•° è§£é‡Š IFACE ç½‘ç»œè®¾å¤‡å rxpck/s æ¯ç§’æ¥æ”¶çš„åŒ…æ€»æ•° txpck/s æ¯ç§’ä¼ è¾“çš„åŒ…æ€»æ•° rxbyt/s æ¯ç§’æ¥æ”¶çš„å­—èŠ‚ï¼ˆbyteï¼‰æ€»æ•° txbyt/s æ¯ç§’ä¼ è¾“çš„å­—èŠ‚ï¼ˆbyteï¼‰æ€»æ•° rxcmp/s æ¯ç§’æ¥æ”¶å‹ç¼©åŒ…çš„æ€»æ•° txcmp/s æ¯ç§’ä¼ è¾“å‹ç¼©åŒ…çš„æ€»æ•° rxmcst/s æ¯ç§’æ¥æ”¶çš„å¤šæ’­ï¼ˆmulticastï¼‰åŒ…çš„æ€»æ•° sar -n TCP,ETCP 1sar -n TCP,ETCP 11234512:17:19 AM active/s passive/s iseg/s oseg/s12:17:20 AM 1.00 0.00 10233.00 18846.00 12:17:19 AM atmptf/s estres/s retrans/s isegerr/s orsts/s12:17:20 AM 0.00 0.00 0.00 0.00 0.00 å‘½ä»¤æ˜¾ç¤ºä¸€äº›å…³é”®TCPæŒ‡æ ‡çš„æ±‡æ€»ã€‚å…¶ä¸­åŒ…æ‹¬ï¼šactive/sï¼šæœ¬åœ°æ¯ç§’åˆ›å»ºçš„TCPè¿æ¥æ•°ï¼ˆæ¯”å¦‚concept()åˆ›å»ºçš„ï¼‰passive/sï¼šè¿œç¨‹æ¯ç§’åˆ›å»ºçš„TCPè¿æ¥æ•°ï¼ˆæ¯”å¦‚accept()åˆ›å»ºçš„ï¼‰retrans/sï¼šæ¯ç§’TCPé‡ä¼ æ¬¡æ•°ã€‚ ä¸»åŠ¨è¿æ¥æ•°ï¼ˆactiveï¼‰å’Œè¢«åŠ¨è¿æ¥æ•°ï¼ˆpassiveï¼‰é€šå¸¸å¯ä»¥ç”¨æ¥ç²—ç•¥åœ°æè¿°ç³»ç»Ÿè´Ÿè½½ã€‚å¯ä»¥è®¤ä¸ºä¸»åŠ¨è¿æ¥æ˜¯å¯¹å¤–çš„ï¼Œè€Œè¢«åŠ¨è¿æ¥æ˜¯å¯¹å†…çš„ã€‚ é‡ä¼ æ˜¯ç½‘ç»œæˆ–ç³»ç»Ÿé—®é¢˜çš„ä¸€ä¸ªä¿¡å·ï¼›å®ƒå¯èƒ½æ˜¯ä¸å¯é çš„ç½‘ç»œï¼ˆæ¯”å¦‚å…¬ç½‘ï¼‰æ‰€é€ æˆçš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æœåŠ¡å™¨å·²ç»è¿‡è½½å¹¶å¼€å§‹ä¸¢åŒ…ã€‚ å‚è€ƒhttp://blog.chinaunix.net/uid-25266990-id-2950467.htmlhttp://blog.sina.com.cn/s/blog_3d5b39820101n6rk.html","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"gitå…¥é—¨","slug":"22programming/é…ç½®ç®¡ç†/gitå…¥é—¨","date":"2016-11-06T00:00:00.000Z","updated":"2018-12-10T15:04:45.951Z","comments":true,"path":"2016/11/06/22programming/é…ç½®ç®¡ç†/gitå…¥é—¨/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/é…ç½®ç®¡ç†/gitå…¥é—¨/","excerpt":"","text":"gitåˆ†æ”¯ç®¡ç†Gitåˆ†æ”¯æ˜¯è½»é‡ä¸”é«˜æ•ˆçš„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šä¼ ç»Ÿçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå­˜å‚¨çš„æ•°æ®æ˜¯æ–‡ä»¶çš„å˜æ›´ï¼Œè€ŒGitåˆ™æ˜¯å­˜å‚¨ä¸€ç³»åˆ—çš„æ–‡ä»¶å¿«ç…§ï¼ˆsnapshotï¼‰ã€‚ vi .git/HEAD,å…¶å†…ä¿å­˜äº†æŒ‡å‘å½“å‰åˆ†æ”¯æœ€æ–°æäº¤çš„æŒ‡é’ˆã€‚ è¯¥æŒ‡é’ˆæŒ‡å‘refs/heads/åˆ†æ”¯åæ–‡ä»¶ï¼Œæˆ‘ä»¬è¿›å…¥.git/refs/heads/ç›®å½•ï¼Œå…¶ä¸‹ä»¥åˆ†æ”¯åä¸ºæ–‡ä»¶ååˆ—å‡ºäº†æ‰€æœ‰åˆ†æ”¯ã€‚å¦‚master æ‰§è¡Œvi master:å¯ä»¥çœ‹åˆ°ï¼Œå…¶å†…å­˜å‚¨çš„å°±æ˜¯å½“å‰åˆ†æ”¯çš„æœ€æ–°ä¸€æ¬¡æäº¤å¯¹è±¡IDã€‚ å‘½ä»¤æŸ¥çœ‹è¯¦æƒ… git log --decorate git log --graph git log â€“graph â€“decorate git log â€“pretty=oneline //æ˜¾ç¤ºç®€å•ä¿¡æ¯ git logå‘½ä»¤æ˜¾ç¤ºä»æœ€è¿‘åˆ°æœ€è¿œçš„æäº¤æ—¥å¿— git statuså‘Šè¯‰ä½ æœ‰æ–‡ä»¶è¢«ä¿®æ”¹è¿‡ï¼Œç”¨git diffå¯ä»¥æŸ¥çœ‹ä¿®æ”¹å†…å®¹ git add çš„å„ç§åŒºåˆ«git add -A // æ·»åŠ æ‰€æœ‰æ”¹åŠ¨ git add * // æ·»åŠ æ–°å»ºæ–‡ä»¶å’Œä¿®æ”¹ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬åˆ é™¤ git add . // æ·»åŠ æ–°å»ºæ–‡ä»¶å’Œä¿®æ”¹ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬åˆ é™¤ git add -u // æ·»åŠ ä¿®æ”¹å’Œåˆ é™¤ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬æ–°å»ºæ–‡ä»¶ ###æ€ä¹ˆå›é€€ é¦–å…ˆæŸ¥çœ‹ç‰ˆæœ¬git log git reset â€“hard HEAD^ åœ¨Gitä¸­ï¼Œç”¨HEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯æœ€æ–°çš„æäº¤ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^^ git reset â€“hard 3628164 æ¢å¤åˆ°æ–°ç‰ˆæœ¬Gitæä¾›äº†ä¸€ä¸ªå‘½ä»¤git reflogç”¨æ¥è®°å½•æ¯ä¸€æ¬¡å‘½ä»¤ æ¯”è¾ƒgit diff readme.txt åˆ›å»ºä¸€ä¸ªåˆ†æ”¯æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåˆ†æ”¯work-a git checkout -b work-a ç­‰ä»·äºä»¥ä¸‹ä¸¤æ¡æŒ‡ä»¤ï¼š git branch åˆ†æ”¯å git checkout åˆ†æ”¯å æäº¤git add .git commit -a -m â€œfixâ€ åˆå¹¶å…ˆåˆ‡æ¢åˆ°masteråˆ†æ”¯git merge work-aè¯¥æŒ‡ä»¤å‘Šè¯‰Gitå°†æŒ‡å®šåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ æŒ‡å®šâ€“no-ffå³å£°æ˜è¿›è¡Œéå¿«é€Ÿæ¨è¿›åˆå¹¶ rebaseåˆ é™¤åˆ†æ”¯å½“åˆ†æ”¯åˆå¹¶å…¥ä¸»å¹²åï¼Œä¹Ÿè®¸æˆ‘ä»¬ä¸å†éœ€è¦é‚£ä¸ªåˆ†æ”¯äº†ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶åˆ é™¤ï¼Œä½¿ç”¨æŒ‡ä»¤ï¼š git branch -d åˆ†æ”¯å è¿œç¨‹åˆ†æ”¯è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯åŸºæœ¬ç†è®ºæ¦‚å¿µè¿˜æ˜¯ç›¸åŒçš„ï¼ŒåŒºåˆ«æ˜¯æœ‰äº›æŒ‡ä»¤ä¸åŒgit checkout -b test origin/developä»¥ä¸ŠæŒ‡ä»¤å³ä»è¿œç¨‹åˆ†æ”¯(è¿œç«¯ä¸»æœºoriginä¸Šçš„developåˆ†æ”¯)åˆ‡å‡ºæ–°çš„æœ¬åœ°åˆ†æ”¯teståˆ†æ”¯ã€‚ å½“æˆ‘ä»¬ä»ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯åˆ‡å‡ºï¼ˆåˆ›å»ºï¼‰ä¸€ä¸ªæœ¬åœ°åˆ†æ”¯æ—¶ï¼Œè¿™ä¸ªåˆ†æ”¯å°±å«è·Ÿè¸ªåˆ†æ”¯ï¼ˆtracking branchï¼‰,è€Œè¿œç¨‹åˆ†æ”¯å«ä¸Šæ¸¸åˆ†æ”¯ï¼ˆupstream branchï¼‰ã€‚ å½“æˆ‘ä»¬å…‹éš†ä¸€ä¸ªè¿œç«¯ä»“åº“æ—¶ï¼Œä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ªè·Ÿè¸ªåˆ†æ”¯masterï¼Œå…¶ä¸Šæ¸¸åˆ†æ”¯å°±æ˜¯è¿œç«¯ä¸»æœºåˆ«å/master æ‰‹åŠ¨å»ºç«‹è¿½è¸ªå…³ç³»git branch â€“set-upstream master origin/nextæŒ‡å®šmasteråˆ†æ”¯è¿½è¸ªorigin/nextåˆ†æ”¯ã€‚ æŸ¥çœ‹è¿œç¨‹å’Œåˆ†æ”¯git branch -r git branchå‘½ä»¤çš„-ré€‰é¡¹ï¼Œå¯ä»¥ç”¨æ¥æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼Œ-aé€‰é¡¹æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯git branchæŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ åˆ›å»ºè·Ÿè¸ªåˆ†æ”¯åˆ›å»ºè·Ÿè¸ªåˆ†æ”¯æŒ‡ä»¤å¦‚ä¸‹ï¼š git checkout -b æœ¬åœ°åˆ†æ”¯å è¿œç«¯ä¸»æœºåˆ«å/è¿œç¨‹åˆ†æ”¯å git checkout -b ccc origin/work-a æœ¬åœ°åˆ†æ”¯è®¾ç½®å…¶ä¸Šæ¸¸åˆ†æ”¯éœ€è¦ä¸ºæœ¬åœ°åˆ†æ”¯è®¾ç½®å…¶ä¸Šæ¸¸åˆ†æ”¯ï¼Œæ·»åŠ -uå‚æ•°ï¼š git branch -u è¿œç«¯ä¸»æœºåˆ«å/è¿œç¨‹åˆ†æ”¯å å¦‚ä½•å‚çœ‹å½“å‰åˆ†æ”¯å¯¹åº”çš„ä¸Šæ¸¸åˆ†æ”¯git branch -vv åˆ é™¤è¿œç¨‹åˆ†æ”¯å¯¹äºä¸å†éœ€è¦çš„è¿œç¨‹åˆ†æ”¯ï¼Œæ˜¯å¯ä»¥åˆ é™¤çš„ï¼š git push origin â€“delete test æ¨é€æ•°æ®åˆ°è¿œç¨‹åˆ†æ”¯git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;git push origin ccc master git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯&gt;å¦‚æœè¿œç¨‹åˆ†æ”¯è¢«çœç•¥ï¼Œå¦‚ä¸Šåˆ™è¡¨ç¤ºå°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°ä¸ä¹‹å­˜åœ¨è¿½è¸ªå…³ç³»çš„è¿œç¨‹åˆ†æ”¯ï¼ˆé€šå¸¸ä¸¤è€…åŒåï¼‰ï¼Œå¦‚æœè¯¥è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»ºã€‚ git push -u origin master-u å‚æ•°æŒ‡å®šä¸€ä¸ªé»˜è®¤ä¸»æœºï¼Œè¿™æ ·åé¢å°±å¯ä»¥ä¸åŠ ä»»ä½•å‚æ•°ä½¿ç”¨git push pullåˆ†æ”¯git pullå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼Œå–å›è¿œç¨‹ä¸»æœºæŸä¸ªåˆ†æ”¯çš„æ›´æ–°ï¼Œå†ä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt; ä¾‹å¦‚è¿œç¨‹åˆ†æ”¯å¦‚ä¸‹ï¼š git branch -r origin/HEAD -&gt; origin/master origin/ccc origin/master origin/work-a git pull origin ccc:master å¦‚æœè¿œç¨‹åˆ†æ”¯æ˜¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å†’å·åé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ã€‚git pull origin ccc git pull originæœ¬åœ°çš„å½“å‰åˆ†æ”¯è‡ªåŠ¨ä¸å¯¹åº”çš„originä¸»æœºâ€è¿½è¸ªåˆ†æ”¯â€ï¼ˆremote-tracking branchï¼‰è¿›è¡Œåˆå¹¶ã€‚ å¦‚æœå½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿½è¸ªåˆ†æ”¯ï¼Œè¿œç¨‹ä¸»æœºåéƒ½å¯ä»¥çœç•¥git pull è¿œç«¯ä¸»æœºå‚çœ‹è¿œç«¯ä¸»æœºgit remotegit remote -vä½¿ç”¨-vé€‰é¡¹ï¼Œå¯ä»¥å‚çœ‹è¿œç¨‹ä¸»æœºçš„ç½‘å€ æ·»åŠ ä¸»æœºgit remote add &lt;ä¸»æœºåˆ«å&gt; &lt;è¿œç«¯åœ°å€&gt;git remote add origin http://112.124.0.156:9258/klwork/test.git æŸ¥çœ‹ç‰¹å®šä¸»æœºä¿¡æ¯git remote show origin å‚è€ƒhttp://www.cnblogs.com/qianqiannian/p/6008140.htmlhttp://www.ruanyifeng.com/blog/2014/06/git_remote.htmlhttp://blog.csdn.net/wh_19910525/article/details/7554489http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/tags/Git/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"gradleå…¥é—¨","slug":"22programming/é…ç½®ç®¡ç†/gradleå…¥é—¨","date":"2016-11-06T00:00:00.000Z","updated":"2018-12-10T15:04:49.306Z","comments":true,"path":"2016/11/06/22programming/é…ç½®ç®¡ç†/gradleå…¥é—¨/","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/é…ç½®ç®¡ç†/gradleå…¥é—¨/","excerpt":"","text":"gradleå…¥é—¨gradleè·Ÿivy/mavenä¸€æ ·ï¼Œæ˜¯ä¸€ç§ä¾èµ–ç®¡ç†/è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ã€‚ä½†æ˜¯è·Ÿivy/mavenä¸ä¸€æ ·ï¼Œå®ƒå¹¶æ²¡æœ‰ä½¿ç”¨xmlè¯­è¨€ï¼Œè€Œæ˜¯é‡‡ç”¨äº†Groovyè¯­è¨€ã€‚æ›´åŠ å¼ºå¤§çš„æ˜¯ï¼Œgradleå®Œå…¨å…¼å®¹mavenå’Œivyã€‚ gradleè·Ÿmavenä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œmavené‡Œé¢æ˜¯å«pom.xmlï¼Œè€Œåœ¨gradleä¸­æ˜¯å«build.gradleã€‚ ï¼ƒç›®å½•ç»“æ„åœ¨ä¸€ä¸ªç©ºç›®å½•ä¸‹ï¼Œæ‰§è¡Œgradle initï¼Œå‡è®¾gradleå·²ç»å®‰è£…ï¼Œå¹¶ä¸”é…ç½®åˆ°äº†ç¯å¢ƒå˜é‡ä¸­ã€‚ æ‰§è¡Œtree,å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç›®å½•ã€‚ â”œâ”€â”€ build.gradleâ”œâ”€â”€ gradleâ”‚ â””â”€â”€ wrapperâ”‚ â”œâ”€â”€ gradle-wrapper.jarâ”‚ â””â”€â”€ gradle-wrapper.propertiesâ”œâ”€â”€ gradlewâ”œâ”€â”€ gradlew.batâ””â”€â”€ settings.gradle gradle.propertieså®ƒæ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å¯ä»¥å®šä¹‰ä¸€äº›å¸¸é‡ä¾›build.gradleä½¿ç”¨ï¼Œæ¯”å¦‚å¯ä»¥é…ç½®ç­¾åç›¸å…³ä¿¡æ¯å¦‚keystoreä½ç½®ï¼Œå¯†ç ï¼Œkeyaliasç­‰ã€‚ settings.gradle è¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥é…ç½®å¤šæ¨¡å—çš„ï¼Œæ¯”å¦‚ä½ çš„é¡¹ç›®æœ‰ä¸¤ä¸ªæ¨¡å—module-a,module-b,é‚£ä¹ˆä½ å°±éœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼šinclude â€˜:module-aâ€™,â€™:module-bâ€™ gradleæ–‡ä»¶å¤¹ è¿™é‡Œé¢æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œgradle-wrapper.jarå’Œgradle-wrapper.properties,å®ƒä»¬å°±æ˜¯gradle wrapperã€‚ gradlewå’Œgradlew.batè¿™åˆ†åˆ«æ˜¯linuxä¸‹çš„shellè„šæœ¬å’Œwindowsä¸‹çš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œå®ƒä»¬çš„ä½œç”¨æ˜¯æ ¹æ®gradle-wrapper.propertiesæ–‡ä»¶ä¸­çš„distributionUrlä¸‹è½½å¯¹åº”çš„gradleç‰ˆæœ¬ã€‚è¿™æ ·å°±å¯ä»¥ä¿è¯åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹æ„å»ºæ—¶éƒ½æ˜¯ä½¿ç”¨çš„ç»Ÿä¸€ç‰ˆæœ¬çš„gradleï¼Œå³ä½¿è¯¥ç¯å¢ƒæ²¡æœ‰å®‰è£…gradleä¹Ÿå¯ä»¥ï¼Œå› ä¸ºgradle wrapperä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„gradleç‰ˆæœ¬ã€‚ gradlewçš„ç”¨æ³•è·Ÿgradleä¸€æ¨¡ä¸€æ ·ï¼Œæ¯”å¦‚æ‰§è¡Œæ„å»ºgradle buildå‘½ä»¤ï¼Œä½ å¯ä»¥ç”¨gradlew buildã€‚gradlewå³gradle wrapperçš„ç¼©å†™ã€‚ é…ç½®è¯´æ˜123456789101112131415161718192021// Top-level build file where you can add configuration options common to all sub-projects/modules. buildscript &#123; //æ„å»ºè¿‡ç¨‹ä¾èµ–çš„ä»“åº“ repositories &#123; jcenter()&#125;//æ„å»ºè¿‡ç¨‹éœ€è¦ä¾èµ–çš„åº“dependencies &#123; //ä¸‹é¢å£°æ˜çš„æ˜¯gradleæ’ä»¶çš„ç‰ˆæœ¬ classpath &apos;com.android.tools.build:gradle:1.1.0&apos; // NOTE: Do not place your application dependencies here; they belong // in the individual module build.gradle files&#125;&#125;//è¿™é‡Œé¢é…ç½®æ•´ä¸ªé¡¹ç›®ä¾èµ–çš„ä»“åº“,è¿™æ ·æ¯ä¸ªmoduleå°±ä¸ç”¨é…ç½®ä»“åº“äº†allprojects &#123; repositories &#123; jcenter() &#125;&#125; repositoriesï¼Œæ„å»ºè¿‡ç¨‹ä¾èµ–çš„ä»“åº“ dependenciesï¼Œæ„å»ºè¿‡ç¨‹éœ€è¦ä¾èµ–çš„åº“ ä¸ºä»€ä¹ˆä»“åº“repositorieséœ€è¦å£°æ˜ä¸¤æ¬¡ï¼Œè¿™å…¶å®æ˜¯ç”±äºå®ƒä»¬ä½œç”¨ä¸åŒï¼Œbuildscriptä¸­çš„ä»“åº“æ˜¯gradleè„šæœ¬è‡ªèº«éœ€è¦çš„èµ„æºï¼Œè€Œallprojectsä¸‹çš„ä»“åº“æ˜¯é¡¹ç›®æ‰€æœ‰æ¨¡å—éœ€è¦çš„èµ„æºã€‚ gradleä»“åº“ï¼šgradleæœ‰ä¸‰ç§ä»“åº“ï¼Œmavenä»“åº“ï¼Œivyä»“åº“ä»¥åŠflatæœ¬åœ°ä»“åº“ã€‚å£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š maven{ url â€œâ€¦â€}ivy{ url â€œâ€¦â€}flatDir{ dirs â€˜xxxâ€™}æœ‰ä¸€äº›ä»“åº“æä¾›äº†åˆ«åï¼Œå¯ç›´æ¥ä½¿ç”¨ï¼š repositories{ mavenCentral() jcenter() mavenLocal()} gradleä»»åŠ¡gradleä¸­æœ‰ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µå«ä»»åŠ¡ï¼Œè·Ÿmavenä¸­çš„æ’ä»¶ç›®æ ‡ç±»ä¼¼ã€‚gradleçš„androidæ’ä»¶æä¾›äº†å››ä¸ªé¡¶çº§ä»»åŠ¡ assemble æ„å»ºé¡¹ç›®è¾“å‡ºcheck è¿è¡Œæ£€æµ‹å’Œæµ‹è¯•ä»»åŠ¡build è¿è¡Œassembleå’Œcheckclean æ¸…ç†è¾“å‡ºä»»åŠ¡gradlew assembleç›¸å½“äºæ‰§è¡Œgradlew assembleDebuggradlew assembleRelease æ£€æŸ¥ä¾èµ–æŠ¥å‘Šgradle dependencies å¸¸è§é—®é¢˜ä¸‹è½½å¾ˆæ…¢å°†ä¸‹è½½å¥½çš„gradle-2.14-bin.zipæ”¾ç€ç›¸åº”çš„ç›®å½•ä¸‹/Users/ww/.gradle/wrapper/dists/gradle-2.14-bin/76oc0mnc3ieqtsukq90mp0rxk å‚è€ƒhttp://www.open-open.com/lib/view/open1431391503529.html","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"gradle","slug":"gradle","permalink":"http://yoursite.com/tags/gradle/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"çº¿ç¨‹æ± å­¦ä¹ ","slug":"22programming/java/thread/çº¿ç¨‹æ± ","date":"2016-11-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.103Z","comments":true,"path":"2016/11/06/22programming/java/thread/çº¿ç¨‹æ± /","link":"","permalink":"http://yoursite.com/2016/11/06/22programming/java/thread/çº¿ç¨‹æ± /","excerpt":"","text":"çº¿ç¨‹æ± å­¦ä¹ scheduleã€scheduleAtFixedRateå’ŒscheduleWithFixedDelayçš„åŒºåˆ«schedule(commod,delay,unit) ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯è¯´ç³»ç»Ÿå¯åŠ¨åï¼Œéœ€è¦ç­‰å¾…å¤šä¹…æ‰§è¡Œï¼Œdelayæ˜¯ç­‰å¾…æ—¶é—´ã€‚åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ²¡æœ‰å‘¨æœŸæ€§ã€‚ **scheduleAtFixedRate(commod,initialDelay,period,unit)ï¼Œè¿™ä¸ªæ˜¯ä»¥periodä¸ºå›ºå®šå‘¨æœŸæ—¶é—´ï¼ŒæŒ‰ç…§ä¸€å®šé¢‘ç‡æ¥é‡å¤æ‰§è¡Œä»»åŠ¡ï¼ŒinitialDelayæ˜¯è¯´ç³»ç»Ÿå¯åŠ¨åï¼Œéœ€è¦ç­‰å¾…å¤šä¹…æ‰å¼€å§‹æ‰§è¡Œã€‚ä¼˜å…ˆä¿è¯ä»»åŠ¡æ‰§è¡Œçš„é¢‘ç‡ã€‚ scheduleWithFixedDelay(commod,initialDelay,delay,unit)ï¼Œè¿™ä¸ªæ˜¯ä»¥delayä¸ºå›ºå®šå»¶è¿Ÿæ—¶é—´ï¼ŒæŒ‰ç…§ä¸€å®šçš„ç­‰å¾…æ—¶é—´æ¥æ‰§è¡Œä»»åŠ¡ï¼ŒinitialDelayæ„ä¹‰ä¸ä¸Šé¢çš„ç›¸åŒã€‚ä¸ç®¡çº¿ç¨‹ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´çš„ï¼Œä¼˜å…ˆä¿è¯ä»»åŠ¡æ‰§è¡Œçš„é—´éš”","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"é«˜å¹¶å‘","slug":"é«˜å¹¶å‘","permalink":"http://yoursite.com/tags/é«˜å¹¶å‘/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://yoursite.com/tags/å¤šçº¿ç¨‹/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"MQç®€å•å­¦ä¹ ","slug":"13åŸºç¡€æŠ€æœ¯/æ¶ˆæ¯é˜Ÿåˆ—/mqå­¦ä¹ ","date":"2016-09-04T00:00:00.000Z","updated":"2018-12-10T15:44:05.254Z","comments":true,"path":"2016/09/04/13åŸºç¡€æŠ€æœ¯/æ¶ˆæ¯é˜Ÿåˆ—/mqå­¦ä¹ /","link":"","permalink":"http://yoursite.com/2016/09/04/13åŸºç¡€æŠ€æœ¯/æ¶ˆæ¯é˜Ÿåˆ—/mqå­¦ä¹ /","excerpt":"MQMQå…¨ç§°ä¸ºMessage Queue, æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰æ˜¯ä¸€ç§åº”ç”¨ç¨‹åºå¯¹åº”ç”¨ç¨‹åºçš„é€šä¿¡æ–¹æ³•ã€‚ã€‚","text":"MQMQå…¨ç§°ä¸ºMessage Queue, æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰æ˜¯ä¸€ç§åº”ç”¨ç¨‹åºå¯¹åº”ç”¨ç¨‹åºçš„é€šä¿¡æ–¹æ³•ã€‚ã€‚ #JMSè§„èŒƒ# JMS(Java Message Service) å³Javaæ¶ˆæ¯æœåŠ¡ã€‚å®ƒæä¾›æ ‡å‡†çš„äº§ç”Ÿã€å‘é€ã€æ¥æ”¶æ¶ˆæ¯çš„æ¥å£ç®€åŒ–ä¼ä¸šåº”ç”¨çš„å¼€å‘ã€‚å®ƒæ”¯æŒä¸¤ç§æ¶ˆæ¯é€šä¿¡æ¨¡å‹ï¼šç‚¹åˆ°ç‚¹ï¼ˆpoint-to-pointï¼‰ï¼ˆP2Pï¼‰æ¨¡å‹å’Œå‘å¸ƒ/è®¢é˜…ï¼ˆPub/Subï¼‰æ¨¡å‹ã€‚ å½“é‡‡ç”¨ç‚¹å¯¹ç‚¹æ¨¡å‹æ—¶ï¼Œæ¶ˆæ¯å°†å‘é€åˆ°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè¯¥é˜Ÿåˆ—çš„æ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚ è€Œé‡‡ç”¨å‘å¸ƒè®¢é˜…æ¨¡å‹æ—¶ï¼Œæ¶ˆæ¯å¯ä»¥è¢«å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚åœ¨å‘å¸ƒè®¢é˜…æ¨¡å‹ä¸­ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å®Œå…¨ç‹¬ç«‹ï¼Œä¸éœ€è¦æ„ŸçŸ¥å¯¹æ–¹çš„å­˜åœ¨ã€‚ æ¶ˆæ¯å¦‚ä½•ä»producerç«¯è¾¾åˆ°consumerç«¯ç”±message-routingæ¥å†³å®šã€‚åœ¨JMSä¸­ï¼Œæ¶ˆæ¯è·¯ç”±éå¸¸ç®€å•ï¼Œç”±producerå’Œconsumeré“¾æ¥åˆ°åŒä¸€ä¸ªqueueï¼ˆp2pï¼‰æˆ–è€…topicï¼ˆpub/subï¼‰æ¥å®ç°æ¶ˆæ¯çš„è·¯ç”±ã€‚JMSconsumeråŒæ—¶æ”¯æŒmessage selectorï¼ˆæ¶ˆæ¯é€‰æ‹©å™¨ï¼‰ï¼Œé€šè¿‡æ¶ˆæ¯é€‰æ‹©å™¨ï¼Œconsumerå¯ä»¥åªæ¶ˆè´¹é‚£äº›é€šè¿‡äº†selectorç­›é€‰çš„æ¶ˆæ¯ã€‚åœ¨JMSä¸­ï¼Œæ¶ˆæ¯è·¯ç”±æœºåˆ¶çš„å›¾ç¤ºå¦‚ä¸‹ï¼š å‡ ä¸ªé‡è¦æ¦‚å¿µ Destinationï¼šæ¶ˆæ¯å‘é€çš„ç›®çš„åœ°ï¼Œä¹Ÿå°±æ˜¯å‰é¢è¯´çš„Queueå’ŒTopicã€‚åˆ›å»ºå¥½ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œåªéœ€è¦æŠŠè¿™ä¸ªæ¶ˆæ¯å‘é€åˆ°ç›®çš„åœ°ï¼Œæ¶ˆæ¯çš„å‘é€è€…å°±å¯ä»¥ç»§ç»­åšè‡ªå·±çš„äº‹æƒ…ï¼Œè€Œä¸ç”¨ç­‰å¾…æ¶ˆæ¯è¢«å¤„ç†å®Œæˆã€‚è‡³äºè¿™ä¸ªæ¶ˆæ¯ä»€ä¹ˆæ—¶å€™ï¼Œä¼šè¢«å“ªä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œå®Œå…¨å–å†³äºæ¶ˆæ¯çš„æ¥å—è€…ã€‚ Messageï¼šä»å­—é¢ä¸Šå°±å¯ä»¥çœ‹å‡ºæ˜¯è¢«å‘é€çš„æ¶ˆæ¯ã€‚å®ƒæœ‰ä¸‹é¢å‡ ç§ç±»å‹ï¼š StreamMessageï¼šJava æ•°æ®æµæ¶ˆæ¯ï¼Œç”¨æ ‡å‡†æµæ“ä½œæ¥é¡ºåºçš„å¡«å……å’Œè¯»å–ã€‚ MapMessageï¼šä¸€ä¸ªMapç±»å‹çš„æ¶ˆæ¯ï¼›åç§°ä¸º string ç±»å‹ï¼Œè€Œå€¼ä¸º Java çš„åŸºæœ¬ç±»å‹ã€‚ TextMessageï¼šæ™®é€šå­—ç¬¦ä¸²æ¶ˆæ¯ï¼ŒåŒ…å«ä¸€ä¸ªStringã€‚ ObjectMessageï¼šå¯¹è±¡æ¶ˆæ¯ï¼ŒåŒ…å«ä¸€ä¸ªå¯åºåˆ—åŒ–çš„Java å¯¹è±¡ BytesMessageï¼šäºŒè¿›åˆ¶æ•°ç»„æ¶ˆæ¯ï¼ŒåŒ…å«ä¸€ä¸ªbyte[]ã€‚ XMLMessage: ä¸€ä¸ªXMLç±»å‹çš„æ¶ˆæ¯ã€‚ æœ€å¸¸ç”¨çš„æ˜¯TextMessageå’ŒObjectMessageã€‚ Sessionï¼šä¸JMSæä¾›è€…æ‰€å»ºç«‹çš„ä¼šè¯ï¼Œé€šè¿‡Sessionæˆ‘ä»¬æ‰å¯ä»¥åˆ›å»ºä¸€ä¸ªMessageã€‚ Connectionï¼šä¸JMSæä¾›è€…å»ºç«‹çš„ä¸€ä¸ªè¿æ¥ã€‚å¯ä»¥ä»è¿™ä¸ªè¿æ¥åˆ›å»ºä¸€ä¸ªä¼šè¯ï¼Œå³Sessionã€‚ ConnectionFactory:é‚£å¦‚ä½•åˆ›å»ºä¸€ä¸ªConnectionå‘¢ï¼Ÿè¿™å°±éœ€è¦ä¸‹é¢è®²åˆ°çš„ConnectionFactoryäº†ã€‚é€šè¿‡è¿™ä¸ªå·¥å‚ç±»å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªä¸JMSæä¾›è€…çš„è¿æ¥ï¼Œå³Conectionã€‚ Producerï¼šæ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œè¦å‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œå¿…é¡»é€šè¿‡è¿™ä¸ªç”Ÿäº§è€…æ¥å‘é€ã€‚ MessageConsumerï¼šä¸ç”Ÿäº§è€…ç›¸å¯¹åº”ï¼Œè¿™æ˜¯æ¶ˆæ¯çš„æ¶ˆè´¹è€…æˆ–æ¥æ”¶è€…ï¼Œé€šè¿‡å®ƒæ¥æ¥æ”¶ä¸€ä¸ªæ¶ˆæ¯ã€‚ æ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡åˆ›å»ºè¿‡ç¨‹MSè§„èŒƒä¸­ï¼Œæ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡åˆ›å»ºè¿‡ç¨‹å¦‚ä¸‹ï¼š 1. åˆå§‹åŒ–ConnetionFactory 2. ConnetionFactoryåˆ›å»ºConnection 3. Connectionåˆ›å»ºSession 4. Sessionåˆ›å»ºDestinationï¼ˆåŒ…æ‹¬Queue å’Œ Topicä¸¤ç§ï¼‰ 5.å‘ï¼š Sessionåˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…MessageProducerï¼ˆæ”¶ï¼šSessionåˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…MessageConsumerï¼‰ 6.Seesionåˆ›å»ºMessageï¼Œï¼ˆå‘ï¼šï¼‰MessageProducerå‘é€åˆ°Destinationï¼Œï¼ˆæ”¶ï¼šï¼‰MessageConsumerä»Destinationæ¥å—æ¶ˆæ¯ã€‚ ActiveMQActiveMQ æ˜¯Apacheå‡ºå“ï¼Œæœ€æµè¡Œçš„ï¼Œèƒ½åŠ›å¼ºåŠ²çš„å¼€æºæ¶ˆæ¯æ€»çº¿ã€‚ActiveMQ æ˜¯ä¸€ä¸ªå®Œå…¨æ”¯æŒJMS1.1å’ŒJ2EE 1.4è§„èŒƒçš„ JMS Providerå®ç°,å°½ç®¡JMSè§„èŒƒå‡ºå°å·²ç»æ˜¯å¾ˆä¹…çš„äº‹æƒ…äº†,ä½†æ˜¯JMSåœ¨å½“ä»Šçš„J2EEåº”ç”¨ä¸­é—´ä»ç„¶æ‰®æ¼”ç€ç‰¹æ®Šçš„åœ°ä½ã€‚ ä¸»è¦ç‰¹ç‚¹ å¤šç§è¯­è¨€å’Œåè®®ç¼–å†™å®¢æˆ·ç«¯ã€‚è¯­è¨€: Java, C, C++, C#, Ruby, Perl, Python, PHPã€‚åº”ç”¨åè®®: OpenWire,Stomp REST,WSNotification,XMPP,AMQP å®Œå…¨æ”¯æŒJMS1.1å’ŒJ2EE 1.4è§„èŒƒ (æŒä¹…åŒ–,XAæ¶ˆæ¯,äº‹åŠ¡) å¯¹Springçš„æ”¯æŒ,ActiveMQå¯ä»¥å¾ˆå®¹æ˜“å†…åµŒåˆ°ä½¿ç”¨Springçš„ç³»ç»Ÿé‡Œé¢å»,è€Œä¸”ä¹Ÿæ”¯æŒSpring2.0çš„ç‰¹æ€§ é€šè¿‡äº†å¸¸è§J2EEæœåŠ¡å™¨(å¦‚ Geronimo,JBoss 4, GlassFish,WebLogic)çš„æµ‹è¯•,å…¶ä¸­é€šè¿‡JCA 1.5 resource adaptorsçš„é…ç½®,å¯ä»¥è®©ActiveMQå¯ä»¥è‡ªåŠ¨çš„éƒ¨ç½²åˆ°ä»»ä½•å…¼å®¹J2EE 1.4 å•†ä¸šæœåŠ¡å™¨ä¸Š æ”¯æŒå¤šç§ä¼ é€åè®®:in-VM,TCP,SSL,NIO,UDP,JGroups,JXTA æ”¯æŒé€šè¿‡JDBCå’Œjournalæä¾›é«˜é€Ÿçš„æ¶ˆæ¯æŒä¹…åŒ– ä»è®¾è®¡ä¸Šä¿è¯äº†é«˜æ€§èƒ½çš„é›†ç¾¤,å®¢æˆ·ç«¯-æœåŠ¡å™¨,ç‚¹å¯¹ç‚¹ æ”¯æŒAjax æ”¯æŒä¸Axisçš„æ•´åˆ å¯ä»¥å¾ˆå®¹æ˜“å¾—è°ƒç”¨å†…åµŒJMS provider,è¿›è¡Œæµ‹è¯• ActiveMQé€Ÿåº¦éå¸¸å¿«ï¼›ä¸€èˆ¬è¦æ¯”jbossMQå¿«10å€ã€‚ ###ä¼˜ç‚¹ æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„å¼€æºæ¶ˆæ¯ç»„ä»¶(æ¡†æ¶)ï¼Œæ”¯æŒé›†ç¾¤ï¼ŒåŒç­‰ç½‘ç»œï¼Œè‡ªåŠ¨æ£€æµ‹ï¼ŒTCPï¼ŒSSLï¼Œå¹¿æ’­ï¼ŒæŒä¹…åŒ–ï¼ŒXAï¼Œå’ŒJ2EE1.4å®¹å™¨æ— ç¼ç»“åˆï¼Œå¹¶ä¸”æ”¯æŒè½»é‡çº§å®¹å™¨å’Œå¤§å¤šæ•°è·¨è¯­è¨€å®¢æˆ·ç«¯ä¸Šçš„Javaè™šæ‹Ÿæœºã€‚æ¶ˆæ¯å¼‚æ­¥æ¥å—ï¼Œå‡å°‘è½¯ä»¶å¤šç³»ç»Ÿé›†æˆçš„è€¦åˆåº¦ã€‚æ¶ˆæ¯å¯é æ¥æ”¶ï¼Œç¡®ä¿æ¶ˆæ¯åœ¨ä¸­é—´ä»¶å¯é ä¿å­˜ï¼Œå¤šä¸ªæ¶ˆæ¯ä¹Ÿå¯ä»¥ç»„æˆåŸå­äº‹åŠ¡ã€‚ç¼ºç‚¹ï¼šActiveMQé»˜è®¤çš„é…ç½®æ€§èƒ½åä½ï¼Œéœ€è¦ä¼˜åŒ–é…ç½®ï¼Œä½†æ˜¯é…ç½®æ–‡ä»¶å¤æ‚ï¼ŒActiveMQæœ¬èº«ä¸æä¾›ç®¡ç†å·¥å…·ï¼›ç¤ºä¾‹ä»£ç å°‘ï¼›ä¸»é¡µä¸Šçš„æ–‡æ¡£çœ‹ä¸Šå»æ¯”è¾ƒå…¨é¢ï¼Œä½†æ˜¯ç¼ºä¹ä¸€ç§æœ‰æ•ˆçš„ç»„ç»‡æ–¹å¼ï¼Œæ–‡æ¡£åªæœ‰ç‰‡æ®µï¼Œç”¨æˆ·å¾ˆéš¾ç”±æµ…å…¥æ·±è¿›è¡Œäº†è§£ï¼ŒäºŒã€æ–‡æ¡£æ•´ä½“çš„ä¸“ä¸šæ€§å¤ªå¼ºã€‚åœ¨ç ”ç©¶é˜¶æ®µå¯ä»¥é€šè¿‡æŸ¥maillistã€çœ‹Javadocã€åˆ†ææºä»£ç æ¥äº†è§£ã€‚ ###å®‰è£…å’Œå¯åŠ¨ è¾“å…¥activemq.bat startï¼Œå¯åŠ¨AMQã€‚ AMQçš„é»˜è®¤ä½¿ç”¨çš„TCPè¿æ¥ç«¯å£æ˜¯61616ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ netstat -an|find &quot;61616&quot;æ¥æµ‹è¯•æ˜¯å¦å¯åŠ¨ã€‚è¾“å…¥ctrl + c æˆ–è€…ä½¿ç”¨activemq stopå‘½ä»¤ï¼Œåœæ­¢AMQã€‚ adminå·¥ç¨‹æ˜¯ç®¡ç†æ§åˆ¶å° ç®¡ç†æ§åˆ¶å°åœ°å€ï¼šhttp://localhost:8161/admin ç”¨æˆ·åå¯†ç éƒ½æ˜¯admin demoåœ°å€ï¼šhttp://localhost:8161/demo é»˜è®¤ä¸å¯åŠ¨ï¼Œéœ€è¦åœ¨jettyä¸­é…ç½® ###ç®¡ç†ç«¯è¯´æ˜ http://lhbthanks.iteye.com/blog/1940767 Number Of Consumers æ¶ˆè´¹è€… è¿™ä¸ªæ˜¯æ¶ˆè´¹è€…ç«¯çš„æ¶ˆè´¹è€…æ•°é‡ Number Of Pending Messages ç­‰å¾…æ¶ˆè´¹çš„æ¶ˆæ¯ è¿™ä¸ªæ˜¯å½“å‰æœªå‡ºé˜Ÿåˆ—çš„æ•°é‡ã€‚å¯ä»¥ç†è§£ä¸ºæ€»æ¥æ”¶æ•°-æ€»å‡ºé˜Ÿåˆ—æ•°Messages Enqueued è¿›å…¥é˜Ÿåˆ—çš„æ¶ˆæ¯ è¿›å…¥é˜Ÿåˆ—çš„æ€»æ•°é‡,åŒ…æ‹¬å‡ºé˜Ÿåˆ—çš„ã€‚ è¿™ä¸ªæ•°é‡åªå¢ä¸å‡Messages Dequeued å‡ºäº†é˜Ÿåˆ—çš„æ¶ˆæ¯ å¯ä»¥ç†è§£ä¸ºæ˜¯æ¶ˆè´¹è¿™æ¶ˆè´¹æ‰çš„æ•°é‡ ActiveMQåº”ç”¨åœºæ™¯1ã€ ä¸åŒè¯­è¨€åº”ç”¨é›†æˆActiveMQ ä¸­é—´ä»¶ç”¨Javaè¯­è¨€ç¼–å†™ï¼Œå› æ­¤è‡ªç„¶æä¾›Javaå®¢æˆ·ç«¯ APIã€‚ä½†æ˜¯ActiveMQ ä¹Ÿä¸ºC/C++ã€.NETã€Perlã€PHPã€Pythonã€Ruby å’Œä¸€äº›å…¶å®ƒè¯­è¨€æä¾›å®¢æˆ·ç«¯ã€‚åœ¨ä½ è€ƒè™‘å¦‚ä½•é›†æˆä¸åŒå¹³å°ä¸åŒè¯­è¨€ç¼–å†™åº”ç”¨çš„æ—¶å€™ï¼ŒActiveMQ æ‹¥æœ‰å·¨å¤§ä¼˜åŠ¿ã€‚åœ¨è¿™æ ·çš„ä¾‹å­ä¸­ï¼Œå¤šç§å®¢æˆ·ç«¯APIé€šè¿‡ActiveMQ å‘é€å’Œæ¥å—æ¶ˆæ¯æˆä¸ºå¯èƒ½ï¼Œæ— è®ºä½¿ç”¨çš„æ˜¯ä»€ä¹ˆè¯­è¨€ã€‚æ­¤å¤–ï¼ŒActiveMQ è¿˜æä¾›äº¤å‰è¯­è¨€åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½æ•´åˆè¿™ç§åŠŸèƒ½ï¼Œæ— éœ€ä½¿ç”¨è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰ç¡®å®æ˜¯ä¸ªä¼˜åŠ¿ï¼Œå› ä¸ºæ¶ˆæ¯ååŠ©åº”ç”¨è§£è€¦ã€‚ 2ã€ ä½œä¸ºRPCçš„æ›¿ä»£ä½¿ç”¨RPCåŒæ­¥è°ƒç”¨çš„åº”ç”¨ååˆ†æ™®éã€‚å‡è®¾å¤§å¤šæ•°å®¢æˆ·ç«¯æœåŠ¡å™¨åº”ç”¨ä½¿ç”¨RPCï¼ŒåŒ…æ‹¬ATMã€å¤§å¤šæ•°WEBåº”ç”¨ã€ä¿¡ç”¨å¡ç³»ç»Ÿã€é”€å”®ç‚¹ç³»ç»Ÿç­‰ç­‰ã€‚å°½ç®¡å¾ˆå¤šç³»ç»Ÿå¾ˆæˆåŠŸï¼Œä½†æ˜¯è½¬æ¢ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯å¯ä»¥å¸¦æ¥å¾ˆå¤šå¥½å¤„ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šæ”¾å¼ƒå“åº”ä¿è¯ã€‚ä½¿ç”¨åŒæ­¥è¯·æ±‚çš„ç³»ç»Ÿåœ¨è§„æ¨¡ä¸Šæœ‰è¾ƒå¤§çš„é™åˆ¶ï¼Œå› ä¸ºè¯·æ±‚ä¼šè¢«é˜»å¡ï¼Œä»è€Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå˜æ…¢ã€‚å¦‚æœä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯æ›¿ä»£ï¼Œå¯ä»¥å¾ˆå®¹æ˜“å¢åŠ é¢å¤–çš„æ¶ˆæ¯æ¥æ”¶è€…ï¼Œä½¿å¾—æ¶ˆæ¯èƒ½è¢«å¹¶å‘æ¶ˆè€—ï¼Œä»è€ŒåŠ å¿«è¯·æ±‚å¤„ç†ã€‚å½“ç„¶ï¼Œä½ çš„ç³»ç»Ÿåº”ç”¨é—´åº”è¯¥æ˜¯è§£è€¦çš„ã€‚ 3ã€ åº”ç”¨ä¹‹é—´è§£è€¦æ­£å¦‚ä¹‹å‰è®¨è®ºçš„ï¼Œç´§è€¦åˆæ¶æ„å¯ä»¥å¯¼è‡´å¾ˆå¤šé—®é¢˜ï¼Œå°¤å…¶æ˜¯å¦‚æœä»–ä»¬æ˜¯åˆ†å¸ƒçš„ã€‚æ¾è€¦åˆæ¶æ„ï¼Œåœ¨å¦ä¸€æ–¹é¢ï¼Œè¯å®äº†æ›´å°‘çš„ä¾èµ–æ€§ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°å¤„ç†ä¸å¯é¢„è§çš„æ”¹å˜ã€‚ä¸ä»…å¯ä»¥åœ¨ç³»ç»Ÿä¸­æ”¹å˜ç»„ä»¶è€Œä¸å½±å“æ•´ä¸ªç³»ç»Ÿï¼Œè€Œä¸”ç»„ä»¶äº¤äº’ä¹Ÿç›¸å½“çš„ç®€å•ã€‚ç›¸æ¯”ä½¿ç”¨åŒæ­¥çš„ç³»ç»Ÿï¼ˆè°ƒç”¨è€…å¿…é¡»ç­‰å¾…è¢«è°ƒç”¨è€…è¿”å›ä¿¡æ¯ï¼‰ï¼Œå¼‚æ­¥ç³»ç»Ÿï¼ˆè°ƒç”¨æ–¹å‘é€æ¶ˆæ¯åå°±ä¸ç®¡ï¼Œå³fire-and-forgetï¼‰èƒ½å¤Ÿç»™æˆ‘ä»¬å¸¦æ¥äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆevent-driven architecture EDAï¼‰ã€‚ 4ã€ ä½œä¸ºäº‹ä»¶é©±åŠ¨æ¶æ„çš„ä¸»å¹²è§£è€¦ï¼Œå¼‚æ­¥æ¶æ„çš„ç³»ç»Ÿå…è®¸é€šè¿‡ä»£ç†å™¨è‡ªå·±é…ç½®æ›´å¤šçš„å®¢æˆ·ç«¯ï¼Œå†…å­˜ç­‰ï¼ˆå³vertical scalabilityï¼‰æ¥æ‰©å¤§ç³»ç»Ÿï¼Œè€Œä¸æ˜¯å¢åŠ æ›´å¤šçš„ä»£ç†å™¨ï¼ˆå³horizontal scalabilityï¼‰ã€‚è€ƒè™‘å¦‚äºšé©¬é€Šè¿™æ ·ç¹å¿™çš„ç”µå­å•†åŠ¡ç³»ç»Ÿã€‚å½“ç”¨æˆ·è´­ä¹°ç‰©å“ï¼Œäº‹å®ä¸Šç³»ç»Ÿéœ€è¦å¾ˆå¤šæ­¥éª¤å»å¤„ç†ï¼ŒåŒ…æ‹¬ä¸‹å•ï¼Œåˆ›å»ºå‘ç¥¨ï¼Œä»˜æ¬¾ï¼Œæ‰§è¡Œè®¢å•ï¼Œè¿è¾“ç­‰ã€‚ä½†æ˜¯ç”¨æˆ·ä¸‹å•åï¼Œä¼šç«‹å³è¿”å›â€œè°¢è°¢ä½ ä¸‹å•â€çš„ç•Œé¢ã€‚ä¸åªæ˜¯æ²¡æœ‰å»¶è¿Ÿï¼Œè€Œä¸”ç”¨æˆ·è¿˜ä¼šå—åˆ°ä¸€å°é‚®ä»¶è¡¨æ˜è®¢å•å·²ç»æ”¶åˆ°ã€‚åœ¨äºšé©¬é€Šä¸‹å•çš„ä¾‹å­å°±æ˜¯ä¸€ä¸ªå¤šæ­¥å¤„ç†çš„ä¾‹å­ã€‚æ¯ä¸€æ­¥éƒ½ç”±å•ç‹¬çš„æœåŠ¡å»å¤„ç†ã€‚å½“ç”¨æˆ·ä¸‹å•æ˜¯ï¼Œæœ‰ä¸€ä¸ªåŒæ­¥çš„ä½“ç§¯è¡¨å•åŠ¨ä½œï¼Œä½†æ•´ä¸ªå¤„ç†æµç¨‹å¹¶ä¸é€šè¿‡æµè§ˆå™¨åŒæ­¥å¤„ç†ã€‚ç›¸ååœ°ï¼Œè®¢å•é©¬ä¸Šè¢«æ¥å—å’Œåé¦ˆã€‚è€Œå‰©ä¸‹çš„æ­¥éª¤å°±é€šè¿‡å¼‚æ­¥å¤„ç†ã€‚å¦‚æœåœ¨å¤„ç†è¿‡ç¨‹ä¸­å‡ºé”™ï¼Œç”¨æˆ·ä¼šé€šè¿‡é‚®ä»¶æ”¶åˆ°é€šçŸ¥ã€‚è¿™æ ·çš„å¼‚æ­¥å¤„ç†èƒ½æä¾›é«˜è´Ÿè½½å’Œé«˜å¯ç”¨æ€§ã€‚ 5ã€ æé«˜ç³»ç»Ÿæ‰©å±•æ€§å¾ˆå¤šä½¿ç”¨äº‹ä»¶é©±åŠ¨è®¾è®¡çš„ç³»ç»Ÿæ˜¯ä¸ºäº†è·å¾—é«˜å¯æ‰©å±•æ€§ï¼Œä¾‹å¦‚ç”µå­å•†åŠ¡ï¼Œæ”¿åºœï¼Œåˆ¶é€ ä¸šï¼Œçº¿ä¸Šæ¸¸æˆç­‰ã€‚é€šè¿‡å¼‚æ­¥æ¶ˆæ¯åˆ†å¼€å•†ä¸šå¤„ç†æ­¥éª¤ç»™å„ä¸ªåº”ç”¨ï¼Œèƒ½å¤Ÿå¸¦æ¥å¾ˆå¤šå¯èƒ½æ€§ã€‚è€ƒè™‘è®¾è®¡ä¸€ä¸ªåº”ç”¨æ¥å®Œæˆä¸€é¡¹ç‰¹æ®Šçš„ä»»åŠ¡ã€‚è¿™å°±æ˜¯é¢å‘æœåŠ¡çš„æ¶æ„ï¼ˆservice-oriented architecture SOAï¼‰ã€‚æ¯ä¸€ä¸ªæœåŠ¡å®Œæˆä¸€ä¸ªåŠŸèƒ½å¹¶ä¸”åªæœ‰ä¸€ä¸ªåŠŸèƒ½ã€‚åº”ç”¨å°±é€šè¿‡æœåŠ¡ç»„åˆèµ·æ¥ï¼ŒæœåŠ¡é—´ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯å’Œæœ€ç»ˆä¸€è‡´æ€§ã€‚è¿™æ ·çš„è®¾è®¡ä¾¿å¯ä»¥å¼•å…¥ä¸€ä¸ªå¤æ‚äº‹ä»¶å¤„ç†æ¦‚å¿µï¼ˆcomplex event processing CEPï¼‰ã€‚ä½¿ç”¨CEPï¼Œéƒ¨ä»¶é—´çš„äº¤äº’å¯ä»¥è¢«è®°å½•è¿½è¸ªã€‚åœ¨å¼‚æ­¥æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ¨éƒ¨ä»¶é—´å¢åŠ ä¸€å±‚å¤„ç†ã€‚ http://shmilyaw-hotmail-com.iteye.com/blog/1897635 ###å…¶ä»–æ³¨æ„çš„åœ°æ–¹æ¥æ”¶å’Œå¤„ç†æ¶ˆæ¯çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œåˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥çš„ï¼Œä¸€èˆ¬åŒæ­¥çš„æ–¹å¼æˆ‘ä»¬æ˜¯é€šè¿‡MessageConsumer.receive()æ–¹æ³•æ¥å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚è€Œå¼‚æ­¥çš„æ–¹æ³•åˆ™æ˜¯é€šè¿‡æ³¨å†Œä¸€ä¸ªMessageListenerçš„æ–¹æ³•ï¼Œä½¿ç”¨MessageConsumer.setMessageListener()ã€‚ RabbitMQhttp://www.cnblogs.com/leocook/p/mq_rabbitmq_0.html RabbitMQæ˜¯æµè¡Œçš„å¼€æºæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œç”¨erlangè¯­è¨€å¼€å‘ã€‚RabbitMQæ˜¯AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ ‡å‡†å®ç°ã€‚ä»–éµå¾ªMozilla Public Licenseå¼€æºåè®®ã€‚ ###å®‰è£…å’Œå¯åŠ¨### wget http://www.erlang.org/download/otp_src_17.3.tar.gz tar zxvf otp_src_17.3.tar.gz ./configure --prefix=/home/ww/erlang sudo aptitude install libncurses5-dev make make install tar zxvf rabbitmq-server-generic-unix-3.3.5.tar.gz export PATH=$PATH:/usr/rabbitmq_server-3.3.5/sbin ./rabbitmq-server start abbitmq webç®¡ç†é¡µé¢æ’ä»¶å®‰è£… ./rabbitmq-plugins enable rabbitmq_management ä¹‹åï¼Œnetstat -napt|grep 5672 å°±ä¼šçœ‹åˆ° tcp 0 0 0.0.0.0:15672 0.0.0.0: LISTEN 2506/beam.smptcp 0 0 0.0.0.0:55672 0.0.0.0: LISTEN 2506/beam.smptcp 0 0 :::5672 :::* LISTEN 2506/beam.smp é€šè¿‡ http://127.0.0.1:15672ï¼Œå’Œguest:guestçš„ç”¨æˆ·åå¯†ç å°±èƒ½ç™»å½•ç®¡ç†é¡µé¢äº† æµç¨‹å›¾ RabbitMQçš„æ¶ˆæ¯å‘é€æ¨¡å‹æ ¸å¿ƒæ€æƒ³æ˜¯ç”Ÿäº§è€…ä¸ç›´æ¥æŠŠæ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ å‡ ä¸ªæ¦‚å¿µBrokerï¼šå³æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨å®ä½“ Exchangeï¼šæ¶ˆæ¯äº¤æ¢æœºï¼Œå®ƒæŒ‡å®šæ¶ˆæ¯æŒ‰ä»€ä¹ˆè§„åˆ™ï¼Œè·¯ç”±åˆ°å“ªä¸ªé˜Ÿåˆ—ã€‚ Queueï¼šæ¶ˆæ¯é˜Ÿåˆ—è½½ä½“ï¼Œæ¯ä¸ªæ¶ˆæ¯éƒ½ä¼šè¢«æŠ•å…¥åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—ã€‚ Bindingï¼šç»‘å®šï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯æŠŠexchangeå’ŒqueueæŒ‰ç…§è·¯ç”±è§„åˆ™ç»‘å®šèµ·æ¥ã€‚ Routing Keyï¼šè·¯ç”±å…³é”®å­—ï¼Œexchangeæ ¹æ®è¿™ä¸ªå…³é”®å­—è¿›è¡Œæ¶ˆæ¯æŠ•é€’ã€‚ vhostï¼šè™šæ‹Ÿä¸»æœºï¼Œä¸€ä¸ªbrokeré‡Œå¯ä»¥å¼€è®¾å¤šä¸ªvhostï¼Œç”¨ä½œä¸åŒç”¨æˆ·çš„æƒé™åˆ†ç¦»ã€‚ producerï¼šæ¶ˆæ¯ç”Ÿäº§è€…ï¼Œå°±æ˜¯æŠ•é€’æ¶ˆæ¯çš„ç¨‹åºã€‚ consumerï¼šæ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œå°±æ˜¯æ¥å—æ¶ˆæ¯çš„ç¨‹åºã€‚ channelï¼šæ¶ˆæ¯é€šé“ï¼Œåœ¨å®¢æˆ·ç«¯çš„æ¯ä¸ªè¿æ¥é‡Œï¼Œå¯å»ºç«‹å¤šä¸ªchannelï¼Œæ¯ä¸ªchannelä»£è¡¨ä¸€ä¸ªä¼šè¯ä»»åŠ¡ ### å·¥ä½œè¿‡ç¨‹ ç”Ÿäº§è€…å®¢æˆ·ç«¯ï¼š å®¢æˆ·ç«¯è¿æ¥åˆ°RabbitMQæœåŠ¡å™¨ä¸Šï¼Œæ‰“å¼€ä¸€ä¸ªæ¶ˆæ¯é€šé“ï¼ˆchannelï¼‰ï¼› å®¢æˆ·ç«¯å£°æ˜ä¸€ä¸ªæ¶ˆæ¯äº¤æ¢æœºï¼ˆexchangeï¼‰ï¼Œå¹¶è®¾ç½®ç›¸å…³å±æ€§ã€‚ å®¢æˆ·ç«¯å£°æ˜ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆqueueï¼‰ï¼Œå¹¶è®¾ç½®ç›¸å…³å±æ€§ã€‚ å®¢æˆ·ç«¯ä½¿ç”¨routing keyåœ¨æ¶ˆæ¯äº¤æ¢æœºï¼ˆexchangeï¼‰å’Œæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆqueueï¼‰ä¸­å»ºç«‹å¥½ç»‘å®šå…³ç³»ã€‚ å®¢æˆ·ç«¯æŠ•é€’æ¶ˆæ¯éƒ½æ¶ˆæ¯äº¤æ¢æœºï¼ˆexchangeï¼‰ä¸Š å®¢æˆ·ç«¯å…³é—­æ¶ˆæ¯é€šé“ï¼ˆchannelï¼‰ä»¥åŠå’ŒæœåŠ¡å™¨çš„è¿æ¥ã€‚ æœåŠ¡å™¨ç«¯ï¼š exchangeæ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œæ ¹æ®æ¶ˆæ¯çš„keyå’Œä»¥åŠè®¾ç½®çš„bindingï¼Œè¿›è¡Œæ¶ˆæ¯è·¯ç”±ï¼Œå°†æ¶ˆæ¯æŠ•é€’åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­ã€‚ exchangeç±»å‹(1). Directäº¤æ¢æœºï¼šå®Œå…¨æ ¹æ®keyè¿›è¡ŒæŠ•é€’ã€‚ä¾‹å¦‚ï¼Œç»‘å®šæ—¶è®¾ç½®äº†routing keyä¸ºabcï¼Œå®¢æˆ·ç«¯æäº¤ä¿¡æ¯æäº¤ä¿¡æ¯æ—¶åªæœ‰è®¾ç½®äº†keyä¸ºabcçš„æ‰ä¼šæŠ•é€’åˆ°é˜Ÿåˆ—ï¼› (2).Topicäº¤æ¢æœºï¼šåœ¨keyè¿›è¡Œæ¨¡å¼åŒ¹é…åè¿›è¡ŒæŠ•é€’ã€‚ä¾‹å¦‚ï¼šç¬¦å·â€#â€åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œç¬¦å·â€â€åŒ¹é…ä¸€ä¸²è¿ç»­çš„å­—æ¯å­—ç¬¦ï¼Œä¾‹å¦‚â€abc.#â€å¯ä»¥åŒ¹é…â€abc.def.ghiâ€ï¼Œè€Œâ€abc.â€åªå¯ä»¥åŒ¹é…â€abc.defâ€ã€‚ (3).Fanoutäº¤æ¢æœºï¼šå®ƒé‡‡å–å¹¿æ’­æ¨¡å¼ï¼Œæ¶ˆæ¯è¿›æ¥æ—¶ï¼Œå°†ä¼šè¢«æŠ•é€’åˆ°ä¸æ”¹äº¤æ¢æœºç»‘å®šçš„æ‰€æœ‰é˜Ÿåˆ—ä¸­ã€‚ RabbitMQé»˜è®¤æœ‰ä¸€ä¸ªexchangeï¼Œå«default exchangeï¼Œå®ƒç”¨ä¸€ä¸ªç©ºå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå®ƒæ˜¯direct exchangeç±»å‹ RabbitMQçš„æ¶ˆæ¯æŒä¹…åŒ–RabbitMQæ”¯æŒæ•°æ®æŒä¹…åŒ–ï¼Œä¹Ÿå°±æ˜¯æŠŠæ•°æ®å†™åœ¨ç£ç›˜ä¸Šï¼Œå¯ä»¥å¢åŠ æ•°æ®çš„å®‰å…¨æ€§ã€‚æ¶ˆæ¯é˜Ÿåˆ—æŒä¹…åŒ–åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š æ¶ˆæ¯äº¤æ¢æœºï¼ˆexchangeï¼‰æŒä¹…åŒ–ï¼Œåœ¨å£°æ˜æ—¶æŒ‡å®šdurableä¸º1æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆqueueï¼‰æŒä¹…åŒ–ï¼Œåœ¨å£°æ˜æ—¶æŒ‡å®šdurableä¸º1æ¶ˆæ¯æŒä¹…åŒ–ï¼Œåœ¨æŠ•é€’æ—¶æŒ‡å®šdelivery_modeä¸º2ï¼ˆ1æ˜¯éæŒä¹…åŒ–ï¼‰å¦‚æœæ¶ˆæ¯äº¤æ¢æœºï¼ˆexchangeï¼‰å’Œæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆqueueï¼‰éƒ½æ˜¯æŒä¹…åŒ–çš„è¯ï¼Œé‚£ä¹ˆä»–ä»¬ä¹‹é—´çš„ç»‘å®šï¼ˆBindingï¼‰ä¹Ÿæ˜¯æŒä¹…åŒ–çš„ã€‚å¦‚æœæ¶ˆæ¯äº¤æ¢æœºå’Œæ¶ˆæ¯é˜Ÿåˆ—ä¹‹é—´ä¸€ä¸ªæŒä¹…åŒ–ã€ä¸€ä¸ªéæŒä¹…åŒ–ï¼Œé‚£ä¹ˆå°±ä¸å…è®¸ç»‘å®šã€‚ å…¶ä»–åœ¨å‘æ¶ˆè´¹è€…æ¨é€æŸæ¡æ¶ˆæ¯åï¼ŒRabbitMQä¼šç«‹åˆ»åˆ é™¤æ‰è¿™æ¡æ¶ˆæ¯ã€‚è¿™æ ·çš„è¯ï¼Œå¦‚æœæˆ‘ä»¬killæ‰æŸä¸ªworkerçš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä¼šæµå¤±æ‰è¯¥workeræ­£åœ¨å¤„ç†ä»»åŠ¡çš„æ¶ˆæ¯ï¼ˆæ”¹ä»»åŠ¡æœªå¤„ç†å®Œæˆï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä¸¢å¤±æ‰€æœ‰è¢«å‘é€åˆ°è¿™ä¸ªæ¶ˆè´¹è€…ä¸”æœªå¤„ç†å®Œæˆçš„æ¶ˆæ¯ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸æƒ³ä¸¢å¤±è¿™éƒ¨åˆ†æ¶ˆæ¯ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ç±»æ¶ˆæ¯å¯ä»¥å†æ¬¡è¢«å‘é€åˆ°å…¶å®ƒworkeré‚£ã€‚ ä¸ºäº†ä¿è¯æ°¸è¿œä¸ä¼šä¸¢å¤±æ¶ˆæ¯ï¼ŒRabbitMQæ”¯æŒæ¶ˆæ¯åº”ç­”æœºåˆ¶ã€‚å½“æ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯å¹¶å®Œæˆä»»åŠ¡åä¼šå¾€RabbitMQæœåŠ¡å™¨å‘é€ä¸€æ¡ç¡®è®¤çš„å‘½ä»¤ï¼Œç„¶åRabbitMQæ‰ä¼šå°†æ¶ˆæ¯åˆ é™¤ã€‚ RabbitMQæ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œé¦–å…ˆä¼šæŠŠè¯¥æ¶ˆæ¯å†™åˆ°å†…å­˜ç¼“å†²åŒºä¸­ï¼Œå¹¶ä¸æ˜¯ç›´æ¥æŠŠå•æ¡æ¶ˆæ¯å®æ—¶å†™åˆ°ç£ç›˜ä¸Šçš„ã€‚æ¶ˆæ¯çš„æŒä¹…åŒ–ä¸æ˜¯å¥å£®çš„ï¼Œä½†æ˜¯å¯¹äºç®€å•çš„ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¤Ÿç”¨äº†ã€‚å¦‚æœä½ éœ€è¦ä¸€å¥—å¾ˆå¥å£®çš„æŒä¹…åŒ–æ–¹æ¡ˆï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨publisher confirms ä½¿ç”¨æ¶ˆæ¯åº”ç­”æœºåˆ¶å’ŒprefetchCountå¯ä»¥å®ç°ä¸€ä¸ªå·¥ä½œé˜Ÿåˆ—äº†ã€‚æŒä¹…åŒ–çš„é€‰é¡¹å¯ä»¥ä½¿ä»»åŠ¡å³ä½¿é˜Ÿåˆ—å’Œæ¶ˆæ¯å³ä½¿åœ¨RabbitMQé‡å¯åï¼Œä¾ç„¶ä¸ä¼šä¸¢å¤±ã€‚ æ€»ç»“ï¼š æ¶ˆè´¹è€…ç«¯åœ¨ä¿¡é“ä¸Šæ‰“å¼€æ¶ˆæ¯åº”ç­”æœºåˆ¶ï¼Œå¹¶ç¡®ä¿èƒ½è¿”å›æ¥æ”¶æ¶ˆæ¯çš„ç¡®è®¤ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¶ˆè´¹è€…å‘ç”Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±æ¶ˆæ¯ã€‚ æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯éƒ½è¦æŒ‡å®šé˜Ÿåˆ—çš„æŒä¹…åŒ–å’Œæ¶ˆæ¯çš„æŒä¹…åŒ–ï¼Œè¿™æ ·å¯ä»¥ä¿è¯RabbitMQé‡å¯ï¼Œé˜Ÿåˆ—å’Œæ¶ˆæ¯ä¹Ÿä¸ä¼šã€‚ æŒ‡å®šæ¶ˆè´¹è€…æ¥æ”¶çš„æ¶ˆæ¯ä¸ªæ•°ï¼Œé¿å…å‡ºç°æ¶ˆæ¯å‡åŒ€æ¨é€å‡ºç°çš„èµ„æºä¸åˆç†åˆ©ç”¨çš„é—®é¢˜ã€‚ ### è´Ÿè½½å‡è¡¡ ### å®ç°â€”â€”ä¸€ä¸ªå·²ç»å‘½åçš„é˜Ÿåˆ—é‡Œå‘é€å’Œæ¥æ”¶æ¶ˆæ¯å®ç°â€”â€”å·¥ä½œé˜Ÿåˆ— ä½¿ç”¨Work Queue,rabbitMQæŠŠæ¯æ¡ä»»åŠ¡æ¶ˆæ¯åªå‘ç»™ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚ å·¥ä½œé˜Ÿåˆ—çš„ä¸»è¦æ€æƒ³å°±æ˜¯é¿å¼€ç«‹åˆ»å¤„ç†æŸä¸ªèµ„æºæ¶ˆè€—äº¤å¤§çš„ä»»åŠ¡å¹¶ä¸”éœ€è¦ç­‰å¾…å®ƒæ‰§è¡Œå®Œæˆã€‚å–è€Œä»£ä¹‹çš„æ˜¯æˆ‘ä»¬å¯ä»¥å°†å®ƒåŠ å…¥è®¡åˆ’åˆ—è¡¨ï¼Œå¹¶åœ¨åè¾¹æ‰§è¡Œè¿™äº›ä»»åŠ¡ã€‚æˆ‘ä»¬å°†ä»»åŠ¡åˆ†è£…æˆä¸€ä¸ªæ¶ˆæ¯ï¼Œå¹¶å‘é€åˆ°é˜Ÿåˆ—ä¸­ã€‚åå°çš„å·¥ä½œç¨‹åºåœ¨æ¥æ”¶åˆ°æ¶ˆæ¯åå°†ä¼šç«‹åˆ»æ‰§è¡Œä»»åŠ¡ã€‚å½“è¿è¡Œå¤šä¸ªæ‰§è¡Œå™¨æ—¶ï¼Œä»»åŠ¡å°†ä¼šåœ¨ä»–ä»¬ä¹‹é—´å…±äº«ã€‚ è¿™ä¸ªæ¦‚å¿µåœ¨webåº”ç”¨ç¨‹åºä¸­æ˜¯æ¯”è¾ƒå®ç”¨çš„ï¼Œå¯¹äºä¸€äº›åœ¨ä¸€ä¸ªçŸ­çš„httpè¯·æ±‚é‡Œæ— æ³•å®Œæˆçš„å¤æ‚ä»»åŠ¡ã€‚ channelæ‰§è¡ŒbasicConsumeæ–¹æ³•æ—¶autoAckä¸ºfalseï¼Œè¿™å°±æ„å‘³ç€æ¥å—è€…åœ¨æ”¶åˆ°æ¶ˆæ¯åéœ€è¦ä¸»åŠ¨é€šçŸ¥RabbitMQæ‰èƒ½å°†è¯¥æ¶ˆæ¯ä»é˜Ÿåˆ—ä¸­åˆ é™¤ï¼Œå¦åˆ™è¯¥åœ¨æ¥æ”¶è€…è·ŸMQè¿æ¥æ²¡æ–­çš„æƒ…å†µä¸‹ï¼Œæ¶ˆæ¯å°†ä¼šå˜ä¸ºuntrackedçŠ¶æ€ï¼Œä¸€æ—¦æ¥æ”¶è€…æ–­å¼€è¿æ¥ï¼Œæ¶ˆæ¯é‡æ–°å˜ä¸ºreadyçŠ¶æ€ã€‚ RabbitMQä¸å…è®¸ä½ é‡æ–°å®šä¹‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚æœä½ å°è¯•ç€å»ä¿®æ”¹å®ƒçš„æŸäº›å±æ€§çš„è¯ï¼Œé‚£ä¹ˆä½ çš„ç¨‹åºå°†ä¼šæŠ¥é”™ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œä½ éœ€è¦æ›´æ¢ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—åç§°ã€‚ æ ‡è®°æ¶ˆæ¯æŒä¹…åŒ–å¹¶ä¸èƒ½ç™¾åˆ†ç™¾çš„ä¿è¯æ¶ˆæ¯ä¸€å®šä¸ä¼šè¢«ä¸¢å¤±ï¼Œè™½ç„¶RabbitMQä¼šæŠŠæ¶ˆæ¯å†™åˆ°ç£ç›˜ä¸Šï¼Œä½†æ˜¯ä»RabbitMQæ¥æ”¶åˆ°æ¶ˆæ¯åˆ°å†™åˆ°ç£ç›˜ä¸Šï¼Œè¿™ä¸ªçŸ­æ—¶é—´çš„è¿‡ç¨‹ä¸­å‘ç”Ÿçš„RabbitMQé‡å¯ä¾ç„¶ä¼šä½¿å¾—ä¸ºå†™å…¥åˆ°ç£ç›˜çš„æ¶ˆæ¯è¢«ä¸¢å¤±ã€‚äº‹å®ä¸Šæ˜¯è¿™æ ·çš„ï¼ŒRabbitMQæ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œé¦–å…ˆä¼šæŠŠè¯¥æ¶ˆæ¯å†™åˆ°å†…å­˜ç¼“å†²åŒºä¸­ï¼Œå¹¶ä¸æ˜¯ç›´æ¥æŠŠå•æ¡æ¶ˆæ¯å®æ—¶å†™åˆ°ç£ç›˜ä¸Šçš„ã€‚æ¶ˆæ¯çš„æŒä¹…åŒ–ä¸æ˜¯å¥å£®çš„ï¼Œä½†æ˜¯å¯¹äºç®€å•çš„ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¤Ÿç”¨äº†ã€‚å¦‚æœä½ éœ€è¦ä¸€å¥—å¾ˆå¥å£®çš„æŒä¹…åŒ–æ–¹æ¡ˆï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨publisher confirmsï¼ˆç¨åä¼šæ›´æ–°è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•ï¼‰ã€‚ å‘å¸ƒ/è®¢é˜… Publish/SubscribeæŠŠä¸€æ¡æ¶ˆæ¯æ¨é€ç»™å¤šä¸ªæ¶ˆè´¹è€…ï¼Œè¿™ç§æ¨¡å¼è¢«ç§°ä¸ºpublish/subscribeï¼ˆå‘å¸ƒ/è®¢é˜…ï¼‰ æ— è®ºä»€ä¹ˆæ—¶å€™æˆ‘ä»¬å’ŒRabbitMQå»ºç«‹è¿æ¥æ—¶ï¼Œæˆ‘ä»¬éƒ½è¦åˆ·æ–°ã€æ¸…ç©ºQueueã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸€çš„ç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªéšæœºçš„åå­—ï¼ˆéšæœºæ€§å¯ç”±è‡ªå·±æ¥å®šä¹‰ï¼‰æ¥åˆ›å»ºQueueï¼Œä¹Ÿå¯ä»¥è®©æœåŠ¡å™¨æ¥è‡ªåŠ¨å»ºç«‹ä¸€ä¸ªéšè§çš„Queueã€‚å½“æ¶ˆè´¹è€…æ–­å¼€è¿æ¥æ—¶ï¼ŒQueueèƒ½è‡ªåŠ¨è¢«åˆ é™¤ã€‚ä½¿ç”¨Javaå®¢æˆ·ç«¯æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨æ— å‚æ•°çš„queueDeclareæ–¹æ³•ï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªå·²ç»ç”Ÿæˆåå­—çš„ã€æ’ä»–æ€§çš„ä¸”ä¼šè‡ªåŠ¨åˆ é™¤çš„Queueï¼š String queueName = channel.queueDeclare().getQueue(); æ¶ˆè´¹è€…ç«¯æ€ä¹ˆæ‰èƒ½æ‹¿åˆ°ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ä¸­çš„éƒ¨åˆ†æ¶ˆæ¯?ä¸€ä¸ªæ„Ÿå…´è¶£çš„æ—¥å¿—çº§åˆ«è¿›è¡Œç»‘å®š æ›´å¤æ‚ä¸€ç‚¹çš„ä½¿ç”¨Topicç±»å‹çš„exchange ç”¨RabbitMQæ¥æ„å»ºä¸€ä¸ªRPCç³»ç»ŸRPCå·¥ä½œåŸç†å¦‚ä¸‹ï¼š å½“Clientå¯åŠ¨æ—¶ï¼Œå®ƒå°†ä¼šåˆ›å»ºä¸€ä¸ªåŒ¿åçš„callback queueã€‚å¯¹äºä¸€æ¬¡RPCè¯·æ±‚ï¼Œclientä¼šå‘é€ä¸€æ¡å«æœ‰ä¸¤ä¸ªå±æ€§çš„æ¶ˆæ¯ï¼šreplyToå’ŒcorrelationIdã€‚Replyæ˜¯è®¾ç½®çš„callback queueï¼ŒcorrelationIdæ˜¯è®¾ç½®çš„å½“å‰è¯·æ±‚çš„æ ‡ç¤ºç¬¦ã€‚è¯·æ±‚å°†ä¼šè¢«å‘é€åˆ°rpc_queueé‡Œã€‚RPCçš„workerï¼ˆRPC serverï¼‰ç­‰å¾…queueä¸­çš„è¯·æ±‚ã€‚å½“å‡ºç°ä¸€ä¸ªè¯·æ±‚ä¹‹åï¼Œä»–å°†ä¼šå¤„ç†ä»»åŠ¡ï¼Œå¹¶å‘replyToé˜Ÿåˆ—ä¸­å‘é€æ¶ˆæ¯ã€‚å®¢æˆ·ç«¯ä¼šç­‰å¾…callback queueä¸Šçš„æ¶ˆæ¯ã€‚å½“æ¶ˆæ¯å‡ºç°æ—¶ï¼Œå®ƒå°†ä¼šæ£€æŸ¥correlationIdå±æ€§æ˜¯å¦èƒ½ä¸ä¹‹å‰å‘é€è¯·æ±‚æ—¶çš„å±æ€§ä¸€ç›´ï¼Œè‹¥ä¸€è‡´çš„è¯ï¼Œclientå°†ä¼šå¤„ç†å›å¤çš„æ¶ˆæ¯ã€‚ RocketMQRocketMQæ˜¯ä¸€æ¬¾åˆ†å¸ƒå¼ã€é˜Ÿåˆ—æ¨¡å‹çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š æ”¯æŒä¸¥æ ¼çš„æ¶ˆæ¯é¡ºåºï¼› æ”¯æŒTopicä¸Queueä¸¤ç§æ¨¡å¼ï¼› äº¿çº§æ¶ˆæ¯å †ç§¯èƒ½åŠ›ï¼› æ¯”è¾ƒå‹å¥½çš„åˆ†å¸ƒå¼ç‰¹æ€§ï¼› åŒæ—¶æ”¯æŒPushä¸Pullæ–¹å¼æ¶ˆè´¹æ¶ˆæ¯ï¼› Kafkaæ€»ç»“å‚è€ƒæ–‡çŒ® ActiveMQå­¦ä¹ ç¬”è®° Kafkaå­¦ä¹ ç¬”è®°01 ActiveMQå­¦ä¹ ç¬”è®°01 - å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“è¿æ¥ æ¨åº“ActiveMQ ActiveMQ In Action å­¦ä¹ ç¬”è®° JMSã€AMQPå®ä¾‹è®²è§£ ç”¨Spring JMSä½¿å¼‚æ­¥æ¶ˆæ¯å˜å¾—ç®€å• RabbitMQå­¦ä¹ æ€»ç»“ CentOS 7 å®‰è£…RabbitMQ 3.3 MQåŒä¿®ä¹‹(ActiveMq &amp; RabbitMQ) ç™¾åº¦rabbitmq activemqçš„å‡ ç§åŸºæœ¬é€šä¿¡æ–¹å¼æ€»ç»“ ActiveMQå­¦ä¹ ç¬”è®°-MQã€JMSä»¥åŠActiveMQ å…³ç³»çš„ç†è§£-æ·±å…¥æŒæ¡JMS-æ¶ˆæ¯é˜Ÿåˆ—ä¹‹JMSå’ŒAMQPå¯¹æ¯”","categories":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}],"tags":[{"name":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","permalink":"http://yoursite.com/tags/æ¶ˆæ¯é˜Ÿåˆ—/"}],"keywords":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}]},{"title":"Dockerç®€ä»‹å’Œå®‰è£…","slug":"11å®¹å™¨æŠ€æœ¯/dockerå…¥é—¨","date":"2016-09-04T00:00:00.000Z","updated":"2018-12-10T15:19:53.631Z","comments":true,"path":"2016/09/04/11å®¹å™¨æŠ€æœ¯/dockerå…¥é—¨/","link":"","permalink":"http://yoursite.com/2016/09/04/11å®¹å™¨æŠ€æœ¯/dockerå…¥é—¨/","excerpt":"","text":"Dockerç®€ä»‹ä¸€ä¸ªå®¹å™¨å®è´¨æ˜¯è¿è¡Œåœ¨å®¿ä¸»æœºå™¨ä¸Šçš„ä¸€ä¸ªè¿›ç¨‹ï¼Œæœ€å°ç»„æˆå…¬å¼ä¸ºï¼šå®¹å™¨ï¼cgroups + namespace + rootfs + engine Dockerå†å² column column 2008 å¹´ Solomon Hykes ä¸ºäº†å»ºç«‹ä¸€ä¸ªä¸ç¼–ç¨‹è¯­è¨€æ— å…³çš„å¹³å°å³æœåŠ¡äº§å“ï¼Œåˆ›ç«‹äº† dotCloud å…¬å¸ã€‚ 2013 å¹´ 3 æœˆ dotCloud å°†å…¶æ ¸å¿ƒç»„ä»¶ Docker å¼€æº 6 ä¸ªæœˆå†… Docker æ—©æœŸçš„ç‰ˆæœ¬åªæ˜¯åœ¨ç®€å•å°è£… LXC ä»¥åŠè”åˆæ–‡ä»¶ç³»ç»Ÿï¼ˆunion filesystemï¼‰ä¹‹ä¸Šå¤šåŠ äº†ç‚¹ä¸œè¥¿ï¼Œè€Œåœ¨éšåçš„6 ä¸ªæœˆå†…ï¼ŒDocker å°±åœ¨ GitHub ä¸Šè·å¾—äº† 6700 å¤šé¢—æ˜Ÿï¼Œä»¥åŠ 175 åéå…¬å¸å‘˜å·¥çš„è´¡çŒ®è€…ã€‚è¿™å¯¼è‡´ dotCloud æŠŠå…¬å¸åç§°æ”¹ä¸º Dockerï¼Œå¹¶å°†å…¬å¸çš„å•†ä¸šæ¨¡å¼é‡æ–°å®šä½ 2013 å¹´ 9 æœˆ çº¢å¸½äº 2013 å¹´ 9 æœˆæˆä¸ºäº†å®ƒçš„ä¸»è¦åˆä½œä¼™ä¼´ï¼Œåˆ©ç”¨ Docker æ¥é©±åŠ¨å®ƒçš„ OpenShift äº‘ä¸šåŠ¡ã€‚è°·æ­Œã€äºšé©¬é€Šå’Œ DigitalOcean ä¹Ÿè¿…é€Ÿåœ°åœ¨å…¶äº‘æœåŠ¡å¹³å°æä¾› Docker çš„æ”¯æŒ 2014 å¹´ 6 æœˆ Docker 1.0å‘å¸ƒï¼Œä»£è¡¨ç€ç¨³å®šæ€§ä¸å¯é æ€§çš„é£è·ƒï¼ŒåŒæ—¶ï¼ŒDocker æ¨å‡ºäº†ä¸€ä¸ªåä¸º Docker Hub çš„å…¬å…±å®¹å™¨ä»“åº“ï¼Œè¿™æ ‡å¿—ç€ Docker ä»ä¸€ä¸ªå•çº¯çš„å®¹å™¨å¼•æ“å¼€å§‹è½¬å˜ä¸ºä¸€ä¸ªå®Œæ•´çš„å¹³å°ã€‚ 2014 å¹´ 12 æœˆ åœ¨ 2014 å¹´ 12 æœˆä¸¾è¡Œçš„ DockerConEU ä¸Šï¼ŒDocker Swarm ä¸ Docker Machine åŒæ—¶é¢ä¸–ã€‚ Docker Swarm æ˜¯ä¸€ä¸ª Docker é›†ç¾¤ç®¡ç†å·¥å…·ï¼Œè€Œ Docker Machine æ˜¯ä¸ªéƒ¨ç½² Docker ä¸»æœºçš„å‘½ä»¤è¡Œå·¥å…·ã€‚è¿™è¡¨æ˜ Docker çš„æ„å›¾ä¸ä»…ä»…æ˜¯æä¾› Docker å¼•æ“ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªå®Œæ•´ä¸”ç»¼åˆçš„å®¹å™¨è¿è¡Œæ–¹æ¡ˆã€‚ 2015 å¹´ 6 æœˆ DockerCon åœ¨æ—§é‡‘å±±ä¸¾è¡Œï¼Œæ¥è‡ª Docker çš„ Solomon Hykes ä¸æ¥è‡ª CoreOS çš„ Alex Polvi å®£å¸ƒå¼€æ”¾å®¹å™¨ä¿ƒè¿›ä¼šï¼ˆå½“æ—¶ç§°ä¸ºå¼€æ”¾å®¹å™¨è®¡åˆ’ï¼ŒOpen Container Projectï¼‰æ­£å¼æˆç«‹ï¼Œç›®çš„æ˜¯è¦å‘å±•å‡ºä¸€å¥—é€šç”¨çš„å®¹å™¨æ ¼å¼ä¸è¿è¡Œç¯å¢ƒçš„æ ‡å‡†ã€‚ 2015 å¹´ 6 æœˆ FreeBSD é¡¹ç›®å®£å¸ƒæ”¯æŒ Docker åˆ©ç”¨ ZFS å’Œ Linux å…¼å®¹å±‚æ¥è¿è¡Œ 2015 å¹´ 8 æœˆ Docker ä¸å¾®è½¯æ¨å‡ºä¸“ä¸º Windows serverå¼€å‘çš„ Docker Engineâ€œæŠ€æœ¯é¢„è§ˆâ€ç‰ˆ Dockerå®‰è£…å¾®æœåŠ¡æ˜¯å®¹å™¨æœ€ä¸»è¦çš„ç”¨ä¾‹ï¼Œä¹Ÿæ˜¯å®¹å™¨æŠ€æœ¯å…´èµ·çš„æœ€å¤§æ¨åŠ¨åŠ›ã€‚64 ä½ Linux æ˜¯å”¯ä¸€ä¸€ä¸ªèƒ½ç¨³å®šè¿è¡Œ Docker ä¸”é€‚åˆç”¨äºç”Ÿäº§ç¯å¢ƒçš„å¹³å° ç®€å•çš„å®‰è£…sudo apt-get update sudo apt-get install -y docker.io å®˜æ–¹æºå®‰è£… curl https://get.docker.com &gt; /tmp/docker/install.sh chmod +x /tmp/docker/install.sh /tmp/docker/install.sh è¿›è¡Œæµ‹è¯•å¼€å¯dockerçš„å®ˆæŠ¤è¿›ç¨‹sudo service docker start é…ç½®å¼€æœºå¯åŠ¨,æ‰§è¡Œsudo systemctl enable docker ä¸ä½¿ç”¨sudoå‘½ä»¤æ‰§è¡ŒDockerå› ä¸º Docker è¿è¡Œæ—¶éœ€è¦ç‰¹æ®Šæƒé™ï¼Œæ‰€ä»¥é»˜è®¤æ‰§è¡Œå‘½ä»¤æ—¶éƒ½å¿…é¡»åœ¨å‰é¢åŠ ä¸Š sudoã€‚å°†å½“å‰ç”¨æˆ·åŠ å…¥åˆ°ç»„dockerä¸‹ï¼Œ åŠ å…¥ç”¨æˆ·åˆ°dockerç»„ä¸­, sudo usermod -aG docker myuser ä»¥åå°±ä¸éœ€è¦ä½¿ç”¨sudoæ¥æ‰§è¡Œäº†ã€‚å¯èƒ½éœ€è¦é‡æ–°å¯åŠ¨ï¼ŒDocker æœåŠ¡sudo service docker restart dockerç»„æ˜¯åœ¨å®‰è£…dockerçš„æ—¶å€™è‡ªåŠ¨å»ºç«‹çš„å¯ä»¥é€šè¿‡cut -d: -f1 /etc/group | grep dockeræŸ¥çœ‹éœ€è¦æ³¨æ„ï¼šé‡æ–°å¯åŠ¨è®¡ç®—æœºæˆ–è€…æ³¨é”€ç”¨æˆ·å†ç™»å…¥ï¼Œæ‰èƒ½ç”Ÿæ•ˆã€‚ æµ‹è¯•å®‰è£…docker version æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ Client: Version: 1.12.6 API version: 1.24 Go version: go1.6.2 Git commit: 78d1802 Built: Tue Jan 31 23:35:14 2017 OS/Arch: linux/amd64 Server: Version: 1.12.6 API version: 1.24 Go version: go1.6.2 Git commit: 78d1802 Built: Tue Jan 31 23:35:14 2017 OS/Arch: linux/amd64 ä¸Šé¢çš„ç»“æœè¡¨ç¤ºå·²ç»å‡†å¤‡å°±ç»ªï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œå¯ä»¥sudo docker daemon æ¥æ‰‹åŠ¨å¯åŠ¨ Docker å®ˆæŠ¤è¿›ç¨‹ï¼Œå¹¶æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ã€‚ å…¶ä»–æ“ä½œæ›´æ–°Docker`sudo apt-get upgrade docker-engine` å¸è½½Docker`sudo apt-get purge docker-engine` è¿›è¡ŒåŠ é€ŸDocker Hubæ˜¯å…¨çƒæœ€å¤§çš„Dockerå…±ç”¨ä»“åº“ï¼Œä¸ºäº†è§£å†³å›½å†…ç”¨æˆ·ä½¿ç”¨ Docker Hub æ—¶é‡åˆ°çš„ç¨³å®šæ€§åŠé€Ÿåº¦é—®é¢˜ï¼Œå¯ä»¥æ”¹å˜é»˜è®¤é•œåƒåœ°å€ã€‚å¯ä»¥å‚è€ƒhttp://guide.daocloud.io/dcs/daocloud-9153151.html curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://d22ab3fe.m.daocloud.io æ‰§è¡ŒæˆåŠŸåï¼Œå¦‚æœDocker ç‰ˆæœ¬åœ¨ 1.12 æˆ–æ›´é«˜ï¼Œä¼šåˆ›å»ºæˆ–ä¿®æ”¹ /etc/docker/daemon.json æ–‡ä»¶{â€œregistry-mirrorsâ€: [â€œhttp://d22ab3fe.m.daocloud.io&quot;]} è¿›è¡Œé‡æ–°å¯åŠ¨ sudo systemctl restart docker.service ç¬¬ä¸€ä¸ªå‘½ä»¤ docker run ubuntu echo &quot;Hello World&quot; å‡ºç°hello Harborå®‰è£… $ wget https://github.com/vmware/harbor/releases/download/v1.1.2/harbor-online-installer-v1.1.2.tgz $ tar xvf harbor-online-installer-v1.1.2.tgz ç”¨æˆ·åï¼š adminå¯†ç ï¼š Harbor12345 ä¿®æ”¹/lib/systemd/system/docker.service # Modified,origin: ExecStart=/usr/bin/dockerd -H fd:// ExecStart=/usr/bin/docker daemon -H fd:// --insecure-registry xx.xxx.xx.xx:5000 ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š sudo systemctl daemon-reload sudo systemctl restart docker é‡å¯sudo docker-compose stopsudo docker-compose up -d å…¶ä»–ç›®å½•æ–‡ä»¶/etc/default/docker/etc/init/docker.conf/etc/init.d/docker é—®é¢˜ç„¶è€Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ï¼Œ Ubuntu Docker å®¹å™¨ï¼‰ï¼Œ net-tools å·¥å…·åŒ…å°†ä¸ä¼šè¢«é»˜è®¤å®‰è£…ï¼Œè¿™å°±æ„å‘³ç€ä¸èƒ½ä½¿ç”¨ ifconfig ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨è½¯ä»¶ä»“åº“æ¥å®‰è£… net-tools ã€‚sudo apt-get install net-tools https://blog.csdn.net/aixiaoyang168/article/details/73549898https://www.cnblogs.com/huangjc/p/6420355.html #å‚è€ƒç½‘ç«™ # dockå®‰è£…","categories":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/tags/Docker/"}],"keywords":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}]},{"title":"å®¹å™¨æ„å»ºå¾®æœåŠ¡","slug":"11å®¹å™¨æŠ€æœ¯/å®¹å™¨æ„å¾®æœåŠ¡","date":"2016-09-04T00:00:00.000Z","updated":"2018-12-10T16:08:12.049Z","comments":true,"path":"2016/09/04/11å®¹å™¨æŠ€æœ¯/å®¹å™¨æ„å¾®æœåŠ¡/","link":"","permalink":"http://yoursite.com/2016/09/04/11å®¹å™¨æŠ€æœ¯/å®¹å™¨æ„å¾®æœåŠ¡/","excerpt":"","text":"dockeræ¦‚å¿µç¼–å†™dockerfile docker build -t spring-boot-first . docker run -i -t â€“name maventest maven:latest /bin/bash http://blog.csdn.net/lsgqjh/article/details/72597786 Maven Dockeré•œåƒä½¿ç”¨æŠ€å·§http://www.cnblogs.com/ilinuxer/p/6649029.html #jeck #å‚è€ƒç½‘ç«™ # dockå®‰è£… Gitlab+Jenkins+dockerå®ŒæˆMavené¡¹ç›®çš„è‡ªåŠ¨éƒ¨ç½²https://wayearn.com/2016/12/gitlab-jenkins-docker-maven/ åˆ›å»ºDockerfileæ–‡ä»¶http://www.cnblogs.com/softlin/archive/2015/03/30/4377160.html Git+Spring-boot+Docker+ Maven +Registryç§æœ‰ä»“åº“ +jenkins æŒç»­é›†æˆæµ‹è¯•http://blog.csdn.net/lsgqjh/article/details/72597786 http://blog.csdn.net/u013257425/article/details/53493113 ä½¿ç”¨Dockeræ­å»ºJavaç¯å¢ƒhttp://www.cnblogs.com/tianrongyao/articles/6046716.html","categories":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}],"tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/tags/ä¸­é—´ä»¶/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"},{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/tags/Docker/"}],"keywords":[{"name":"å®¹å™¨æŠ€æœ¯","slug":"å®¹å™¨æŠ€æœ¯","permalink":"http://yoursite.com/categories/å®¹å™¨æŠ€æœ¯/"}]},{"title":"Linuxå¸¸ç”¨å‘½ä»¤å’ŒæŠ€å·§","slug":"13åŸºç¡€æŠ€æœ¯/linux/Linuxå¸¸ç”¨å‘½ä»¤","date":"2016-05-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.054Z","comments":true,"path":"2016/05/06/13åŸºç¡€æŠ€æœ¯/linux/Linuxå¸¸ç”¨å‘½ä»¤/","link":"","permalink":"http://yoursite.com/2016/05/06/13åŸºç¡€æŠ€æœ¯/linux/Linuxå¸¸ç”¨å‘½ä»¤/","excerpt":"","text":"Linuxå¸¸ç”¨å‘½ä»¤ä½¿ç”¨lsofæŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹lsof -i :3306 æˆ–è€…ä½¿ç”¨ sudo netstat -anop | grep 3306 -p é€‰é¡¹æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ netstat -tnlp å¯ä»¥æŸ¥çœ‹ç›‘å¬çš„ç«¯å£ï¼Œå…¶ä¸­læ˜¯listening, pæ˜¯æ˜¾ç¤ºprogram, næ˜¯æ˜¾ç¤ºipè€Œä¸æ˜¯name, tåªæŸ¥çœ‹tcpçš„å†…å®¹ æŸ¥çœ‹å‘åŒ…çš„ç«¯å£netstat -tu -c -t é€‰é¡¹åˆ—å‡º TCP åè®®çš„è¿æ¥-u æ˜¾ç¤ºUDPåè®®çš„è¿æ¥æƒ…å†µ-c æ¯éš”1ç§’å°±é‡æ–°æ˜¾ç¤ºä¸€éï¼Œç›´åˆ°ç”¨æˆ·ä¸­æ–­å®ƒ æ˜¾ç¤ºæŸä¸ªç¨‹åºæ˜¯å¦åœ¨è¿è¡Œï¼ŒæŸ¥çœ‹æŸä¸ªè¿è¡Œçš„ç¨‹åºps -aux | grep &quot;memcached&quot; è®¾ç½®DNSã€ç½‘å…³echo â€œnameserver 202.16.53.68â€³ &gt;&gt; /etc/resolv.confroute add default gw 192.168.1.1 åˆ é™¤æ‰€æœ‰ç©ºç›®å½•find /data -type d -empty -exec rm -rf {} \\; linuxä¸‹æ‰¹é‡åˆ é™¤ç©ºæ–‡ä»¶ï¼ˆå¤§å°ç­‰äº0çš„æ–‡ä»¶ï¼‰çš„æ–¹æ³•find /data -type f -size 0c -exec rm -rf {} \\;find /data -type f -size 0c|xargs rm â€“f åˆ é™¤äº”å¤©å‰çš„æ–‡ä»¶find /data -mtime +5 -type f -exec rm -rf {} \\; åˆ é™¤ä¸¤ä¸ªæ–‡ä»¶é‡å¤çš„éƒ¨ä»½ï¼Œæ‰“å°å…¶å®ƒcat 1.txt 3.txt |sort |uniq æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬lsb_release -a å¦‚ä½•æŸ¥çœ‹ç›®æ ‡ä¸»æœº192.168.0.1å¼€æ”¾é‚£äº›ç«¯å£yum install nmapnmap -PS 192.168.0.1","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"Linuxä¸­åè¿›åˆ¶å’Œå…¶ä»–è¿›åˆ¶çš„äº’æ¢","slug":"13åŸºç¡€æŠ€æœ¯/linux/Linuxæ•°å­—è½¬æ¢","date":"2016-05-06T00:00:00.000Z","updated":"2018-05-27T09:06:00.054Z","comments":true,"path":"2016/05/06/13åŸºç¡€æŠ€æœ¯/linux/Linuxæ•°å­—è½¬æ¢/","link":"","permalink":"http://yoursite.com/2016/05/06/13åŸºç¡€æŠ€æœ¯/linux/Linuxæ•°å­—è½¬æ¢/","excerpt":"","text":"Linuxæ•°å­—è½¬æ¢æœ‰æ—¶éœ€è¦å¿«é€ŸæŸ¥çœ‹äºŒè¿›åˆ¶çš„æ•°å­—ä¸ºå¤šå°‘ å…¶ä»–è½¬ä¸ºåè¿›åˆ¶((num=2#11011111)) echo $num ((num=0xff)); echo $num åè¿›åˆ¶è½¬ä¸ºå…¶å®ƒè¿›åˆ¶åè¿›åˆ¶è½¬å…«è¿›åˆ¶echo â€œobase=8;01234567â€|bc åè¿›åˆ¶è½¬2è¿›åˆ¶echo â€œobase=2;239â€|bc","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"Macå¸¸ç”¨å‘½ä»¤å’ŒæŠ€å·§","slug":"13åŸºç¡€æŠ€æœ¯/linux/macæ“ä½œæŠ€å·§","date":"2016-05-04T00:00:00.000Z","updated":"2018-05-27T09:06:00.056Z","comments":true,"path":"2016/05/04/13åŸºç¡€æŠ€æœ¯/linux/macæ“ä½œæŠ€å·§/","link":"","permalink":"http://yoursite.com/2016/05/04/13åŸºç¡€æŠ€æœ¯/linux/macæ“ä½œæŠ€å·§/","excerpt":"","text":"mdfindmdfindå‘½ä»¤å°±æ˜¯SpotlightåŠŸèƒ½çš„ç»ˆç«¯ç•Œé¢ï¼Œè¿™æ„å‘³ç€å¦‚æœSpotlightè¢«ç¦ç”¨ï¼Œmdfindå‘½ä»¤ä¹Ÿå°†æ— æ³•å·¥ä½œ é€šè¿‡mdfindå‘½ä»¤æœç´¢æ–‡ä»¶mdfind -name &quot;Photo 1.PNG&quot; é€šè¿‡-onlyinå‚æ•°æœç´¢ç‰¹å®šæ–‡ä»¶å¤¹çš„å†…å®¹mdfind -onlyin ./ å…³äºæˆ‘ä»¬","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"NumPyå­¦ä¹ ","slug":"22programming/python/ä½¿ç”¨NumPy","date":"2016-02-07T00:00:00.000Z","updated":"2019-01-21T07:33:43.922Z","comments":true,"path":"2016/02/07/22programming/python/ä½¿ç”¨NumPy/","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/python/ä½¿ç”¨NumPy/","excerpt":"","text":"ç®€ä»‹NumPy æ•°ç»„ä¸ Python å†…ç½®çš„åˆ—è¡¨ç±»å‹éå¸¸ç›¸ä¼¼ã€‚ä½†æ˜¯éšç€æ•°ç»„åœ¨ç»´åº¦ä¸Šå˜å¤§ï¼ŒNumPy æ•°ç»„æä¾›äº†æ›´åŠ é«˜æ•ˆçš„å­˜å‚¨å’Œæ•°æ®æ“ä½œã€‚ä¸Python åˆ—è¡¨listç›¸æ¯”ï¼Œå›ºå®šç±»å‹çš„ NumPy å¼æ•°ç»„ç¼ºä¹è¿™ç§çµæ´»æ€§ï¼Œä½†æ˜¯èƒ½æ›´æœ‰æ•ˆåœ°å­˜å‚¨å’Œæ“ä½œæ•°æ®ã€‚ æµ‹è¯•å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œpip3 install numpy import numpy as np np.__version__ Out[64]: &apos;1.14.3&apos; æ“ä½œä»Pythonåˆ—è¡¨åˆ›å»ºæ•°ç»„np.array([1, 4, 2, 5, 3]) np.array([1, 2, 3, 4], dtype=&apos;float32&apos;) grid = np.array([[9, 8, 7], ...: [6, 5, 4]]) NumPy è¦æ±‚æ•°ç»„å¿…é¡»åŒ…å«åŒä¸€ç±»å‹çš„æ•°æ®ã€‚å¦‚æœç±»å‹ä¸åŒ¹é…ï¼ŒNumPy å°†ä¼šå‘ä¸Šè½¬æ¢ ä¸åŒäº Python åˆ—è¡¨ï¼ŒNumPy æ•°ç»„å¯ä»¥è¢«æŒ‡å®šä¸ºå¤šç»´çš„ np.array([range(i, i + 3) for i in [2, 4, 6]]) å¿«é€Ÿåˆ›å»ºæ•°ç»„åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º10çš„æ•°ç»„ï¼Œæ•°ç»„çš„å€¼éƒ½æ˜¯0 np.zeros(10, dtype=int) åˆ›å»ºä¸€ä¸ª3Ã—5çš„æµ®ç‚¹å‹æ•°ç»„ï¼Œæ•°ç»„çš„å€¼éƒ½æ˜¯1 np.ones((3, 5), dtype=float) åˆ›å»ºä¸€ä¸ª3Ã—5çš„æµ®ç‚¹å‹æ•°ç»„ï¼Œæ•°ç»„çš„å€¼éƒ½æ˜¯3.14 np.full((3, 5), 3.14) åˆ›å»ºä¸€ä¸ª3Ã—3çš„ã€å‡å€¼ä¸º0ã€æ–¹å·®ä¸º1çš„ # æ­£æ€åˆ†å¸ƒçš„éšæœºæ•°æ•°ç»„ np.random.normal(0, 1, (3, 3)) åˆ›å»ºä¸€ä¸ª5ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œè¿™5ä¸ªæ•°å‡åŒ€åœ°åˆ†é…åˆ°0~1ï¼Œç­‰å·®æ•°åˆ— np.linspace(0, 1, 5) åˆ›å»ºä¸€ä¸ª1-20ä¸”å·®ä¸º3çš„ç­‰å·®æ•°åˆ— np.arange(1,20,3) éšæœºç”Ÿæˆæ•´æ•°æ•°æ®x1 = np.random.randint(10, size=6) # ä¸€ç»´æ•°ç»„ x2 = np.random.randint(10, size=(3, 4)) # äºŒç»´æ•°ç»„ x3 = np.random.randint(10, size=(3, 4, 5)) # ä¸‰ç»´æ•°ç»„ æ•°æ®ç±»å‹å‚çœ‹æ•°æ®ç±»å‹arry4.dtype ç±»å‹è½¬æ¢arry4 = arry3.astype(np.float64) æ•°ç»„åˆ‡ç‰‡ï¼šè·å–å­æ•°ç»„x[start:stop:step] x = np.arange(10) è·å–æ•°ç»„çš„è¡Œå’Œåˆ—ä¸€ç§å¸¸è§çš„éœ€æ±‚æ˜¯è·å–æ•°ç»„çš„å•è¡Œå’Œå•åˆ—ã€‚ä½ å¯ä»¥å°†ç´¢å¼•ä¸åˆ‡ç‰‡ç»„åˆèµ·æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œç”¨ä¸€ä¸ªå†’å·ï¼ˆ:ï¼‰è¡¨ç¤ºç©ºåˆ‡ç‰‡ï¼š print(x2[:, 0]) # x2çš„ç¬¬ä¸€åˆ— print(x2[0, :]) # x2çš„ç¬¬ä¸€è¡Œ åœ¨è·å–è¡Œæ—¶ï¼Œå‡ºäºè¯­æ³•çš„ç®€ä»‹è€ƒè™‘ï¼Œå¯ä»¥çœç•¥ç©ºçš„åˆ‡ç‰‡ï¼šprint(x2[0]) å¦‚ä½•å¤åˆ¶ï¼Ÿå…³äºæ•°ç»„åˆ‡ç‰‡æœ‰ä¸€ç‚¹å¾ˆé‡è¦ä¹Ÿéå¸¸æœ‰ç”¨ï¼Œé‚£å°±æ˜¯æ•°ç»„åˆ‡ç‰‡è¿”å›çš„æ˜¯æ•°ç»„æ•°æ®çš„è§†å›¾ï¼Œè€Œä¸æ˜¯æ•°å€¼æ•°æ®çš„å‰¯æœ¬ã€‚è¿™ä¸€ç‚¹ä¹Ÿæ˜¯ NumPy æ•°ç»„åˆ‡ç‰‡å’Œ Python åˆ—è¡¨åˆ‡ç‰‡çš„ä¸åŒä¹‹å¤„ï¼šåœ¨ Python åˆ—è¡¨ä¸­ï¼Œåˆ‡ç‰‡æ˜¯å€¼çš„å‰¯æœ¬ã€‚ å¦‚æœä¿®æ”¹è¿™ä¸ªå­æ•°ç»„ï¼Œå°†ä¼šçœ‹åˆ°åŸå§‹æ•°ç»„ä¹Ÿè¢«ä¿®æ”¹ åˆ›å»ºæ•°ç»„çš„å‰¯æœ¬x2_sub_copy = x2[:2, :2].copy() NumPyæ•°ç»„çš„æ“ä½œNumPyæ•°ç»„çš„å±æ€§æ¯ä¸ªæ•°ç»„æœ‰ nidmï¼ˆæ•°ç»„çš„ç»´åº¦ï¼‰ã€shapeï¼ˆæ•°ç»„æ¯ä¸ªç»´åº¦çš„å¤§å°ï¼‰å’Œ sizeï¼ˆæ•°ç»„çš„æ€»å¤§å°ï¼‰å±æ€§ #éšæœºæ•° rand å¯ä»¥ç”Ÿæˆ[0,1)çš„éšæœºå¤šç»´æ•°ç»„ã€‚npr.rand(3,2) pip3 install matplotlib å‚è€ƒç½‘ç«™ NumPyä¸­æ–‡æ‰‹å†Œ NumPyæ•™ç¨‹ NumPyæ•™ç¨‹","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Scala","slug":"22programming/scala/scalaå­¦ä¹ ç¬”è®°","date":"2016-02-07T00:00:00.000Z","updated":"2018-05-27T09:06:00.101Z","comments":true,"path":"2016/02/07/22programming/scala/scalaå­¦ä¹ ç¬”è®°/","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/scala/scalaå­¦ä¹ ç¬”è®°/","excerpt":"","text":"Scalaçš„è®¾è®¡å“²å­¦Scalaè¯•å›¾å°†ä»¥ä¸‹ä¸‰ç»„å¯¹ç«‹çš„æ€æƒ³èåˆåˆ°ä¸€ç§è¯­è¨€ä¸­ã€‚ å‡½æ•°å¼ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚ å¯Œæœ‰è¡¨è¾¾åŠ›çš„è¯­æ³•å’Œé™æ€ç±»å‹ã€‚ é«˜çº§çš„è¯­è¨€ç‰¹æ€§åŒæ—¶ä¿æŒä¸Java çš„é«˜åº¦é›†æˆã€‚ Scala å®Œå…¨æ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ã€‚Scala å¼•å…¥ç‰¹å¾ï¼ˆtraitï¼‰æ”¹è¿›äº† Java çš„å¯¹è±¡æ¨¡å‹ã€‚trait èƒ½é€šè¿‡ä½¿ç”¨æ··åˆç»“æ„ï¼ˆmixin compositionï¼‰ç®€æ´åœ°å®ç°æ–°çš„ç±»å‹ã€‚åœ¨ Scala ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œå³ä½¿æ˜¯æ•°å€¼ç±»å‹ã€‚ ## æ¥å£ ##ç§Ÿå€Ÿæ¨¡å¼ï¼ˆloaner patternï¼‰ Scala ä½¿ç”¨ trait æ¥æ›¿ä»£æ¥å£ åå˜ å’Œ é€†å˜å¦‚æœæŸç±»å‹å¯ä»¥å¼ºåˆ¶è½¬æ¢ä¸ºå­å­™ç±»ï¼Œæˆ‘ä»¬ç§°ä¸ºåå˜ï¼ˆ+T æˆ–? extends Tï¼‰ï¼Œå¦‚æœæŸç±»å‹å¯ä»¥å¼ºåˆ¶è½¬æ¢ä¸ºç¥–å…ˆç±»ï¼Œæˆ‘ä»¬ç§°ä¸ºé€†å˜ï¼ˆ-T æˆ–? super Tï¼‰ã€‚å¦‚æœæŸç±»å‹å®Œå…¨ä¸èƒ½è¢«å¼ºåˆ¶è½¬æ¢ï¼Œå°±ç§°ä¸ºä¸å˜ï¼ˆInvarianceï¼‰ é™æ€ç±»å‹å’Œè¡¨è¾¾åŠ›Scalaåšäº†ä»¥ä¸‹å‡ ä¸ªç®€å•çš„è®¾è®¡å†³ç­–ï¼Œä»¥æé«˜ä»£ç è¡¨è¾¾åŠ›ã€‚ æŠŠç±»å‹æ ‡æ³¨ï¼ˆtype annotationï¼‰æ¢åˆ°å˜é‡å³è¾¹ã€‚ ç±»å‹æ¨æ–­ã€‚ å¯æ‰©å±•çš„è¯­æ³•ã€‚ ç”¨æˆ·è‡ªå®šä¹‰çš„éšå¼è½¬æ¢ scalaçš„ç®€åŒ–è§„åˆ™ æ— å‚æ•°çš„æ–¹æ³•å¯ä»¥ç”¨ä½œåç¼€æ“ä½œç¬¦ï¼ˆpostfix operatorï¼‰ åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•å¯ä»¥å½“ä½œä¸­ç¼€æ“ä½œç¬¦ï¼ˆinfix operatorï¼‰ã€‚ è¿˜æœ‰ä¸€äº›å¯¹ç‰¹æ®Šå­—ç¬¦çš„ä¸“é—¨è§„å®šï¼Œæ¯”å¦‚æ–¹æ³•åçš„æœ€åä¸€ä¸ªå­—ç¬¦å¦‚æœæ˜¯â€œ:â€ï¼Œåˆ™æ–¹æ³•çš„è°ƒç”¨æ–¹å‘åè½¬ åœ¨å®šä¹‰åŒ¿åå‡½æ•°æ—¶ï¼ˆåˆç§° lambdaï¼‰ï¼ŒScala æä¾›äº†å ä½ç¬¦è¯­æ³•ã€‚å¯ä»¥ä½¿ç”¨â€œ_â€å…³é”®å­—ä½œä¸ºå‡½æ•°å‚æ•°çš„å ä½ç¬¦ã€‚å¦‚æœä½¿ç”¨å¤šä¸ªå ä½ç¬¦ï¼Œæ¯ä¸ªç›¸åº”ä½ç½®çš„å ä½ç¬¦å¯¹åº”äºç›¸åº”ä½ç½®çš„å‚æ•°ã€‚ å…¶ä»–Scalaä¼šè‡ªåŠ¨åœ°åŠ è½½scala.Predefå¯¹è±¡ï¼Œä½¿å®ƒçš„æˆå‘˜æ–¹æ³•å¯¹æ‰€æœ‰ç¨‹åºå¯ç”¨ã€‚ implicitå…³é”®å­—åœ¨Scalaé‡Œæœ‰ä¸¤ç§ä¸åŒç”¨æ³•ã€‚ç¬¬ä¸€ç§ç”¨æ³•æ˜¯ç»™æ–¹æ³•å£°æ˜ä¸€ç§ç‰¹æ®Šå‚æ•°å¦‚æœç¼–è¯‘å™¨åœ¨ä½œç”¨åŸŸé‡Œæ‰¾åˆ°äº†åˆé€‚çš„å€¼å°±ä¼šè‡ªåŠ¨ä¼ é€’ç»™æ–¹æ³•ã€‚ implicit å…³é”®å­—çš„å¦ä¸€ç§ç”¨æ³•æ˜¯æŠŠä¸€ç§ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ã€‚æœ‰ä¸¤ç§åœºæ™¯ä¼šå‘ç”Ÿéšå¼è½¬æ¢ï¼Œç¬¬ä¸€ç§åœºæ™¯æ˜¯å½“ä½ ç»™ä¸€ä¸ªå‡½æ•°ä¼ é€’å‚æ•°çš„æ—¶å€™ï¼Œå¦‚æœScalaå‘ç°å‡½æ•°éœ€è¦çš„å‚æ•°ç±»å‹ï¼ˆè·Ÿä¼ ç»™å®ƒçš„ï¼‰ä¸ä¸€æ ·ï¼ŒScala ä¼šé¦–å…ˆæ£€æŸ¥ç±»å‹ç»§æ‰¿å…³ç³»ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±ä¼šå»æŸ¥æ‰¾æœ‰æ²¡æœ‰åˆé€‚çš„éšå¼è½¬æ¢æ–¹æ³•ã€‚ éšå¼è½¬æ¢æ–¹æ³•åªæ˜¯æ™®é€šçš„æ–¹æ³•ï¼Œç”¨implicit å…³é”®å­—åšäº†æ ‡æ³¨ã€‚ ç¬¬äºŒç§åœºæ™¯æ˜¯å½“è°ƒç”¨æŸç±»å‹çš„æŸæ–¹æ³•æ—¶ï¼Œå¦‚æœç¼–è¯‘å™¨å‘ç°è¯¥ç±»å‹æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼ŒScala ä¼šå¯¹è¯¥æŸ¥æ‰¾é€‚ç”¨äºè¯¥ç±»å‹çš„éšå¼è½¬æ¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªè½¬æ¢åå…·æœ‰è¯¥æ–¹æ³•çš„ç»“æœã€‚ Scala é¼“åŠ±ä½¿ç”¨ä½œä¸ºå¯¹è±¡çš„å‡½æ•°ï¼ˆfunction as objectï¼‰ï¼Œæˆ–ç§°ä¸€ç­‰å‡½æ•° é¢†åŸŸç‰¹å®šè¯­è¨€æ—¶ï¼ˆDSLï¼‰ ç”¨å¯å˜å¯¹è±¡çš„ä»£ç ä¸€èˆ¬å€¾å‘äºç”¨å‘½ä»¤å¼ï¼ˆimperativeï¼‰çš„é£æ ¼ç¼–ç  å‚è€ƒç½‘ç«™ Hadoopå­¦ä¹ ç¬”è®°â€”10.Shuffleè¿‡ç¨‹é‚£ç‚¹äº‹å„¿","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Scala","slug":"Scala","permalink":"http://yoursite.com/tags/Scala/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Scalaçš„é«˜çº§ç‰¹æ€§","slug":"22programming/scala/scalaä¸­é«˜çº§ç‰¹æ€§","date":"2016-02-07T00:00:00.000Z","updated":"2018-05-27T09:06:00.101Z","comments":true,"path":"2016/02/07/22programming/scala/scalaä¸­é«˜çº§ç‰¹æ€§/","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/scala/scalaä¸­é«˜çº§ç‰¹æ€§/","excerpt":"","text":"æƒ°æ€§æ±‚å€¼for æ¨å¯¼å¼ï¼ˆfor comprehensionï¼‰éšå¼ç±»(Implicit Classes)=&gt; éšå¼è½¬æ¢ä½¿ç”¨éšå¼èƒ½å¤Ÿå‡å°‘ä»£ç ï¼Œèƒ½å¤Ÿå‘å·²æœ‰ç±»å‹ä¸­æ³¨å…¥æ–°çš„æ–¹æ³•ï¼Œä¹Ÿèƒ½å¤Ÿåˆ›å»ºé¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰ã€‚implicit å¯åˆ†ä¸ºï¼šéšå¼å‚æ•°éšå¼è½¬æ¢ç±»å‹éšå¼è°ƒç”¨å‡½æ•° éšå¼å‚æ•°å½“æˆ‘ä»¬åœ¨å®šä¹‰æ–¹æ³•æ—¶ï¼Œå¯ä»¥æŠŠæœ€åä¸€ä¸ªå‚æ•°åˆ—è¡¨æ ‡è®°ä¸ºimplicitï¼Œè¡¨ç¤ºè¯¥ç»„å‚æ•°æ˜¯éšå¼å‚æ•°ã€‚ä¸€ä¸ªæ–¹æ³•åªä¼šæœ‰ä¸€ä¸ªéšå¼å‚æ•°åˆ—è¡¨ï¼Œç½®äºæ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€‚å¦‚æœæ–¹æ³•æœ‰å¤šä¸ªéšå¼å‚æ•°ï¼Œåªéœ€ä¸€ä¸ªimplicitä¿®é¥°å³å¯ã€‚ å½“è°ƒç”¨åŒ…å«éšå¼å‚æ•°çš„æ–¹æ³•æ˜¯ï¼Œå¦‚æœå½“å‰ä¸Šä¸‹æ–‡ä¸­æœ‰åˆé€‚çš„éšå¼å€¼ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºæ”¹ç»„å‚æ•°å¡«å……åˆé€‚çš„å€¼ã€‚å¦‚æœæ²¡æœ‰ç¼–è¯‘å™¨ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ def calcTax(amount: Float)(implicit rate: Float): Float = amount * rateimplicit val currentTaxRate = 0.08Fval tax = calcTax(50000F) // 4000.0 éšå¼åœ°è½¬æ¢ç±»å‹ä½¿ç”¨éšå«è½¬æ¢å°†å˜é‡è½¬æ¢æˆé¢„æœŸçš„ç±»å‹æ˜¯ç¼–è¯‘å™¨æœ€å…ˆä½¿ç”¨ implicit çš„åœ°æ–¹ã€‚è¿™ä¸ªè§„åˆ™éå¸¸ç®€å•ï¼Œå½“ç¼–è¯‘å™¨çœ‹åˆ°ç±»å‹Xè€Œå´éœ€è¦ç±»å‹Yï¼Œå®ƒå°±åœ¨å½“å‰ä½œç”¨åŸŸæŸ¥æ‰¾æ˜¯å¦å®šä¹‰äº†ä»ç±»å‹Xåˆ°ç±»å‹Yçš„éšå¼å®šä¹‰ä¾‹å­ï¼š scala&gt; val i: Int = 3.5 //ç›´æ¥æŠ¥é”™åŠ ä¸Šè¿™å¥ï¼šscala&gt; implicit def double2Int(d: Double) = d.toIntå†è¿è¡Œï¼Œæ²¡æŠ¥é”™scala&gt; val i: Int = 3.5 //i=3 Scalaæ”¯æŒè¿™ç§éšå¼è½¬æ¢,å®šä¹‰è½¬æ¢å‡½æ•°å, ç¼–è¯‘å™¨å°±ä¼šè‡ªåŠ¨è°ƒç”¨ä¸Šé¢çš„è½¬æ¢å‡½æ•°, å°†Doubleè½¬åŒ–ä¸ºInt éšå¼è°ƒç”¨å‡½æ•°å¼è°ƒç”¨å‡½æ•°å¯ä»¥è½¬æ¢è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡ï¼Œæ¯”å¦‚ä½†ç¼–è¯‘å™¨çœ‹åˆ°X .methodï¼Œè€Œç±»å‹ X æ²¡æœ‰å®šä¹‰ methodï¼ˆåŒ…æ‹¬åŸºç±»)æ–¹æ³•ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±æŸ¥æ‰¾ä½œç”¨åŸŸå†…å®šä¹‰çš„ä» X åˆ°å…¶å®ƒå¯¹è±¡çš„ç±»å‹è½¬æ¢ï¼Œæ¯”å¦‚ Yï¼Œè€Œç±»å‹Yå®šä¹‰äº† method æ–¹æ³•ï¼Œç¼–è¯‘å™¨å°±é¦–å…ˆä½¿ç”¨éšå«ç±»å‹è½¬æ¢æŠŠ X è½¬æ¢æˆ Yï¼Œç„¶åè°ƒç”¨ Y çš„ methodã€‚ class SwingType{ def wantLearned(sw : String) = println(&quot;å…”å­å·²ç»å­¦ä¼šäº†&quot;+sw) } object swimming{ implicit def learningType(s : AminalType) = new SwingType } class AminalType object AminalType extends App{ val rabbit = new AminalType rabbit.wantLearned(&quot;breaststroke&quot;) //è›™æ³³ } ç¼–è¯‘å™¨åœ¨rabbitå¯¹è±¡è°ƒç”¨æ—¶å‘ç°å¯¹è±¡ä¸Šå¹¶æ²¡æœ‰wantLearningæ–¹æ³•ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨å°±ä¼šåœ¨ä½œç”¨åŸŸèŒƒå›´å†…æŸ¥æ‰¾èƒ½ä½¿å…¶ç¼–è¯‘é€šè¿‡çš„éšå¼è§†å›¾ï¼Œæ‰¾åˆ°learningTypeæ–¹æ³•åï¼Œç¼–è¯‘å™¨é€šè¿‡éšå¼è½¬æ¢å°†å¯¹è±¡è½¬æ¢æˆå…·æœ‰è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼Œä¹‹åè°ƒç”¨wantLearningæ–¹æ³• æ¨¡å¼åŒ¹é…ï¼ˆpattern matchingï¼‰scalaè¯­è¨€é‡Œçš„æ¨¡å¼åŒ¹é…ç±»ä¼¼javaè¯­è¨€ä¸­switchè¯­å¥ ä½¿ç”¨matchval times = 1 times match { case 1 =&gt; &quot;one&quot; case 2 =&gt; &quot;two&quot; case _ =&gt; &quot;some other number&quot; } ä¸€ä¸ªå¤æ‚çš„ä¾‹å­ for { x &lt;- Seq(1, 2, 2.7, &quot;one&quot;, &quot;two&quot;, &apos;four) // &lt;1&gt; } { val str = x match { // &lt;2&gt; case 1 =&gt; &quot;int 1&quot; // &lt;3&gt; case i: Int =&gt; &quot;other int: &quot;+i // &lt;4&gt; case d: Double =&gt; &quot;a double: &quot;+x // &lt;5&gt; case &quot;one&quot; =&gt; &quot;string one&quot; // &lt;6&gt; case s: String =&gt; &quot;other string: &quot;+s // &lt;7&gt; case unexpected =&gt; &quot;unexpected value: &quot; + unexpected // &lt;8&gt; } println(str) // &lt;9&gt; } åŒ¹é…å…¶ä»–ä»»æ„è¾“å…¥ï¼Œx çš„å€¼è¢«èµ‹ç»™ unexpected è¿™ä¸ªå˜é‡ã€‚ç”±äºæœªç»™å‡ºä»»ä½•ç±»å‹è¯´æ˜ï¼Œunexpected çš„ç±»å‹è¢«æ¨æ–­ä¸º Anyï¼Œèµ·åˆ°äº† default è¯­å¥çš„åŠŸèƒ½ã€‚ for { x &lt;- Seq(1, 2, 2.7, &quot;one&quot;, &quot;two&quot;, &apos;four) } { val str = x match { case _: Int | _: Double =&gt; &quot;a number: &quot;+x case &quot;one&quot; =&gt; &quot;string one&quot; case _: String =&gt; &quot;other string: &quot;+x case _ =&gt; &quot;unexpected value: &quot; + x } println(str) } åœ¨try-catch-finallyè¯­æ³•ä¸­é€šè¿‡æ¨¡å¼åŒ¹é… try { remoteCalculatorService.add(1, 2) } catch { case e: ServerIsDownException =&gt; log.error(e, &quot;error.&quot;) } finally { remoteCalculatorService.close() } Case Classé¦–å…ˆcase classæ˜¯ç”¨äºè®©ä½ æ›´åŠ ç®€æ´çš„ä½¿ç”¨pattern matching, å¦‚æœä½ æƒ³å¯¹ä¸€ä¸ªclassè¿›è¡Œpattern matching, æœ€å¥½åœ¨å‰é¢åŠ ä¸Šcaseã€‚ case å…³é”®å­—çš„å¦ä¸€ä¸ªç‰¹å¾ä¾¿æ˜¯è®©ç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆè®¸å¤šæ–¹æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ç±»ä¼¼äº Java è¯­è¨€ä¸­ Stringã€equals å’Œ hashCode æ–¹æ³•ã€‚é»˜è®¤æ˜¯å¯ä»¥åºåˆ—åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯å®ç°äº†Serializableã€‚ ç¼–è¯‘å™¨åŒæ—¶ä¼šç”Ÿæˆä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼ˆcompanion objectï¼‰ï¼Œä¼´ç”Ÿå¯¹è±¡æ˜¯ä¸€ä¸ªä¸ case ç±»åŒåçš„å•ä¾‹å¯¹è±¡ ä¼´ç”Ÿå¯¹è±¡ä¸­å·²ç»è‡ªåŠ¨æ·»åŠ äº†ä¸å°‘æ–¹æ³•ï¼Œapply æ–¹æ³•ä¾¿æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚è¯¥æ–¹æ³•æ¥å—çš„å‚æ•°åˆ—è¡¨ä¸æ„é€ å‡½æ•°æ¥å—çš„å‚æ•°åˆ—è¡¨ä¸€è‡´ã€‚ å› ä¸ºæœ‰ä¼´ç”Ÿå¯¹è±¡ï¼Œæ‰€ä»¥åˆå§‹åŒ–çš„æ—¶å€™å¯ä»¥ä¸ç”¨newã€‚case class User(name:String,age:Int)val user = User(&quot;ww&quot;,30) case classæ„é€ å‡½æ•°çš„å‚æ•°æ˜¯publicçº§åˆ«çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®user.name å‚è€ƒä¾‹å­ case class Person(name : String,age : Int) object ConstructorPattern{ def main(args:Array[String]) :Unit = { val p = new Person(&quot;nyz&quot;,27) def constructorPattern(p : Person) = p match { //æ„é€ å™¨æ¨¡å¼å¿…é¡»å°†Personç±»å®šä¹‰ä¸ºcase class,å¦åˆ™éœ€è¦è‡ªå·±å®šä¹‰ä¼´ç”Ÿå¯¹è±¡å¹¶å®ç°unapplyæ–¹æ³•ã€‚ case Person(name,age) =&gt; &quot;name =&quot; + name + &quot;,age =&quot; + age //case Person(_,age) =&gt; &quot;age =&quot; + age case _ =&gt; &quot;Other&quot; } println(constructorPattern(p)) } } http://www.cnblogs.com/zlslch/p/6115392.html åå‡½æ•°Scalaä¸­çš„Partial Functionå°±æ˜¯ä¸€ä¸ªâ€œæ®‹ç¼ºâ€çš„å‡½æ•°ï¼Œå°±åƒä¸€ä¸ªä¸¥é‡åç§‘çš„å­¦ç”Ÿï¼Œåªå¯¹æŸäº›ç§‘ç›®æ„Ÿå…´è¶£ï¼Œè€Œå¯¹æ²¡æœ‰å…´è¶£çš„å†…å®¹å¼ƒè‹¥è”½å±¥ã€‚Partial Functionåšä¸åˆ°ä»¥â€œåâ€æ¦‚å…¨ï¼Œå› è€Œéœ€è¦å°†å¤šä¸ªåå‡½æ•°ç»„åˆï¼Œæœ€ç»ˆæ‰èƒ½è¾¾åˆ°å…¨é¢è¦†ç›–çš„ç›®çš„ã€‚æ‰€ä»¥è¿™ä¸ªPartial Functionç¡®å®æ˜¯ä¸€ä¸ªâ€œéƒ¨åˆ†â€çš„å‡½æ•°ã€‚ å‹å˜å‡è®¾ä¸€ä¸ªæ–¹æ³•å¸¦æœ‰çš„å‚æ•°ç±»å‹ä¸º List[AnyRef]ï¼Œä½ å¯ä»¥ä¼ å…¥ List[String] å—ï¼Ÿæ¢å¥è¯è¯´ï¼ŒList[String] æ˜¯å¦åº”è¯¥è¢«çœ‹ä½œæ˜¯ List[AnyRef] çš„ä¸€ä¸ªå­ç±»å‹å‘¢ï¼Ÿå¦‚æœæ˜¯ï¼Œè¿™ç§è½¬åŒ–ç§°ä¸ºåå˜ï¼ˆcovarianceï¼‰ã€‚ å‹å˜åœ¨scalaä¸­çµæ´»çš„åˆ†ä¸ºäº†ä¸å˜ï¼Œé€†å˜å’Œåå˜ã€‚å¦‚æœæŸç±»å‹å¯ä»¥å¼ºåˆ¶è½¬æ¢ä¸ºå­å­™ç±»ï¼Œæˆ‘ä»¬ç§°ä¸ºåå˜ï¼ˆ+T æˆ–? extends Tï¼‰ï¼Œå¦‚æœæŸç±»å‹å¯ä»¥å¼ºåˆ¶è½¬æ¢ä¸ºç¥–å…ˆç±»ï¼Œæˆ‘ä»¬ç§°ä¸ºé€†å˜ï¼ˆ-T æˆ–? super Tï¼‰ã€‚å¦‚æœæŸç±»å‹å®Œå…¨ä¸èƒ½è¢«å¼ºåˆ¶è½¬æ¢ï¼Œå°±ç§°ä¸ºä¸å˜ï¼ˆInvarianceï¼‰ã€‚ â€œ+â€è¡¨ç¤ºåå˜ï¼Œè€Œâ€œ-â€è¡¨ç¤ºé€†å˜C[+T]ï¼šå¦‚æœAæ˜¯Bçš„å­ç±»ï¼Œé‚£ä¹ˆC[A]æ˜¯C[B]çš„å­ç±»ï¼ˆåå˜ï¼‰ã€‚C[-T]ï¼šå¦‚æœAæ˜¯Bçš„å­ç±»ï¼Œé‚£ä¹ˆC[B]æ˜¯C[A]çš„å­ç±»ï¼ˆé€†å˜ï¼‰ã€‚C[T]ï¼šæ— è®ºAå’ŒBæ˜¯ä»€ä¹ˆå…³ç³»ï¼ŒC[A]å’ŒC[B]æ²¡æœ‰ä»å±å…³ç³»ã€‚ type æˆå‘˜çš„å·¥ä½œæœºåˆ¶ä¸å‚æ•°åŒ–ç±»å‹ä¸­çš„ç±»å‹å‚æ•°éå¸¸ç±»ä¼¼ https://my.oschina.net/xinxingegeya/blog/486671http://hongjiang.info/scala-covariance-and-contravariance/http://lib.csdn.net/article/scala/25849 æ­£åˆ™è¡¨è¾¾å¼ä¸‰é‡åŒå¼•å·æ¥è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸² å‚è€ƒç½‘ç«™ æ–‡æ¡£ http://hongjiang.info/message/http://zhuanlan.51cto.com/art/201703/534053.htm","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Scala","slug":"Scala","permalink":"http://yoursite.com/tags/Scala/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"JavaScriptæ¨¡å—ç³»ç»Ÿç®€ä»‹","slug":"22programming/javascript/AMDå’ŒCommonJSç›¸æ¯”ï¼ŒUMD","date":"2016-02-07T00:00:00.000Z","updated":"2018-05-27T09:06:00.109Z","comments":true,"path":"2016/02/07/22programming/javascript/AMDå’ŒCommonJSç›¸æ¯”ï¼ŒUMD/","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/javascript/AMDå’ŒCommonJSç›¸æ¯”ï¼ŒUMD/","excerpt":"","text":"#å¼•è¨€ ç”±äºJavascriptçš„æ ‡å‡†æ²¡æœ‰å¯¹æ¨¡å—çš„è§„èŒƒè¿›è¡Œå®šä¹‰ï¼Œäººä»¬åˆå®šä¹‰äº†ä¸€ç³»åˆ—ä¸åŒçš„æ¨¡å—å®šä¹‰ï¼š CommonJS ã€ AMD ã€ CMD ã€ UMDã€‚æ‰€å¹¸çš„æ˜¯ES6 Moduleçš„å‡ºç°å¯èƒ½ä¸­æ­¢è¿™ç§åˆ†è£‚çš„çŠ¶æ€ã€‚ CommonJSä¸»è¦æ˜¯ç”¨äºæœåŠ¡å™¨ç«¯çš„è§„èŒƒï¼Œæ¯”å¦‚ç›®å‰çš„nodeJS $ npm install react react-bootstrap var Alert = require(â€˜react-bootstrap/lib/Alertâ€™);// orvar Alert = require(â€˜react-bootstrapâ€™).Alert; CommonJS åŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„.æ‰€ä»¥åªæœ‰åŠ è½½å®Œæˆæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚ åƒNode.jsä¸»è¦ç”¨äºæœåŠ¡å™¨çš„ç¼–ç¨‹ï¼ŒåŠ è½½çš„æ¨¡å—æ–‡ä»¶ä¸€èˆ¬éƒ½å·²ç»å­˜åœ¨æœ¬åœ°ç¡¬ç›˜ï¼Œæ‰€ä»¥åŠ è½½èµ·æ¥æ¯”è¾ƒå¿«ï¼Œä¸ç”¨è€ƒè™‘å¼‚æ­¥åŠ è½½çš„æ–¹å¼ï¼Œæ‰€ä»¥CommonJSè§„èŒƒæ¯”è¾ƒé€‚ç”¨ã€‚ ä½†å¦‚æœæ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œè¦ä»æœåŠ¡å™¨åŠ è½½æ¨¡å—ï¼Œè¿™æ˜¯å°±å¿…é¡»é‡‡ç”¨å¼‚æ­¥æ¨¡å¼ã€‚æ‰€ä»¥å°±æœ‰äº† AMD CMD ç­‰è§£å†³æ–¹æ¡ˆ AMD (Asynchromous Module Definition)AMD æ˜¯ RequireJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡º AMDå¼‚æ­¥åŠ è½½æ¨¡å—ã€‚å®ƒçš„æ¨¡å—æ”¯æŒå¯¹è±¡ å‡½æ•° æ„é€ å™¨ å­—ç¬¦ä¸² JSONç­‰å„ç§ç±»å‹çš„æ¨¡å—ã€‚ é€‚ç”¨AMDè§„èŒƒé€‚ç”¨defineæ–¹æ³•å®šä¹‰æ¨¡å—ã€‚ $ bower install react react-bootstrap define([â€˜react-bootstrapâ€™], function(ReactBootstrap) { var Alert = ReactBootstrap.Alert; â€¦ });AMD è¿è¡Œæ—¶æ ¸å¿ƒæ€æƒ³æ˜¯ã€ŒEarly Executingã€ï¼Œä¹Ÿå°±æ˜¯æå‰æ‰§è¡Œä¾èµ–ã€‚ CMD (Common Module Definition)é€šç”¨æ¨¡å—å®šä¹‰,CMDæ˜¯SeaJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡ºCMDå’ŒAMDçš„åŒºåˆ«æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š 1.å¯¹äºä¾èµ–çš„æ¨¡å—AMDæ˜¯æå‰æ‰§è¡Œï¼ŒCMDæ˜¯å»¶è¿Ÿæ‰§è¡Œã€‚ 2.CMDæ¨å´‡ä¾èµ–å°±è¿‘ï¼ŒæŒ‰éœ€åŠ è½½ï¼›AMDæ¨å´‡ä¾èµ–å‰ç½®ã€‚ UMDumdæ˜¯AMDå’ŒCommonJSçš„ç³…åˆ AMD æµè§ˆå™¨ç¬¬ä¸€çš„åŸåˆ™å‘å±• å¼‚æ­¥åŠ è½½æ¨¡å—ã€‚ CommonJS æ¨¡å—ä»¥æœåŠ¡å™¨ç¬¬ä¸€åŸåˆ™å‘å±•ï¼Œé€‰æ‹©åŒæ­¥åŠ è½½ï¼Œå®ƒçš„æ¨¡å—æ— éœ€åŒ…è£…(unwrapped modules)ã€‚ è¿™è¿«ä½¿äººä»¬åˆæƒ³å‡ºå¦ä¸€ä¸ªæ›´é€šç”¨çš„æ¨¡å¼UMD ï¼ˆUniversal Module Definitionï¼‰ã€‚å¸Œæœ›è§£å†³è·¨å¹³å°çš„è§£å†³æ–¹æ¡ˆã€‚ UMDå…ˆåˆ¤æ–­æ˜¯å¦æ”¯æŒNode.jsçš„æ¨¡å—ï¼ˆexportsï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨Node.jsæ¨¡å—æ¨¡å¼ã€‚ åœ¨åˆ¤æ–­æ˜¯å¦æ”¯æŒAMDï¼ˆdefineæ˜¯å¦å­˜åœ¨ï¼‰ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨AMDæ–¹å¼åŠ è½½æ¨¡å—ã€‚ (function (window, factory) { if (typeof exports === &apos;object&apos;) { module.exports = factory(); } else if (typeof define === &apos;function&apos; &amp;&amp; define.amd) { define(factory); } else { window.eventUtil = factory(); } })(this, function () { //module ... }); ES6es6 ä¸­æ–°å¢äº†ä¸¤ä¸ªå‘½ä»¤ export å’Œ import , export å‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œimport å‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚ ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶å†…éƒ¨çš„æ‰€æœ‰å˜é‡ï¼Œå¤–éƒ¨æ— æ³•è·å–ã€‚å¦‚æœä½ å¸Œæœ›å¤–éƒ¨èƒ½å¤Ÿè¯»å–æ¨¡å—å†…éƒ¨çš„æŸä¸ª å˜é‡ï¼Œå°±å¿…é¡»ä½¿ç”¨exportå…³é”®å­—è¾“å‡ºè¯¥å˜é‡ã€‚ $ npm install react react-bootstrap import Button from â€˜react-bootstrap/lib/Buttonâ€™;// orimport { Button } from â€˜react-bootstrapâ€™; å‚è€ƒ å…³äº CommonJS AMD CMD UMD è§„èŒƒçš„å·®å¼‚æ€»ç»“","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"æ¶æ„å¸ˆçš„èƒ½åŠ›å’ŒèŒè´£","slug":"80å®ƒå±±ä¹‹ç‰/æ¶æ„å¸ˆçš„èƒ½åŠ›å’ŒèŒè´£","date":"2016-02-07T00:00:00.000Z","updated":"2018-12-10T15:51:53.895Z","comments":true,"path":"2016/02/07/80å®ƒå±±ä¹‹ç‰/æ¶æ„å¸ˆçš„èƒ½åŠ›å’ŒèŒè´£/","link":"","permalink":"http://yoursite.com/2016/02/07/80å®ƒå±±ä¹‹ç‰/æ¶æ„å¸ˆçš„èƒ½åŠ›å’ŒèŒè´£/","excerpt":"","text":"èƒŒæ™¯æ–‡ç« å‡ºè‡ªhttp://blogger.org.cn/blog/more.asp?name=hongrui&amp;id=49222 å‘ç°æ€»ç»“çš„å¾ˆå¥½ï¼Œæ‰€ä»¥æ‘˜å½•å¦‚ä¸‹ã€‚ è§‚ç‚¹æ¶æ„å¸ˆæ˜¯æŠ€æœ¯é¢†å¯¼æ¶æ„å¸ˆå¿…é¡»è¦æœ‰æŠ€æœ¯ï¼Œè€Œä¸”è¿˜æ˜¯é¢†å¯¼ã€‚æ¶æ„å¸ˆè¦å¸¦é¢†è‡ªå·±å›¢é˜Ÿå®Œæˆè‡ªå·±çš„ä»»åŠ¡ï¼Œå®Œå…¨å‡­å€Ÿè‡ªå·±çš„èƒ½åŠ›åšäº‹æƒ…ï¼Œå®Œå…¨æ˜¯åŒ¹å¤«ä¹‹å‹‡ï¼Œæ ¹æœ¬ä¸æå€¡ã€‚ æ¶æ„å¸ˆç†è§£è½¯ä»¶æµç¨‹æ¶æ„å¸ˆå¿…é¡»äº†è§£è½¯ä»¶æµç¨‹ï¼Œå¦åˆ™æ— æ³•é©±åŠ¨æ•´ä¸ªå›¢é˜Ÿå‰è¿›ï¼Œå¦‚æœä¸€ä¸ªæ¶æ„å¸ˆä¸ç†Ÿæ‚‰å¼€å‘æµç¨‹ï¼Œæ— æ³•åè°ƒäº§å“çº¿ç›¸å…³äººå‘˜è¿›è¡Œé«˜æ•ˆå·¥ä½œï¼Œä¹Ÿæ— æ³•æŒ‡å¯¼å›¢é˜Ÿæˆå‘˜å®Œæˆè‡ªå·±çš„å·¥ä½œã€‚æ‰€ä»¥æ¥è¯´æ¶æ„å¸ˆä¸€èˆ¬ä¸æ˜¯ç©ºé™å…µï¼ˆé™¤éæ˜¯å…¨æ–°çš„éƒ¨é—¨ï¼‰ï¼Œå› ä¸ºç©ºé™å…µä¸€èˆ¬ä¸ä¼šç†Ÿæ‚‰æ–°å…¬å¸çš„å¼€å‘æµç¨‹ï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ªè¡Œä¸šçš„ï¼Œå„ä¸ªå…¬å¸çš„å·®åˆ«è¿˜æ˜¯å¾ˆå¤§ã€‚æ‰€ä»¥è¯´å¬è¯´æŸæŸå»æŸæŸå…¬å¸åšé¦–å¸­æ¶æ„å¸ˆæˆ–è€…é¦–å¸­ç§‘å­¦å®¶ï¼Œä¸€èˆ¬æ˜¯é«˜é£é™©çš„äº‹æƒ…ï¼Œå³ä½¿ä»–å¯¹è¿™ä¸ªè¡Œä¸šå¾ˆäº†è§£ã€‚ æ¶æ„å¸ˆå¿…é¡»ç†Ÿæ‚‰ä¸šåŠ¡é¢†åŸŸå¦‚æœä¸€ä¸ªæ¶æ„å¸ˆä¸ç†Ÿæ‚‰è‡ªå·±çš„è¡Œä¸šï¼Œåšçš„æ¶æ„å°±æ˜¯çº¸ä¸Šè°ˆå…µï¼Œç†Ÿæ‚‰ä¸šåŠ¡é¢†åŸŸçš„æ¶æ„å¸ˆï¼Œæ‰èƒ½å¾ˆå¥½çš„ç†è§£éœ€æ±‚ï¼Œåšå‡ºåˆé€‚çš„æ–¹æ¡ˆã€‚äº’è”ç½‘å’Œç½‘ç»œå®‰å…¨æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªæ–¹å‘ï¼Œå³ä½¿ä½ ç†Ÿæ‚‰é‡Œé¢çš„å„ç§å…·ä½“æŠ€æœ¯ï¼Œä½†æ˜¯ä»¥äº’è”ç½‘çš„æ¶æ„æ¥åšç½‘ç»œå®‰å…¨äº§å“ï¼Œè‚¯å®šæ˜¯100%çš„å¤±è´¥ã€‚ æ¶æ„å¸ˆå¿…é¡»è¦æœ‰å¹¿åº¦çš„çŸ¥è¯†æ¶æ„å¸ˆè€ƒè™‘çš„é—®é¢˜å¿…é¡»å…¨é¢ï¼Œå¿…é¡»äº†è§£çš„è¦å¹¿ï¼Œå…·ä½“çš„ç»†èŠ‚å¯ä»¥ä¸å…³æ³¨ï¼Œå› ä¸ºç»†èŠ‚å˜åŒ–å¾ˆå¿«ã€‚å¾ˆå¤šå…·ä½“æŠ€æœ¯äººå‘˜å‡ºèº«çš„æ¶æ„å¸ˆï¼Œåªå…³æ³¨äºå…·ä½“çš„ç»†èŠ‚ï¼ŒæŸäº›æ–¹é¢åšçš„å¾ˆå¥½ï¼Œæ•´ä½“çš„æ€§èƒ½å¾ˆå·®ã€‚ æ¶æ„å¸ˆå¿…é¡»æ˜¯å†™ç¨‹åºçš„é«˜æ‰‹æ¶æ„å¸ˆä¸€èˆ¬éƒ½æ˜¯å¼€å‘äººå‘˜å‡ºèº«ï¼Œä¸€èˆ¬éƒ½æ˜¯å›¢é˜Ÿçš„æ ¸å¿ƒã€‚ä¼˜ç§€çš„æ¶æ„å¸ˆåº”è¯¥äº†è§£å›¢é˜Ÿä½¿ç”¨å„ç§æŠ€æœ¯ï¼Œæœ‰äº†è¿™äº›çŸ¥è¯†ï¼Œæ‰èƒ½å’Œå¼€å‘äººè½¯è¿›è¡Œæœ‰æ•ˆæ²Ÿé€šã€‚ æ¶æ„å¸ˆæ˜¯ä¼˜ç§€çš„æ²Ÿé€šäººå‘˜æ¶æ„å¸ˆä¸€å®šè¦ä¼šå¿½æ‚ ï¼Œè‡³å°‘è¦æ‰¯æ·¡ã€‚æ¶æ„å¸ˆä¸ä½†è¦æŒ‡å¯¼æœ¬éƒ¨é—¨å‘˜å·¥çš„å·¥ä½œï¼Œä¹Ÿè¦åè°ƒå…¶ä»–éƒ¨é—¨çš„èµ„æºï¼Œè¿˜è¦å‘ç”¨æˆ·æ”¶é›†éœ€æ±‚ï¼Œåˆ¶å®šè§„æ ¼è¯´æ˜ä¹¦ï¼Œé‡è¦çš„æŠŠç”¨æˆ·çš„ä¸åˆç†è¦æ±‚ç æ‰ï¼Œåˆç†éœ€æ±‚éµå¾ªè‡ªå·±çš„æ€è·¯ã€‚","categories":[{"name":"ä»–å±±ä¹‹çŸ³","slug":"ä»–å±±ä¹‹çŸ³","permalink":"http://yoursite.com/categories/ä»–å±±ä¹‹çŸ³/"}],"tags":[{"name":"æ¶æ„","slug":"æ¶æ„","permalink":"http://yoursite.com/tags/æ¶æ„/"}],"keywords":[{"name":"ä»–å±±ä¹‹çŸ³","slug":"ä»–å±±ä¹‹çŸ³","permalink":"http://yoursite.com/categories/ä»–å±±ä¹‹çŸ³/"}]},{"title":"ä»€ä¹ˆæ˜¯æµè®¡ç®—ï¼Ÿ","slug":"13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/æµå¼è®¡ç®—","date":"2016-02-07T00:00:00.000Z","updated":"2018-12-10T16:33:54.059Z","comments":true,"path":"2016/02/07/13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/æµå¼è®¡ç®—/","link":"","permalink":"http://yoursite.com/2016/02/07/13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/æµå¼è®¡ç®—/","excerpt":"","text":"è®¡ç®—åˆ†ç±»å¤§æ•°æ®çš„è®¡ç®—æ¨¡å¼ä¸»è¦åˆ†ä¸ºæ‰¹é‡è®¡ç®—ã€æµå¼è®¡ç®—ã€äº¤äº’è®¡ç®—ã€å›¾è®¡ç®—(graph computing)ç­‰ã€‚å…¶ä¸­ï¼Œæµå¼è®¡ç®—å’Œæ‰¹é‡è®¡ç®—æ˜¯ä¸¤ç§ä¸»è¦çš„å¤§æ•°æ®è®¡ç®—æ¨¡å¼ï¼Œåˆ†åˆ«é€‚ç”¨äºä¸åŒçš„å¤§æ•°æ®åº”ç”¨åœºæ™¯ã€‚ Google MapReduceã€Hadoopç­‰å¤„ç†å¤§è§„æ¨¡ æ•°æ®å˜å¾—ç®€å•ã€‚ä½†è¿™äº›å¤„ç†çš„æŠ€æœ¯çš„ç›®æ ‡éƒ½ä¸æ˜¯å®æ—¶æŠ€æœ¯ã€‚ä½†æ˜¯éšç€å¤§æ•°æ®ä¸šåŠ¡çš„å¿«é€Ÿå¢é•¿ï¼Œé’ˆå¯¹å¤§è§„æ¨¡æ•°æ®å¤„ç†çš„å®æ—¶è®¡ç®—å˜æˆäº†ä¸€ç§ä¸šåŠ¡ä¸Šçš„éœ€æ±‚ï¼ŒStormç±»ä¼¼çš„æ¡†æ¶æ­£æ˜¯åœ¨è¿™æ ·çš„éœ€æ±‚èƒŒæ™¯ä¸‹å‡ºç°çš„ã€‚ é€‚ç”¨æ€§å¯¹äºå…ˆå­˜å‚¨åè®¡ç®—ï¼Œå®æ—¶æ€§è¦æ±‚ä¸é«˜ï¼ŒåŒæ—¶æ•°æ®çš„å‡†ç¡®æ€§ã€å…¨é¢æ€§æ›´ä¸ºé‡è¦çš„åº”ç”¨åœºæ™¯ï¼Œæ‰¹é‡è®¡ç®—æ›´åŠ é€‚åˆã€‚ å¯¹äºæ— éœ€å…ˆå­˜å‚¨ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œæ•°æ®è®¡ç®—ï¼Œå®æ—¶æ€§è¦æ±‚å¾ˆä¸¥æ ¼ï¼Œä½†æ•°æ®çš„ç²¾ç¡®åº¦å¾€å¾€ä¸å¤ªè‹›åˆ»çš„ åº”ç”¨åœºæ™¯ï¼Œæµå¼è®¡ç®—å…·æœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚ æµè®¡ç®—çš„åŸç†å®æ—¶æµè®¡ç®—çš„åœºæ™¯å½’çº³èµ·æ¥å¤šåŠæ˜¯ï¼šä¸šåŠ¡ç³»ç»Ÿæ ¹æ®å®æ—¶çš„æ“ä½œ,ä¸æ–­ç”Ÿæˆäº‹ä»¶ï¼ˆæ¶ˆæ¯/è°ƒç”¨ï¼‰,ç„¶åå¼•èµ·ä¸€ç³»åˆ—çš„å¤„ç†åˆ†æ,è¿™ä¸ªè¿‡ç¨‹æ˜¯åˆ†æ•£åœ¨å¤šå°è®¡ç®—æœºä¸Šå¹¶è¡Œå®Œæˆçš„,çœ‹ä¸Šå»å°±åƒäº‹ä»¶è¿ç»­ä¸æ–­çš„æµç»å¤šä¸ªè®¡ç®—èŠ‚ç‚¹å¤„ç†,å½¢æˆä¸€ä¸ªå®æ—¶æµè®¡ç®—ç³»ç»Ÿã€‚ æµå¼è®¡ç®—ç‰¹å¾æµå¼è®¡ç®—æœ‰ç‚¹åƒæ•°æ®åº“é¢†åŸŸçš„è§¦å‘å™¨ï¼Œå¤§æ•°æ®æµå¼è®¡ç®—ç›®å‰ä¸»è¦ç”¨äºå¯¹åŠ¨æ€äº§ç”Ÿçš„æ•°æ®è¿›è¡Œå®æ—¶è®¡ç®—å¹¶åŠæ—¶åé¦ˆç»“æœï¼Œä½†å¾€å¾€ä¸è¦æ±‚ç»“æœç»å¯¹ç²¾ç¡®çš„åº”ç”¨åœºæ™¯ï¼Œåœ¨æ•°æ®çš„æœ‰æ•ˆæ—¶é—´å†…è·å–å…¶ä»·å€¼ï¼Œæ˜¯å¤§æ•°æ®æµå¼è®¡ç®—ç³»ç»Ÿçš„é¦–è¦è®¾è®¡ç›®æ ‡ã€‚ æµå¼è®¡ç®—ä¸­ï¼Œæ•°æ®å¾€å¾€æ˜¯æœ€è¿‘ä¸€ä¸ªæ—¶é—´çª—å£å†…çš„å¢é‡æ•°æ®ï¼Œå› æ­¤æ•°æ®æ—¶å»¶å¾€å¾€è¾ƒçŸ­ï¼Œå®æ—¶æ€§è¾ƒå¼ºï¼Œä½†æ•°æ®çš„ä¿¡æ¯é‡å¾€å¾€ç›¸å¯¹è¾ƒå°‘ï¼Œåªé™äºä¸€ä¸ªæ—¶é—´çª—å£å†…çš„ä¿¡æ¯ï¼Œä¸å…·æœ‰å…¨é‡ä¿¡æ¯ã€‚æµå¼è®¡ç®—å’Œæ‰¹é‡è®¡ç®—å…·æœ‰æ˜æ˜¾çš„ä¼˜åŠ£äº’è¡¥ç‰¹å¾ï¼Œåœ¨å¤šç§åº”ç”¨åœºåˆä¸‹å¯ä»¥å°†ä¸¤è€…ç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œé€šè¿‡å‘æŒ¥æµå¼è®¡ç®—çš„å®æ—¶æ€§ä¼˜åŠ¿å’Œæ‰¹é‡è®¡ç®—çš„è®¡ç®—ç²¾åº¦ä¼˜åŠ¿ï¼Œæ»¡è¶³å¤šç§åº”ç”¨åœºæ™¯åœ¨ä¸åŒé˜¶æ®µçš„æ•°æ®è®¡ç®—è¦æ±‚ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œå¤§æ•°æ®æµå¼è®¡ç®—åœºæ™¯å…·æœ‰ä»¥ä¸‹é²œæ˜ç‰¹å¾ï¼šåœ¨æµå¼è®¡ç®—ç¯å¢ƒä¸­ï¼Œæ•°æ®æ˜¯ä»¥å…ƒç»„ä¸ºå•ä½ï¼Œä»¥è¿ç»­æ•°æ®æµçš„å½¢æ€ï¼ŒæŒç»­åœ°åˆ°è¾¾å¤§æ•°æ®æµå¼è®¡ç®—å¹³å°ã€‚æ•°æ®å¹¶ä¸æ˜¯ä¸€æ¬¡å…¨éƒ¨å¯ç”¨ï¼Œä¸èƒ½å¤Ÿä¸€æ¬¡å¾—åˆ°å…¨é‡æ•°æ®ï¼Œåªèƒ½åœ¨ä¸åŒçš„æ—¶é—´ç‚¹ï¼Œä»¥å¢é‡çš„æ–¹å¼ï¼Œé€æ­¥å¾—åˆ°ç›¸åº”æ•°æ®ã€‚ æµå¼è®¡ç®—åº”ç”¨åœºæ™¯å…·ä½“åº”ç”¨åœºæ™¯é‡‘èåœ¨é‡‘èé“¶è¡Œçš„å®æ—¶ç›‘æ§åœºæ™¯ä¸­ï¼Œå¤§æ•°æ®æµå¼è®¡ç®—å¾€å¾€ä½“ç°å‡ºè‡ªèº«çš„ä¼˜åŠ¿ã€‚ä¾‹å¦‚ï¼šåœ¨é£é™©ç®¡ç†æ–¹é¢ï¼ŒåŒ…æ‹¬ä¿¡ç”¨å¡è¯ˆéª—ã€ä¿é™©è¯ˆéª—ã€è¯åˆ¸äº¤æ˜“è¯ˆéª—ã€ç¨‹åºäº¤æ˜“ç­‰ï¼Œéœ€è¦å®æ—¶è·Ÿè¸ªå‘ç°ï¼›è¥é”€ç®¡ç†æ–¹é¢ï¼Œæ ¹æ®å®¢æˆ·ä¿¡ç”¨å¡æ¶ˆè´¹è®°å½•ï¼ŒæŒæ¡å®¢æˆ·çš„æ¶ˆè´¹ä¹ æƒ¯å’Œåå¥½ï¼Œé¢„æµ‹å®¢æˆ·æœªæ¥çš„æ¶ˆè´¹éœ€æ±‚ï¼Œå¹¶ä¸ºå…¶æ¨èä¸ªæ€§åŒ–çš„é‡‘èäº§å“å’ŒæœåŠ¡ã€‚ äº’è”ç½‘é¢†åŸŸåœ¨äº’è”ç½‘é¢†åŸŸä¸­ï¼Œå¤§æ•°æ®æµå¼è®¡ç®—çš„å…¸å‹åº”ç”¨åœºæ™¯ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æ–¹é¢ï¼šæœç´¢å¼•æ“æä¾›å•†ä»¬å¾€å¾€ä¼šåœ¨åé¦ˆç»™å®¢æˆ·çš„æœç´¢é¡µé¢ä¸­åŠ å…¥ç‚¹å‡»ä»˜è´¹çš„å¹¿å‘Šä¿¡æ¯ï¼Œæ’å…¥ä»€ä¹ˆå¹¿å‘Šã€åœ¨ä»€ä¹ˆä½ç½®æ’å…¥è¿™äº›å¹¿å‘Šæ‰èƒ½å¾—åˆ°æœ€ä½³æ•ˆæœï¼Œå¾€å¾€éœ€è¦æ ¹æ®å®¢æˆ·çš„æŸ¥è¯¢åå¥½ã€æµè§ˆå†å²ã€åœ°ç†ä½ç½®ç­‰ç»¼åˆè¯­ä¹‰è¿›è¡Œå†³å®šï¼Œè€Œè¿™ç§è®¡ç®—å¯¹äºæœç´¢æœåŠ¡å™¨è€Œè¨€å¾€å¾€æ˜¯å¤§é‡çš„ã€‚ä¸€æ–¹é¢ï¼Œæ¯æ—¶æ¯åˆ»éƒ½ä¼šæœ‰å¤§é‡å®¢æˆ·è¿›è¡Œæœç´¢è¯·æ±‚ï¼›å¦ä¸€æ–¹é¢ï¼Œæ•°æ®è®¡ç®—çš„æ—¶æ•ˆæ€§æä½ï¼Œéœ€è¦ä¿è¯æçŸ­çš„å“åº”æ—¶é—´ã€‚åŒç†ï¼Œæˆ‘ä»¬æ„å»ºç¤¾äº¤ç½‘ç«™ï¼Œä¸€æ ·éœ€è¦å®æ—¶åˆ†æç”¨æˆ·çš„çŠ¶æ€ä¿¡æ¯ï¼ŒåŠæ—¶æä¾›æœ€æ–°çš„ç”¨æˆ·åˆ†äº«ä¿¡æ¯åˆ°ç›¸å…³çš„ç¾¤ä½“ï¼Œå‡†ç¡®åœ°æ¨èæœ‹å‹ã€æ¨èä¸»é¢˜ã€æå‡ç”¨æˆ·ä½“éªŒï¼Œå¹¶èƒ½åŠæ—¶å‘ç°å’Œå±è”½å„ç§æ¬ºéª—è¡Œä¸ºï¼Œè‡³æ­¤å¤§æ•°æ®æµå¼è®¡ç®—çš„æ–¹æ³•å°±ä¼šå¸®åŠ©æˆ‘ä»¬è¾¾æˆè¿™ç§ç›®æ ‡å®šä½ã€‚ ç‰©è”ç½‘é¢†åŸŸåœ¨ç‰©è”ç½‘é¢†åŸŸä¸­ï¼Œå¤§æ•°æ®æµå¼è®¡ç®—çš„å…¸å‹åº”ç”¨åœºæ™¯ä¸»è¦æœ‰æ™ºèƒ½äº¤é€šå’Œç¯å¢ƒç›‘æµ‹ã€‚é€šè¿‡ä¼ æ„Ÿå™¨å®æ—¶æ„ŸçŸ¥è½¦è¾†ã€é“è·¯çš„çŠ¶æ€ï¼Œå¹¶åˆ†æå’Œé¢„æµ‹ä¸€å®šèŒƒå›´ã€ä¸€æ®µæ—¶é—´å†…çš„é“è·¯æµé‡æƒ…å†µï¼Œä»¥ä¾¿æœ‰æ•ˆåœ°è¿›è¡Œåˆ†æµã€è°ƒåº¦å’ŒæŒ‡æŒ¥ï¼›ç¯å¢ƒç›‘æ§åˆ™é€šè¿‡ä¼ æ„Ÿå™¨å’Œç§»åŠ¨ç»ˆç«¯ï¼Œå¯¹ä¸€ä¸ªåœ°åŒºçš„ç¯å¢ƒç»¼åˆæŒ‡æ ‡è¿›è¡Œå®æ—¶ç›‘æ§ã€è¿œç¨‹æŸ¥çœ‹ã€æ™ºèƒ½è”åŠ¨ã€è¿œç¨‹æ§åˆ¶ï¼Œç³»ç»Ÿåœ°è§£å†³ç»¼åˆç¯å¢ƒé—®é¢˜ã€‚è¿™äº›å¯¹è®¡ç®—ç³»ç»Ÿçš„å®æ—¶æ€§ã€ååé‡ã€å¯é æ€§ç­‰æ–¹é¢éƒ½æå‡ºäº†å¾ˆé«˜è¦æ±‚ã€‚ æµè®¡ç®—æ¡†æ¶ æµå¼å¤§æ•°æ®å¤„ç†çš„ä¸‰ç§æ¡†æ¶ï¼šStormï¼ŒSparkå’ŒSamza æ¯”è¾ƒå…·ä½“å‚è§http://www.csdn.net/article/2015-03-09/2824135 å‚è€ƒç½‘ç«™ å‰–æ å¤§æ•°æ®æµå¼è®¡ç®—åœºæ™¯ç‰¹å¾ å¤§æ•°æ®æµå¼è®¡ç®—åº”ç”¨çš„ç§ç§ å®æ—¶è®¡ç®—ï¼Œæµæ•°æ®å¤„ç†ç³»ç»Ÿç®€ä»‹ä¸ç®€å•åˆ†æ Stormå®æ—¶å¤„ç†æ–¹æ¡ˆæ¶æ„ å®æ—¶å¤„ç†æ–¹æ¡ˆæ¶æ„","categories":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}],"tags":[{"name":"æµè®¡ç®—","slug":"æµè®¡ç®—","permalink":"http://yoursite.com/tags/æµè®¡ç®—/"}],"keywords":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}]},{"title":"åˆ†å¸ƒå¼åŸºç¡€","slug":"13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/åˆ†å¸ƒå¼åŸºç¡€","date":"2016-02-07T00:00:00.000Z","updated":"2018-12-10T16:33:35.858Z","comments":true,"path":"2016/02/07/13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/åˆ†å¸ƒå¼åŸºç¡€/","link":"","permalink":"http://yoursite.com/2016/02/07/13åŸºç¡€æŠ€æœ¯/åˆ†å¸ƒå¼ç†è®º/åˆ†å¸ƒå¼åŸºç¡€/","excerpt":"","text":"#åˆ†å¸ƒå¼æ¶æ„é£æ ¼# å¸¸è§çš„åˆ†å¸ƒå¼åº”ç”¨æ¶æ„é£æ ¼æœ‰ä¸‰ç§ï¼š åˆ†å¸ƒå¼å¯¹è±¡ï¼ˆDistributed Objectsï¼Œç®€ç§°DOï¼‰ è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRemote Procedure Callï¼Œç®€ç§°RPCï¼‰ è¡¨è¿°æ€§çŠ¶æ€è½¬ç§»ï¼ˆRepresentational State Transferï¼Œç®€ç§°REST DOæ¶æ„å®ä¾‹æœ‰CORBA/RMI/EJB/DCOM/.NET Remotingç­‰ç­‰,DOé£æ ¼çš„æ¶æ„é€šå¸¸éƒ½æ˜¯ä¸æŸç§ç¼–ç¨‹è¯­è¨€ç»‘å®šçš„ã€‚ RPCæ¶æ„å®ä¾‹æœ‰SOAP/XML-RPC/Hessian/Flash AMF/DWRç­‰ç­‰ï¼ŒRPCä¸­æ²¡æœ‰ä½¿ç”¨è¶…æ–‡æœ¬ï¼Œå“åº”çš„å†…å®¹ä¸­åªåŒ…å«æ¶ˆæ¯æœ¬èº«ã€‚ restæ¶æ„å®ä¾‹æœ‰HTTP/WebDAV,RESTä¸­çš„èµ„æºï¼Œåˆ™å®Œå…¨ä¸­ç«‹äºå¼€å‘å¹³å°å’Œç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•ç¼–ç¨‹è¯­è¨€æ¥å®ç°ã€‚RESTä½¿ç”¨äº†è¶…æ–‡æœ¬ï¼Œå¯ä»¥å®ç°æ›´å¤§ç²’åº¦çš„äº¤äº’ï¼Œäº¤äº’çš„æ•ˆç‡æ¯”RPCæ›´é«˜ã€‚ #æ¶æ„æ¨¡å‹# é‡‡å–SOAçš„æ¶æ„æ¨¡å‹é‡‡å–EDAçš„æ¶æ„æ¨¡å‹ ##SOA ###Web servicesä¸SOA æ ¹æ®2003å¹´4æœˆçš„GartneræŠ¥é“ï¼ŒYefim V. Natiså°±è¿™ä¸ªé—®é¢˜æ˜¯è¿™æ ·è§£é‡Šçš„ï¼šâ€œWebæœåŠ¡æ˜¯æŠ€æœ¯è§„èŒƒï¼Œè€ŒSOAæ˜¯è®¾è®¡åŸåˆ™ã€‚ç‰¹åˆ«æ˜¯WebæœåŠ¡ä¸­çš„WSDLï¼Œæ˜¯ä¸€ä¸ªSOAé…å¥—çš„æ¥å£å®šä¹‰æ ‡å‡†ï¼šè¿™æ˜¯WebæœåŠ¡å’ŒSOAçš„æ ¹æœ¬è”ç³»ã€‚ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼ŒSOAæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œè€ŒWebæœåŠ¡æ˜¯åˆ©ç”¨ä¸€ç»„æ ‡å‡†å®ç°çš„æœåŠ¡,WebæœåŠ¡æ˜¯å®ç°SOAçš„æ–¹å¼ä¹‹ä¸€ã€‚ ###Web servicesä½¿ç”¨çš„æŠ€æœ¯ XMLï¼šXMLæ˜¯åœ¨webä¸Šä¼ é€ç»“æ„åŒ–æ•°æ®çš„ä¼Ÿå¤§æ–¹å¼ï¼ŒWeb servicesè¦ä»¥ä¸€ç§å¯é çš„è‡ªåŠ¨çš„æ–¹å¼æ“ä½œæ•°æ® ã€‚ SOAPï¼šSOAPä½¿ç”¨XMLæ¶ˆæ¯è°ƒç”¨è¿œç¨‹æ–¹æ³•ï¼Œè¿™æ ·web serviceså¯ä»¥é€šè¿‡HTTPåè®®çš„postå’Œgetæ–¹æ³•ä¸è¿œç¨‹æœºå™¨äº¤äº’ï¼Œè€Œä¸”ï¼ŒSOAPæ›´åŠ å¥å£®å’Œçµæ´»æ˜“ç”¨ï¼›SOAPåŸºäºHTTPçš„ï¼Œåœ¨httpåè®®ä¸‹ä¼ è¾“xmlæ–‡ä»¶ã€‚ å…¶ä»– : åƒUDDIå’ŒWSDLæŠ€æœ¯,ä¸XMLå’ŒSOAPæŠ€æœ¯ç´§å¯†ç»“åˆç”¨äºæœåŠ¡å‘ç° ###Web servicesè°ƒç”¨è¿‡ç¨‹ Web Serviceå®¢æˆ·ç«¯è°ƒç”¨Web Serviceçš„åŸºæœ¬è¿‡ç¨‹ï¼š æ„é€ SOAPè¯·æ±‚æ¶ˆæ¯ï¼ˆå°†æœ¬åœ°æ•°æ®å¯¹è±¡è½¬æ¢ä¸ºSOAPæ¶ˆæ¯ï¼‰ å‘é€SOAPæ¶ˆæ¯åˆ°Web ServiceæœåŠ¡å™¨çš„æŒ‡å®šç«¯å£ æ¥æ”¶SOAPå“åº”æ¶ˆæ¯ å°†SOAPå“åº”æ¶ˆæ¯è½¬æ¢ä¸ºæœ¬åœ°æ•°æ®å¯¹è±¡ webServiceæ•ˆç‡è¾ƒæ…¢,ä¼ è¾“çš„æ˜¯æ–‡æœ¬, è€ŒEJBå’ŒCORBAä¼ è¾“çš„æ˜¯äºŒè¿›åˆ¶,æ•ˆç‡è¾ƒå¥½å¯ä»¥è¿‘è§†çš„ç†è§£SOAP=RPC+HTTP+XMLï¼šé‡‡ç”¨HTTPä½œä¸ºåº•å±‚é€šè®¯åè®®ï¼›RPCä½œä¸ºä¸€è‡´æ€§çš„è°ƒç”¨é€”å¾„ï¼ŒXMLä½œä¸ºæ•°æ®ä¼ é€çš„æ ¼å¼ï¼Œå…è®¸æœåŠ¡æä¾›è€…å’ŒæœåŠ¡å®¢æˆ·ç»è¿‡é˜²ç«å¢™åœ¨INTERNETè¿›è¡Œé€šè®¯äº¤äº’ã€‚ ä½†è¿™ä¸ªè¿‡ç¨‹ï¼Œç”±JAX-WSè§„èŒƒæ¥å¤„ç†ï¼ŒJAX-WSæ˜¯ä¸€ç»„XML web servicesçš„JAVA APIï¼Œåœ¨JAX-WSä¸­ï¼Œä¸€ä¸ªè¿œç¨‹è°ƒç”¨å¯ä»¥è½¬æ¢ä¸ºä¸€ä¸ªåŸºäºXMLçš„åè®®ä¾‹å¦‚SOAPï¼Œåœ¨ä½¿ç”¨JAX-WSè¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…ä¸éœ€è¦ç¼–å†™ä»»ä½•ç”Ÿæˆå’Œå¤„ç†SOAPæ¶ˆæ¯çš„ä»£ç ã€‚JAX-WSçš„è¿è¡Œæ—¶å®ç°ä¼šå°†è¿™äº›APIçš„è°ƒç”¨è½¬æ¢æˆä¸ºå¯¹åº”çš„SOAPæ¶ˆæ¯ã€‚javaä¸­æœ€æµè¡Œçš„æ˜¯cxf,æä¾›äº†å¯¹ JAX-WS å…¨é¢çš„æ”¯æŒã€‚ ###SOAPæ€§èƒ½è€ƒè™‘ SOAP ä½¿ç”¨ HTTP ä¼ é€ XMLï¼Œå°½ç®¡HTTP ä¸æ˜¯æœ‰æ•ˆç‡çš„é€šè®¯åè®®ï¼Œè€Œä¸” XML è¿˜éœ€è¦é¢å¤–çš„æ–‡ä»¶è§£æï¼ˆparseï¼‰ï¼Œä¸¤è€…ä½¿å¾—äº¤æ˜“çš„é€Ÿåº¦å¤§å¤§ä½äºå…¶å®ƒæ–¹æ¡ˆã€‚ä½†æ˜¯XML æ˜¯ä¸€ä¸ªå¼€æ”¾ã€å¥å…¨ã€æœ‰è¯­ä¹‰çš„è®¯æ¯æœºåˆ¶ï¼Œè€Œ HTTP æ˜¯ä¸€ä¸ªå¹¿æ³›åˆèƒ½é¿å…è®¸å¤šå…³äºé˜²ç«å¢™çš„é—®é¢˜ï¼Œä»è€Œä½¿SOAPå¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚ä½†æ˜¯å¦‚æœæ•ˆç‡å¯¹ä½ æ¥è¯´å¾ˆé‡è¦ï¼Œé‚£ä¹ˆä½ åº”è¯¥å¤šè€ƒè™‘å…¶å®ƒçš„æ–¹å¼ï¼Œè€Œä¸è¦ç”¨ SOAPã€‚ XML-RPCå’ŒSOAPéƒ½æ˜¯åŸºäºXMLæ ¼å¼çš„æ¶ˆæ¯äº¤æ¢.è€ŒJSON-RPCæ˜¯åŸºäºJSONæ ¼å¼çš„æ¶ˆæ¯äº¤æ¢ï¼ŒJSONæ¯”XMLæ›´åŠ è½»å·§ï¼Œå¹¶ä¸”éå¸¸å®¹æ˜“åœ¨é¡µé¢JSä¸­ä½¿ç”¨ ###Webservice vs RPC rpcæœ¬èº«æ²¡æœ‰è§„èŒƒï¼Œåªè¦æ˜¯å®ç°äº†è¿œç¨‹è°ƒç”¨çš„ï¼Œéƒ½æ˜¯rpcï¼Œå®ç°æ–¹å¼æœ‰RMI,webservice. webserviceåªæ˜¯ä¸€ç§å®ç°æ–¹å¼rpcæœ‰ä¸€ä¸ªé€šç”¨çš„ç»“æ„ï¼Œå°±æ˜¯serialization/deserialization+stub+skeletonrpcæ˜¯ä¸€ç§è¿œç¨‹è°ƒç”¨è®¾è®¡æ€ç»´ï¼Œå¼ºè°ƒçš„æ˜¯é€æ˜çš„è°ƒç”¨è¿œç¨‹çš„æ–¹æ³•ï¼Œçœ‹èµ·æ¥å°±è·Ÿæœ¬åœ°è°ƒç”¨ä¸€æ ·ã€‚ ##EDAçš„æ¶æ„æ¨¡å‹ #æ¶æ„é€‰å‹è¦ç´  ##é€šä¿¡åè®®çš„é€‰æ‹©## Http/Https, ä¾‹å¦‚webserivcetcp ä¾‹å¦‚HSFï¼ŒDubboï¼ŒFacebook thrift Reactoræ¨¡å‹ç»Ÿä¸€è°ƒåº¦é•¿è¿æ¥å’ŒçŸ­è¿æ¥åè®®æ ˆï¼Œæ— è®ºåœ¨æ€§èƒ½/å¯é æ€§/è¿˜æ˜¯å¯ç»´æŠ¤æ€§ï¼Œéƒ½å¯ä»¥â€œç§’æ€â€åŸºäºä¼ ç»Ÿçš„BIOå¼€å‘çš„åº”ç”¨æœåŠ¡å™¨å’Œå„ç§åè®®æ ˆã€‚ ##æ•°æ®äº¤æ¢æ ¼å¼## é‡‡ç”¨JSONåè®®æ ¼å¼è¿›è¡Œæ•°æ®äº¤æ¢xmlåè®®æ ¼å¼è¿›è¡Œæ•°æ®äº¤æ¢äºŒè¿›åˆ¶ ##æ•°æ®ä¼ è¾“å®‰å…¨## ä¸ºäº†ä¿è¯æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­çš„æ•°æ®çœŸå®æ€§å’Œå®Œæ•´æ€§ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ç­¾åï¼Œåœ¨æ¥æ”¶ç­¾åæ•°æ®ä¹‹åè¿›è¡Œç­¾åæ ¡éªŒã€‚ ç›®å‰æ”¯æŒç­¾åç®—æ³•ï¼šRSAã€MD5ï¼Œé»˜è®¤RSAã€‚ ##å¸¸ç”¨ä¸šåŠ¡ç»„ä»¶## å·¥ä½œæµ è§„åˆ™å¼•æ“ æ¶ˆæ¯é˜Ÿåˆ— ç¼“å­˜ ç»Ÿä¸€å­˜å‚¨ ç»Ÿä¸€åŠ å¯† æ¶ˆæ¯é˜Ÿåˆ— æ€»ç»“å‚è€ƒ WebServiceä¸ä½¿ç”¨é£æ ¼RPC/SOA/REST RESTful Webservice å’Œ SOAP Webserivce å¯¹æ¯”åŠåŒºåˆ« EventBusä½¿ç”¨è¯¦è§£(ä¸€)â€”â€”åˆæ­¥ä½¿ç”¨EventBus","categories":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}],"tags":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼/"}],"keywords":[{"name":"åŸºç¡€æŠ€æœ¯","slug":"åŸºç¡€æŠ€æœ¯","permalink":"http://yoursite.com/categories/åŸºç¡€æŠ€æœ¯/"}]},{"title":"Scalaç±»çš„å­¦ä¹ ","slug":"22programming/scala/scalaä¸­ç±»çš„å­¦ä¹ ","date":"2016-02-07T00:00:00.000Z","updated":"2018-05-27T09:06:00.101Z","comments":true,"path":"2016/02/07/22programming/scala/scalaä¸­ç±»çš„å­¦ä¹ /","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/scala/scalaä¸­ç±»çš„å­¦ä¹ /","excerpt":"","text":"ç±»çš„å­¦ä¹ å•ä¾‹å¯¹è±¡ object Timer { var count = 0 def currentCount(): Long = { count += 1 count } } æ‰§è¡Œç»“æœ scala&gt; Timer.currentCount() res0: Long = 1 ä¼´ç”Ÿå¯¹è±¡å•ä¾‹å¯¹è±¡å¯ä»¥å’Œç±»å…·æœ‰ç›¸åŒçš„åç§°ï¼Œæ­¤æ—¶è¯¥å¯¹è±¡ä¹Ÿè¢«ç§°ä¸ºâ€œä¼´ç”Ÿå¯¹è±¡â€ã€‚é€šå¸¸å°†ä¼´ç”Ÿå¯¹è±¡ä½œä¸ºå·¥å‚ä½¿ç”¨ class Bar(foo: String) object Bar { def apply(foo: String) = new Bar(foo) } ä½¿ç”¨ä¼´ç”Ÿå¯¹è±¡çš„applyæ–¹æ³•æ˜¯Scalaä¸­æ„å»ºå¯¹è±¡çš„å¸¸ç”¨æ‰‹æ³•ã€‚ä¾‹å¦‚ï¼ŒArray(1, 4, 9,16)è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç”¨çš„å°±æ˜¯Arrayä¼´ç”Ÿå¯¹è±¡çš„applyæ–¹æ³• applyæ˜¯ä»€ä¹ˆï¼Ÿ å½“ç±»æˆ–å¯¹è±¡æœ‰ä¸€ä¸ªä¸»è¦ç”¨é€”çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨apply object FooMaker { def apply() = println(&quot;hello world&quot;) def main(arg: Array[String]) { val newFoo = FooMaker(); } } #Trait æ¦‚å¿µä¸Šç±»ä¼¼Javaçš„interface, ä½†æ˜¯æ›´å¼ºå¤§ trait Philosophical { def philosophize() { println(â€œI consume memory, therefore I am!â€) }}mix inæœ‰ä¸¤ç§æ–¹å¼, extendå’Œwith extendclass Frog extends Philosophical { //mix in Philosophical trait override def toString = &quot;green&quot; } withwith, éœ€è¦æ˜¾å¼çš„æŒ‡æ˜è¶…ç±» class Animal trait HasLegs class Frog extends Animal with Philosophical with HasLegs { override def toString = &quot;green&quot; } TraitçœŸæ­£çš„ä½œç”¨åœ¨äº, æ¨¡å—å°è£…, å¯ä»¥æŠŠç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½å°è£…åœ¨traitä¸­, å¹¶åœ¨éœ€è¦çš„æ—¶å€™è¿›è¡Œmix in, å…¶ä»–å‚è€ƒç½‘ç«™ Hadoopå­¦ä¹ ç¬”è®°â€”10.Shuffleè¿‡ç¨‹é‚£ç‚¹äº‹å„¿","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Scala","slug":"Scala","permalink":"http://yoursite.com/tags/Scala/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Javaæ³›å‹ä»‹ç»","slug":"22programming/scala/javaèŒƒå‹ä»‹ç»","date":"2016-02-07T00:00:00.000Z","updated":"2018-05-27T09:06:00.100Z","comments":true,"path":"2016/02/07/22programming/scala/javaèŒƒå‹ä»‹ç»/","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/scala/javaèŒƒå‹ä»‹ç»/","excerpt":"","text":"superå’ŒextentsList&lt;? extends E&gt;è¡¨ç¤ºè¯¥listé›†åˆä¸­å­˜æ”¾çš„éƒ½æ˜¯Eçš„å­ç±»å‹ï¼ˆåŒ…æ‹¬Eè‡ªèº«ï¼‰ï¼Œç”±äºEçš„å­ç±»å‹å¯èƒ½æœ‰å¾ˆå¤šï¼Œä½†æ˜¯æˆ‘ä»¬å­˜æ”¾å…ƒç´ æ—¶å®é™…ä¸Šåªèƒ½å­˜æ”¾å…¶ä¸­çš„ä¸€ç§å­ç±»å‹ï¼ˆè¿™æ˜¯ä¸ºäº†æ³›å‹å®‰å…¨ï¼Œå› ä¸ºå…¶ä¼šåœ¨ç¼–è¯‘æœŸé—´ç”Ÿæˆæ¡¥æ¥æ–¹æ³•è¯¥æ–¹æ³•ä¸­ä¼šå‡ºç°å¼ºåˆ¶è½¬æ¢ï¼Œè‹¥å‡ºç°å¤šç§å­ç±»å‹ï¼Œåˆ™ä¼šå¼ºåˆ¶è½¬æ¢å¤±è´¥ï¼‰ï¼Œä¾‹å­å¦‚ä¸‹ï¼š List&lt;? extends Number&gt; list=new ArrayList&lt;Number&gt;(); list.add(4.0);//ç¼–è¯‘é”™è¯¯ list.add(3);//ç¼–è¯‘é”™è¯¯ ä¸Šä¾‹ä¸­æ·»åŠ çš„å…ƒç´ ç±»å‹ä¸æ­¢ä¸€ç§ï¼Œè¿™æ ·ç¼–è¯‘å™¨å¼ºåˆ¶è½¬æ¢ä¼šå¤±è´¥ï¼Œä¸ºäº†å®‰å…¨ï¼ŒJavaåªèƒ½å°†å…¶è®¾è®¡æˆä¸èƒ½æ·»åŠ å…ƒç´ ã€‚ è™½ç„¶List&lt;? extends E&gt;ä¸èƒ½æ·»åŠ å…ƒç´ ï¼Œä½†æ˜¯ç”±äºå…¶ä¸­çš„å…ƒç´ éƒ½æœ‰ä¸€ä¸ªå…±æ€§â€“æœ‰å…±åŒçš„çˆ¶ç±»ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è·å–å…ƒç´ æ—¶å¯ä»¥å°†ä»–ä»¬ç»Ÿä¸€å¼ºåˆ¶è½¬æ¢ä¸ºEç±»å‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºgetåŸåˆ™ã€‚ å¯¹äºList&lt;? super E&gt;å…¶listä¸­å­˜æ”¾çš„éƒ½æ˜¯Eçš„çˆ¶ç±»å‹å…ƒç´ ï¼ˆåŒ…æ‹¬Eï¼‰ï¼Œæˆ‘ä»¬åœ¨å‘å…¶æ·»åŠ å…ƒç´ æ—¶ï¼Œåªèƒ½å‘å…¶æ·»åŠ Eçš„å­ç±»å‹å…ƒç´ ï¼ˆåŒ…æ‹¬Eç±»å‹ï¼‰ï¼Œè¿™æ ·åœ¨ç¼–è¯‘æœŸé—´å°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºEç±»å‹æ—¶æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå› æ­¤å¯ä»¥æ·»åŠ å…ƒç´ ï¼Œä¾‹å­å¦‚ä¸‹ï¼š List&lt;? super Number&gt; list=new ArrayList(); list.add(2.0); list.add(3.0);ä½†æ˜¯ï¼Œç”±äºè¯¥é›†åˆä¸­çš„å…ƒç´ éƒ½æ˜¯Eçš„çˆ¶ç±»å‹ï¼ˆåŒ…æ‹¬Eï¼‰ï¼Œå…¶ä¸­çš„å…ƒç´ ç±»å‹ä¼—å¤šï¼Œåœ¨è·å–å…ƒç´ æ—¶æˆ‘ä»¬æ— æ³•åˆ¤æ–­æ˜¯å“ªä¸€ç§ç±»å‹ï¼Œæ•…è®¾è®¡æˆä¸èƒ½è·å–å…ƒç´ ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºputåŸåˆ™ã€‚ å®é™…ä¸Šï¼Œæˆ‘ä»¬é‡‡ç”¨extendsï¼Œsuperæ¥æ‰©å±•æ³›å‹çš„ç›®çš„æ˜¯ä¸ºäº†å¼¥è¡¥ä¾‹å¦‚Liståªèƒ½å­˜æ”¾ä¸€ç§ç‰¹å®šç±»å‹æ•°æ®çš„ä¸è¶³ï¼Œå°†å…¶æ‰©å±•ä¸ºList&lt;? extends E&gt; ä½¿å…¶å¯ä»¥æ¥æ”¶Eçš„å­ç±»å‹ä¸­çš„ä»»ä½•ä¸€ç§ç±»å‹å…ƒç´ ï¼Œè¿™æ ·ä½¿å®ƒçš„ä½¿ç”¨èŒƒå›´æ›´å¹¿ã€‚ Java å’Œ Scala å‡æ”¯æŒåå˜ï¼Œé€†å˜å’Œéè½¬åŒ–ç±»å‹ã€‚ç„¶è€Œï¼Œåœ¨ Scala ä¸­ï¼Œè½¬åŒ–è¡Œä¸ºçš„å®šä¹‰æ˜¯ç±»å‹å£°æ˜çš„ä¸€éƒ¨åˆ†ï¼Œç§°ä¸ºè½¬åŒ–æ ‡è®°ï¼ˆvariance annotationï¼‰ã€‚ è€ŒJava ä¸­å‚æ•°åŒ–çš„ç±»å‹åœ¨å®šä¹‰æ—¶å¹¶æœªå£°æ˜ç»§æ‰¿è½¬åŒ–è¡Œä¸ºï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨è¯¥ç±»å‹æ—¶ï¼Œä¹Ÿå°±æ˜¯åœ¨å£°æ˜å˜é‡æ—¶ï¼Œæ‰æŒ‡å®šå‚æ•°åŒ–ç±»å‹çš„è½¬åŒ–è¡Œä¸ºã€‚ WoodDuck ã€‹ Duck ã€‹Animal å®šä¹‰ä¸€ä¸ªzooå¯¹è±¡ï¼Œå¯ä»¥æ–°å¢åŠ¨ç‰©ã€‚ public class Zoo&lt;T&gt; { List&lt;Object&gt; list = new ArrayList(); public void add(T animal) { list.add(animal); } } public class ZoosTest { public static void main(String[] args) { Zoo&lt;Animal&gt; zoo = new Zoo&lt;Animal&gt;(); zoo.add(new Duck()); // Zoo&lt;Animal&gt; zoo1 = new Zoo&lt;Duck&gt;(); //ç¼–è¯‘é”™è¯¯ } } Zoo zoo1 = new Zoo()å‡ºç°ç¼–è¯‘é”™è¯¯ï¼Ÿ å¦‚ä½•è§£å†³ï¼Ÿ &lt;? extends T&gt;å’Œ&lt;? super T&gt;å°±æ˜¯ä¸ºæ­¤å‡ºç°çš„ã€‚ superè¡¨ç¤ºä¸‹ç•Œï¼Œè€Œextendsè¡¨ç¤ºä¸Šç•Œ superçš„ä½¿ç”¨ä¸¾ä¾‹ï¼Œ public static void main(String[] args) { List&lt;? super Duck&gt; list3 = new ArrayList&lt;Duck&gt;(); list3.add(new Duck()); list3.add(new WoodDuck()); // list3.add(new Animal()); List&lt;? super Duck&gt; list4 = new ArrayList&lt;Animal&gt;(); list4.add(new Duck()); list4.add(new WoodDuck()); //list4.add(new Animal()); //List&lt;? super Duck&gt; list5 = new ArrayList&lt;WoodDuck&gt;(); //ä¸æ˜¯çˆ¶ç±»,ä¸èƒ½ç¼–è¯‘ } List&lt;? super Duck&gt; list3 è¡¨ç¤ºå…ƒç´ çˆ¶ç±»è‡³å°‘ä¸ºDuck extendsä¸¾ä¾‹ List&lt;? extends Duck&gt; list3 = new ArrayList&lt;Duck&gt;(); list3.add(new WoodDuck()); ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ ä¸‹é¢çš„æ˜¯æ­£ç¡®çš„ List&lt; Duck&gt; list3 = new ArrayList&lt;Duck&gt;(); list3.add(new WoodDuck()); å‚è€ƒç½‘ç«™ æ–‡æ¡£ http://hongjiang.info/message/http://zhuanlan.51cto.com/art/201703/534053.htm","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Scalaä¸­çš„ç±»å‹ç³»ç»Ÿ","slug":"22programming/scala/Scalaä¸­çš„ç±»å‹ç³»ç»Ÿ","date":"2016-02-07T00:00:00.000Z","updated":"2018-05-27T09:06:00.100Z","comments":true,"path":"2016/02/07/22programming/scala/Scalaä¸­çš„ç±»å‹ç³»ç»Ÿ/","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/scala/Scalaä¸­çš„ç±»å‹ç³»ç»Ÿ/","excerpt":"","text":"Scalaä¸­çš„ç±»å‹ç³»ç»Ÿå­¦ä¹ Scalaä¸­å®šä¹‰ç±»å‹çš„ä¸¤ç§æ–¹å¼åœ¨Scalaå½“ä¸­å¯ä»¥ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼å®šä¹‰ç±»å‹: å®šä¹‰ç±»ã€ç‰¹è´¨æˆ–å¯¹è±¡ ç›´æ¥ç”¨typeå…³é”®å­—å®šä¹‰ç±»å‹ åœ¨Scalaå½“ä¸­ï¼Œæ ‡æ³¨ç±»å‹çš„æ—¶å€™å¯ä»¥ç›´æ¥ç”¨ç±»å’Œç‰¹è´¨çš„åå­—æ¥å¼•ç”¨å…¶ç±»å‹ï¼Œè¦å¼•ç”¨å¯¹è±¡çš„ç±»å‹ï¼Œéœ€è¦ç”¨å¯¹è±¡çš„typeæˆå‘˜æ¥å¼•ç”¨å…¶ç±»å‹ã€‚ Scalaä¸­çš„è·¯å¾„ä¾èµ–Scalaä¸­çš„è‡ªèº«ç±»å‹ä»¥åŠè‡ªèº«ç±»å‹çš„é™å®šScalaä¸­çš„ä¾èµ–æ³¨å…¥Scalaä¸­çš„é“¾å¼é£æ ¼è°ƒç”¨â€”-Typeæœºåˆ¶çš„ç”¨æ³•Scalaä¸­çš„å¤åˆæ•°æ®ç±»å‹Scalaä¸­çš„æŠ½è±¡ç±»å‹Scalaä¸­çš„ç±»å‹å‚æ•°Scalaä¸­çš„ç±»å‹çº¦æŸScalaä¸­çš„å‹å˜ã€é€†å˜ã€åå˜Scalaä¸­çš„ç»“æ„ç±»å‹å‚è€ƒç½‘ç«™http://blog.csdn.net/u013063153/article/details/53066333","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Scala","slug":"Scala","permalink":"http://yoursite.com/tags/Scala/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ScalaåŸºæœ¬è¯­æ³•","slug":"22programming/scala/scalaåŸºæœ¬è¯­æ³•","date":"2016-02-07T00:00:00.000Z","updated":"2018-05-27T09:06:00.101Z","comments":true,"path":"2016/02/07/22programming/scala/scalaåŸºæœ¬è¯­æ³•/","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/scala/scalaåŸºæœ¬è¯­æ³•/","excerpt":"","text":"Scalaçš„å‘½ä»¤è¡Œå·¥å…·ç¼–å†™æºç upper1.scçš„æ–‡ä»¶å†…å®¹ class Upper { def upper(strings: String*): Seq[String] = { strings.map((s:String) =&gt; s.toUpperCase()) } } val up = new Upper println(up.upper(&quot;Hello&quot;, &quot;World!&quot;)) ç¼–è¯‘ä¸º JVM çš„å­—èŠ‚ç å°†è„šæœ¬æ–‡ä»¶ç¼–è¯‘ä¸º JVM çš„å­—èŠ‚ç ï¼ˆä¸€ç»„ .class æ–‡ä»¶ï¼‰Scala ç¼–è¯‘å™¨å«ä½œ scalac æ‰§è¡Œscalac -Xscript Upper1 src/main/scala/progscala2/introscala/upper1.scä¼šå‘ç°å½“å‰æ–‡ä»¶å¤¹ä¸‹äº§ç”Ÿå¾ˆå¤šclassæ–‡ä»¶ Scalaç”Ÿæˆçš„ä»£ç ï¼Œæ–‡ä»¶å¤¹ç›®å½•ä¸åŒ…ç»“æ„å»åˆã€‚ æ‰§è¡Œè„šæœ¬scala Upper1ArrayBuffer(HELLO, WORLD!) scala src/main/scala/progscala2/introscala/upper1.sc å‡å¦‚åœ¨å‘½ä»¤è¡Œè¾“å…¥ scala å‘½ä»¤æ—¶ä¸æŒ‡å®šæ–‡ä»¶å‚æ•°ï¼ŒREPL å°†å¯åŠ¨ å‡å¦‚è¾“å…¥ scala å‘½ä»¤æ—¶æŒ‡å®š Scala æºæ–‡ä»¶ï¼Œscala å‘½ä»¤å°†ä¼šä»¥è„šæœ¬çš„å½¢å¼ç¼–è¯‘å¹¶è¿è¡Œæ–‡ä»¶ sbt ä¸­æ‰§è¡Œconsoleä»»åŠ¡ä¹Ÿèƒ½è¿›å…¥ Scala REPL ç¯å¢ƒï¼‰ å¦‚æœæœ‰å‚æ•°scala -cp . progscala2.introscala.Upper Hello World! é€†å‘å·¥ç¨‹javaé€†å‘å·¥ç¨‹javap -cp . Upper1 scalaé€†å‘å·¥ç¨‹scalap -cp . Upper1 object Upper1 extends scala.AnyRef { def this() = { /* compiled code */ } def main(args: scala.Array[scala.Predef.String]): scala.Unit = { /* compiled code */ } } åŸºæœ¬è¯­æ³•è§£é‡Šå†æ¬¡å›åˆ°ä»£ç  class Upper { def upper(strings: String*): Seq[String] = { strings.map((s:String) =&gt; s.toUpperCase()) } } val up = new Upper println(up.upper(&quot;Hello&quot;, &quot;World!&quot;)) ä½¿ç”¨defåˆ›å»ºå‡½æ•°,defåé¢ä¾æ¬¡ä¸ºï¼Œè¾“å…¥æ–¹æ³•åç§°ä»¥åŠå¯é€‰çš„å‚æ•°åˆ—è¡¨ã€‚å†è¾“å…¥å¯é€‰çš„è¿”å›ç±»å‹ã€‚æœ‰æ—¶å€™ï¼ŒScala èƒ½å¤Ÿæ¨å¯¼å‡ºè¿”å›ç±»å‹ã€‚ è¿”å›ç±»å‹ç”±å†’å·åŠ ç±»å‹è¡¨ç¤ºã€‚æœ€åä½¿ç”¨ç­‰äºå·ï¼ˆ=ï¼‰å°†æ–¹æ³•ç­¾åå’Œæ–¹æ³•ä½“åˆ†éš”å¼€ã€‚String ç±»å‹åé¢çš„ * ï¼Œä»£è¡¨äº†å˜é•¿çš„ String ç±»å‹å‚æ•°åˆ—è¡¨ã€‚ Scala ä½¿ç”¨æ–¹æ‹¬å·ï¼ˆ[â€¦]ï¼‰è¡¨ç¤ºå‚æ•°ç±»å‹ï¼Œè€Œ Java ä½¿ç”¨è§’æ‹¬å·ï¼ˆ&lt;â€¦&gt;ï¼‰ã€‚ valå…³é”®å­—ç”¨äºå£°æ˜ä¸å˜å˜é‡bookã€‚å¯å˜æ•°æ®æ˜¯é”™è¯¯ä¹‹æºï¼Œæ¨èä½¿ç”¨ä¸å˜å€¼ã€‚ ä½¿ç”¨printlnæ–¹æ³•æ—¶ï¼Œæ— éœ€è°ƒç”¨scala.Console.printlnæ–¹æ³•ã€‚ println æ–¹æ³•åªæ˜¯ä¼—å¤šè¢«è‡ªåŠ¨åŠ è½½çš„æ–¹æ³•å’Œç±»å‹ä¸­çš„ä¸€å‘˜ï¼Œæœ‰ä¸€ä¸ªå«ä½œ Predef çš„åº“å¯¹è±¡å¯¹è¿™äº›è‡ªåŠ¨åŠ è½½çš„æ–¹æ³•å’Œç±»å‹è¿›è¡Œå®šä¹‰ã€‚ å¼€å‘ä¸€ä¸ªmainå‡½æ•° object Upper { def main(args: Array[String]) = { args.map(_.toUpperCase()).foreach(printf(&quot;%s &quot;,_)) println(&quot;&quot;) } } åœ¨ Scala ä¸­ï¼Œmain æ–¹æ³•å¿…é¡»ä¸ºå¯¹è±¡æ–¹æ³•ã€‚ï¼ˆåœ¨ Java ä¸­ï¼Œmain æ–¹æ³•å¿…é¡»æ˜¯ç±»é™æ€æ–¹æ³•ã€‚ï¼‰ ä¸¤å¤„ä½¿ç”¨äº† _ï¼Œè¿™ä¸¤ä¸ª _ åˆ†åˆ«ä½äºä¸åŒçš„ä½œç”¨åŸŸä¸­ï¼Œå½¼æ­¤ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³è” ä¸ºä»€ä¹ˆä½¿ç”¨ç­‰å·å‘¢ï¼Ÿè€Œä¸åƒ Java é‚£æ ·ï¼Œä½¿ç”¨èŠ±æ‹¬å·è¡¨ç¤ºæ–¹æ³•ä½“å‘¢ï¼Ÿä½¿ç”¨ç­‰å·ä¹Ÿå¼ºè°ƒäº†å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªå‡†åˆ™ï¼šå€¼å’Œå‡½æ•°æ˜¯é«˜åº¦å¯¹é½çš„æ¦‚å¿µã€‚å‡å¦‚æ–¹æ³•ä½“ä»…åŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆ Scala å…è®¸ä½ çœç•¥èŠ±æ‹¬å·ã€‚æ‰€ä»¥è¯´ï¼Œä½¿ç”¨ç­‰å·èƒ½å¤Ÿé¿å…å¯èƒ½çš„è§£ææ­§ä¹‰ã€‚ å‡½æ•°å­—é¢é‡map æ–¹æ³•çš„è¾“å…¥å‚æ•°ä¸ºå‡½æ•°å­—é¢é‡ï¼ˆfunction literalï¼‰ã€‚strings.map((s:String) =&gt; s.toUpperCase())è€Œè¿™äº›å‡½æ•°å­—é¢é‡ä¾¿æ˜¯â€œåŒ¿åâ€å‡½æ•°ã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œå®ƒä»¬ä¹Ÿè¢«ç§°ä¸º Lambdaã€é—­åŒ…ï¼ˆclosureï¼‰ã€å—ï¼ˆblockï¼‰æˆ–è¿‡ç¨‹ï¼ˆprocï¼‰å‡½æ•°æœ‰å¾ˆå¤šè¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨{}æ¥æ ¼å¼åŒ–ä»£ç ,åŒ¿åå‡½æ•°ä¹Ÿå¯ä»¥ï¼Œ { i: Int =&gt; println(&quot;hello world&quot;) i * 2 } æ­¤å‡½æ•°å­—é¢é‡çš„å‚æ•°è¡¨ä¸­åªåŒ…å«äº†ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•° sã€‚å®ƒçš„å‡½æ•°ä½“ä½äºç®­å¤´=&gt;ä¹‹åã€‚è¯¥å‡½æ•°ä½“è°ƒç”¨äº† s çš„ UpperCase() æ–¹æ³•ã€‚æ­¤æ¬¡è°ƒç”¨çš„è¿”å›å€¼ä¼šè‡ªåŠ¨è¢«è¿™ä¸ªå‡½æ•°å­—é¢é‡è¿”å›ã€‚ åœ¨ Scala ä¸­ï¼Œå‡½æ•°æˆ–æ–¹æ³•ä¸­æŠŠæœ€åä¸€æ¡è¡¨è¾¾å¼çš„è¿”å›å€¼ä½œä¸ºè‡ªå·±çš„è¿”å›å€¼ã€‚å°½ç®¡ Scala ä¸­å­˜åœ¨ return å…³é”®å­—ï¼Œä½†åªèƒ½åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œä¸Šé¢è¿™æ ·çš„åŒ¿åå‡½æ•°åˆ™ä¸å…è®¸ä½¿ç”¨ã€‚äº‹å®ä¸Šï¼Œæ–¹æ³•ä¸­ä¹Ÿå¾ˆå°‘ç”¨åˆ°è¿™ä¸ªå…³é”®å­—ã€‚ å‡½æ•°çš„ç®€å†™(s:String) =&gt; s.toUpperCase()ç­‰ä»·å¦‚ä¸‹å‡½æ•°_.toUpperCase() ä½¿ç”¨å ä½ç¬¦ _ æ¥æ›¿ä»£å‘½åå‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼š_ èµ·åˆ°äº†åŒ¿åå‚æ•°çš„ä½œç”¨ï¼Œåœ¨è°ƒç”¨ toUpperCase æ–¹æ³•ä¹‹å‰ï¼Œ_ å°†è¢«å­—ç¬¦ä¸²æ›¿æ¢ã€‚Scala åŒæ—¶ä¹Ÿä¸ºæˆ‘ä»¬æ¨æ–­å‡ºäº†è¯¥å˜é‡çš„ç±»å‹ä¸º String ç±»å‹ã€‚ æ“ä½œç¬¦a + b æ˜¯å¦‚ä¸‹æ–¹æ³•è°ƒç”¨çš„ç®€å†™ï¼š a.+(b)Scala å¹¶ä¸æ”¯æŒä¸‰å…ƒè¡¨è¾¾å¼,å› ä¸ºæœ‰ä¸€å…ƒæ“ä½œã€‚ éå†while (n &gt; 0) { rr = r * n n -= 1 } for (i &lt;- 1 to 3; j &lt;- 1 to 3 if i != j) print ((10 * i + j) + â€œ â€œ) &lt;-å³è¾¹çš„è¡¨è¾¾å¼çš„æ‰€æœ‰å€¼,è‡³äºè¿™ä¸ªéå†å…·ä½“å¦‚ä½•æ‰§è¡Œï¼Œåˆ™å–å†³äºè¡¨è¾¾å¼çš„ç±»å‹åœ¨Scalaä¸­ï¼Œæ¯ä¸ªè¡¨è¾¾å¼éƒ½æœ‰ä¸€ä¸ªç±»å‹å½“ for æ¨å¯¼å¼ä»…åŒ…å«å•ä¸€è¡¨è¾¾å¼æ—¶ä½¿ç”¨åŸ æ‹¬å·,å½“å…¶åŒ…å«å¤šä¸ªè¡¨è¾¾å¼æ—¶ä½¿ç”¨å¤§æ‹¬å· Scala çš„ for æ¨å¯¼å¼å¹¶ä¸æä¾› break å’Œ continue åŠŸèƒ½ã€‚Scala æä¾›çš„å…¶ä»–ç‰¹æ€§ ä½¿å¾—è¿™ä¸¤ä¸ªåŠŸèƒ½æ²¡æœ‰å­˜åœ¨çš„å¿…è¦ï¼Œé‚£ä¹ˆå¦‚æœéœ€è¦breakæ—¶æˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæœ‰å¦‚ä¸‹å‡ ä¸ªé€‰é¡¹ï¼š ä½¿ç”¨Booleanå‹çš„æ§åˆ¶å˜é‡ã€‚ ä½¿ç”¨åµŒå¥—å‡½æ•°â€”â€”ä½ å¯ä»¥ä»å‡½æ•°å½“ä¸­returnã€‚ ä½¿ç”¨Breakså¯¹è±¡ä¸­çš„breakæ–¹æ³•ï¼š åŸºæœ¬é›†åˆæ•°ç»„åŸºæœ¬å®šä¹‰10ä¸ªæ•´æ•°çš„æ•°ç»„ï¼Œæ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º0val nums = new ArrayInt greetStringsä¸ºval, ä½†æ˜¯å†…éƒ¨çš„æ•°ç»„å€¼æ˜¯å¯å˜çš„val greetStrings = new ArrayString é•¿åº¦ä¸º2çš„Array[String]â€”â€”ç±»å‹æ˜¯æ¨æ–­å‡ºæ¥çš„val s = Array(â€œHelloâ€, â€œWorldâ€) å¾ªç¯val b = new Array[String](10) for (i &lt;- 0 until b.length) println(i + &quot;: &quot; + b(i)) for (i &lt;- (0 until b.length).reverse) println(i + &quot;: &quot; + b(i)) for (elem &lt;- b) println(elem)//æ‰“å°å€¼ for (elem &lt;- b if elem % 2 == 0) yield 2 +elem //æ”¹å˜æ•°æ® forä½¿ç”¨äº†if ä½¿ç”¨()è€Œä¸æ˜¯[]æ¥è®¿é—®å…ƒç´ ï¼Œï¼»ï¼½å’Œjava&lt;&gt;çš„ç±»å‹ç›¸åŒï¼Œæ³›å‹ç±»å‹ã€‚å¯¹Arrayç±»çš„æ“ä½œæ–¹æ³•åˆ—åœ¨ArrayOpsç›¸å…³æ¡ç›®ä¸‹ Listval numbers = List(1, 2, 3, 4) å¯¹äºListæœ€å¸¸ç”¨çš„æ“ä½œç¬¦ä¸º::, æŠŠæ–°çš„elemæ”¾åˆ°listæœ€å‰ç«¯ scala&gt; val numbers = List(1, 2, 3, 4) numbers: List[Int] = List(1, 2, 3, 4) scala&gt; var numbers2 = 7::numbers numbers2: List[Int] = List(7, 1, 2, 3, 4) :::, ä¸¤ä¸ªlistçš„åˆå¹¶ val oneTwo = List(1, 2) val threeFour = List(2,3, 4) val oneTwoThreeFour = oneTwo ::: threeFour scala&gt; val oneTwoThreeFour = oneTwo ::: threeFour oneTwoThreeFour: List[Int] = List(1, 2, 2, 3, 4) Setvar myset = Set(1, 1, 2) å…ƒç»„ Tupleval hostPort = (â€œlocalhostâ€, 80) å…ƒç»„ä¸èƒ½é€šè¿‡åç§°è·å–å­—æ®µï¼Œè€Œæ˜¯ä½¿ç”¨ä½ç½®ä¸‹æ ‡æ¥è¯»å–å¯¹è±¡ï¼›è€Œä¸”è¿™ä¸ªä¸‹æ ‡åŸºäº1ï¼Œè€Œä¸æ˜¯åŸºäº0hostPort._1 ä¸æ¨¡å¼åŒ¹é… hostPort match { case (&quot;localhost&quot;, port) =&gt; ... case (host, port) =&gt; ... } åˆ›å»ºä¸¤ä¸ªå…ƒç´ çš„å…ƒç»„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šè¯­æ³•ï¼š-&gt; scala&gt; 1 -&gt; 2 res1: (Int, Int) = (1,2) Mapval treasureMap = MapInt, String val myMap = Map(â€œfooâ€ -&gt; â€œbarâ€)myMap(â€œfooâ€) val numbers = Map(1 -&gt; â€œoneâ€, 2 -&gt; â€œtwoâ€)numbers.get(2) å‡½æ•°ç»„åˆå­ï¼ˆFunctional Combinatorsï¼‰è¢«ç”¨åœ¨æ ‡å‡†çš„æ•°æ®ç»“æ„ä¸Š mapmapå¯¹åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ åº”ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›åº”ç”¨åçš„å…ƒç´ æ‰€ç»„æˆçš„åˆ—è¡¨ã€‚foreachfilterzippartitionfindå‚è€ƒhttps://code.csdn.net/DOC_Scala/scala_class_twitter/file/%E9%9B%86%E5%90%88.md#anchor_0 å…¶ä»–å¦‚æœæƒ³ä½¿ç”¨æ•°å€¼ç±»å‹ï¼Œè®°å¾—çœ‹çœ‹RichIntã€RichDoubleç­‰ã€‚åŒç†ï¼Œå¦‚æœæƒ³ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè®°å¾—çœ‹çœ‹SpringOpsã€‚ é‚£äº›æ•°å­¦å‡½æ•°ä½äºscala.mathåŒ…ä¸­ï¼Œè€Œä¸æ˜¯ä½äºæŸä¸ªç±»ä¸­ å‚è€ƒç½‘ç«™ å®˜æ–¹api csdnå­¦ä¹  scalaå­¦ä¹ æŒ‡å—","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Scala","slug":"Scala","permalink":"http://yoursite.com/tags/Scala/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"éœ€è¦çŸ¥é“çš„ECMAScript 6è¯­æ³•","slug":"22programming/javascript/es6","date":"2016-02-07T00:00:00.000Z","updated":"2018-05-27T09:06:00.109Z","comments":true,"path":"2016/02/07/22programming/javascript/es6/","link":"","permalink":"http://yoursite.com/2016/02/07/22programming/javascript/es6/","excerpt":"","text":"#ECMAScript 6å¸¸ç”¨è¯­æ³• letä¸constå…³é”®å­—letå…³é”®å­—å¯ä»¥ç”±ä¸€ä¸ªå—ä½œç”¨åŸŸã€‚ç”±äºvarå…³é”®å­—çš„ä½œç”¨èŒƒå›´æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæœ‰æ—¶å€™ä¼šå¯¼è‡´ä¸€äº›æ„æƒ³ä¸åˆ°çš„bugã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨letæ¥ä»£æ›¿varæ¥é¿å…æ­¤ç±»bugã€‚ const ç”¨äºå®šä¹‰å¸¸é‡ï¼Œå…¶å€¼ä¸å¯æ”¹å˜ã€‚ ##é»˜è®¤å‚æ•° åœ¨ES6ä¹‹å‰ï¼Œä¸èƒ½ç›´æ¥ä¸ºå‡½æ•°çš„å‚æ•°æŒ‡å®šé»˜è®¤å€¼,åªèƒ½é‡‡ç”¨å¦‚ä¸‹æ–¹å¼ï¼š function log(x, y) { y = y || &apos;World&apos;; console.log(x, y); } ä½¿ç”¨ES6 function foo(bar=&quot;baz&quot;) { console.log(bar); } ##ç®­å¤´å‡½æ•° ç±»ä¼¼ä¸Java 8ï¼ŒES6å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ=&gt;ï¼‰å®šä¹‰å‡½æ•°ã€‚ var f = v =&gt; v; ç­‰åŒäºï¼š var f = function(v) { return v; }; =&gt;æ“ä½œç¬¦å·¦è¾¹ä¸ºè¾“å…¥çš„å‚æ•°ï¼Œè€Œå³è¾¹åˆ™æ˜¯è¿›è¡Œçš„æ“ä½œä»¥åŠè¿”å›çš„å€¼ã€‚ å¦‚æœç®­å¤´å‡½æ•°ä¸éœ€è¦å‚æ•°æˆ–éœ€è¦å¤šä¸ªå‚æ•°ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªåœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†ã€‚ var f = () =&gt; 5; // ç­‰åŒäº var f = function (){ return 5 }; var sum = (num1, num2) =&gt; num1 + num2; // ç­‰åŒäº var sum = function(num1, num2) { return num1 + num2; }; å¦‚æœç®­å¤´å‡½æ•°çš„ä»£ç å—éƒ¨åˆ†å¤šäºä¸€æ¡è¯­å¥ï¼Œå°±è¦ä½¿ç”¨å¤§æ‹¬å·å°†å®ƒä»¬æ‹¬èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ç”¨returnè¯­å¥è¿”å›ã€‚ var sum = (num1, num2) =&gt; { return num1 + num2; } ##è§£æ„ ES6å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰ã€‚å¯è§è¿‘ä¼¼çš„ç†è§£ä¸ºæ‰¹é‡èµ‹å€¼ã€‚ æ•°ç»„å½¢å¼ let [x,y] = [3,4,5]; // x=3, y = 4 [x, y = &apos;b&apos;] = [&apos;a&apos;] // x=&apos;a&apos;, y=&apos;b&apos;ï¼Œé»˜è®¤å€¼ å¯¹è±¡çš„è§£æ„èµ‹å€¼ var { foo, bar } = { foo: â€œaaaâ€, bar: â€œbbbâ€ }; // foo =â€aaaâ€ bar =â€bbbâ€ var { foo: baz } = { foo: â€œaaaâ€, bar: â€œbbbâ€ }; //baz = â€œaaaâ€,å˜é‡åä¸å±æ€§åä¸ä¸€è‡´ ##æ¨¡æ¿ ä½ å¯ä»¥åœ¨ä½ çš„è¯­å¥ä¸­åƒä¸‹é¢è¿™æ ·å†…åµŒJavaScriptå˜é‡ï¼š var firstName = â€œJackâ€; var message = Hello ${firstName}!; // â€œHello Jack!â€ æ¨¡å—ç³»ç»Ÿåœ¨ES6æ ‡å‡†ä¸­ï¼ŒJavaScriptåŸç”Ÿæ”¯æŒmoduleäº†ï¼Œå°†ä¸åŒåŠŸèƒ½çš„ä»£ç åˆ†åˆ«å†™åœ¨ä¸åŒæ–‡ä»¶ä¸­ï¼Œå„æ¨¡å—åªéœ€å¯¼å‡ºå…¬å…±æ¥å£éƒ¨åˆ†ï¼Œç„¶åé€šè¿‡æ¨¡å—çš„å¯¼å…¥çš„æ–¹å¼å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚ å¯¼å‡º // circle.js export function area(radius) { return Math.PI * radius * radius; } export function circumference(radius) { return 2 * Math.PI * radius; } ä½¿ç”¨exportå‘½ä»¤å®šä¹‰äº†æ¨¡å—çš„å¯¹å¤–æ¥å£ä»¥åï¼Œå…¶ä»–JSæ–‡ä»¶å°±å¯ä»¥é€šè¿‡importå‘½ä»¤åŠ è½½è¿™ä¸ªæ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰ã€‚ // main.js import { area, circumference } from &apos;./circle&apos;; console.log(&quot;åœ†é¢ç§¯ï¼š&quot; + area(4)); console.log(&quot;åœ†å‘¨é•¿ï¼š&quot; + circumference(14)); å‚è€ƒ ECMAScript 6ç®€ä»‹ å…¨é¢è§£æECMAScript 6æ¨¡å—ç³»ç»Ÿ ECMAScriptå…­ä¸ªå€¼å¾—çœ‹å¥½çš„ç‰¹æ€§","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"jdk8-lambdaè¡¨è¾¾å¼","slug":"22programming/java/java8-lambda","date":"2016-01-23T00:00:00.000Z","updated":"2018-12-10T16:13:42.225Z","comments":true,"path":"2016/01/23/22programming/java/java8-lambda/","link":"","permalink":"http://yoursite.com/2016/01/23/22programming/java/java8-lambda/","excerpt":"","text":"#lambdaå…¥é—¨ ä¸€ä¸ªç®€å•çš„ä¾‹å­æ²¡æœ‰ä½¿ç”¨lambda public class Test1{ public static void main(String args[]){ Runnable r = new Runnable(){ public void run(){ System.out.println(&quot;hello,lambda!&quot;); } }; r.run(); } } ä½¿ç”¨lambda public class Test2 { public static void main(String args[]) { Runnable r = () -&gt; System.out.println(&quot;hello,lambda&quot;); r.run(); } } ##å‡½æ•°å¼æ¥å£ ä¸ºäº†é…åˆlambdaï¼Œjdk8å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å®šä¹‰å«åšï¼šå‡½æ•°å¼æ¥å£ï¼ˆFunctional interfacesï¼‰å‡½æ•°å¼æ¥å£ç‰¹å¾:ï¼ˆ1ï¼‰æ˜¯ä¸€ä¸ªæ¥å£ï¼ˆ2ï¼‰åªæœ‰ä¸€ä¸ªå¾…å®ç°çš„æ–¹æ³• jdk8å¼€å§‹ï¼Œæ¥å£å¯ä»¥æœ‰defaultæ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œå‡½æ•°å¼æ¥å£ä¹Ÿæ˜¯å¯ä»¥æœ‰defaultæ–¹æ³•çš„ï¼Œä½†æ˜¯ï¼Œåªèƒ½æœ‰ä¸€ä¸ªæœªå®ç°çš„æ–¹æ³•ã€‚ å‚æ•°å¯ä»¥å†™ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä¸å†™ï¼Œjvmå¾ˆæ™ºèƒ½çš„ï¼Œå®ƒèƒ½è‡ªå·±æ¨ç®—å‡ºæ¥ã€‚æ–¹æ³•å¯ä»¥æœ‰è¿”å›ï¼Œä¹Ÿå¯ä»¥æ— è¿”å›ï¼Œå¦‚æœæœ‰å¤šä¸ªè¯­å¥ï¼Œè¿˜è¦è¿”å›å€¼ï¼Œéœ€è¦åŠ ä¸Šreturn å‚è€ƒ Java8 å­¦ä¹ ç¬”è®°(ä¸€) Java 8æ–°ç‰¹æ€§ï¼šå…¨æ–°çš„Stream API","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ä½¿ç”¨hexoæ­å»ºæˆ‘çš„åšå®¢","slug":"90æ‚ä¸ƒæ‚å…«/Hexoå»ºç«™è¿‡ç¨‹","date":"2015-02-06T00:00:00.000Z","updated":"2019-02-17T07:03:57.902Z","comments":true,"path":"2015/02/06/90æ‚ä¸ƒæ‚å…«/Hexoå»ºç«™è¿‡ç¨‹/","link":"","permalink":"http://yoursite.com/2015/02/06/90æ‚ä¸ƒæ‚å…«/Hexoå»ºç«™è¿‡ç¨‹/","excerpt":"hexoæ˜¯ç”±Node.jsé©±åŠ¨çš„ä¸€æ¬¾å¿«é€Ÿã€ç®€å•ä¸”åŠŸèƒ½å¼ºå¤§çš„åšå®¢æ¡†æ¶ã€‚åœ¨ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äºå®‰è£…çš„é—®é¢˜, æœ¬æ–‡ç®€å•é˜è¿°ä¸€ä¸‹æœ¬ç½‘ç«™çš„å»ºè®¾è¿‡ç¨‹ï¼Œä»¥åŠåœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜å’Œä¸€äº›æœ‰ç”¨çš„æŠ€å·§ã€‚","text":"hexoæ˜¯ç”±Node.jsé©±åŠ¨çš„ä¸€æ¬¾å¿«é€Ÿã€ç®€å•ä¸”åŠŸèƒ½å¼ºå¤§çš„åšå®¢æ¡†æ¶ã€‚åœ¨ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äºå®‰è£…çš„é—®é¢˜, æœ¬æ–‡ç®€å•é˜è¿°ä¸€ä¸‹æœ¬ç½‘ç«™çš„å»ºè®¾è¿‡ç¨‹ï¼Œä»¥åŠåœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜å’Œä¸€äº›æœ‰ç”¨çš„æŠ€å·§ã€‚ å®‰è£…ä¸»é¢˜å‡è®¾Hexoå·²ç»å®‰è£…å®Œæˆï¼ˆHexo 2.4.5 æˆ–ä»¥ä¸Šç‰ˆæœ¬ï¼‰å‡è®¾å®‰è£…ç›®å½•ä¸ºklwork.github.io,è®°ä¸ºæ ¹ç›®å½•ã€‚ä»¥å‰æˆ‘ç”¨çš„é»˜è®¤ä¸»é¢˜ï¼Œä¹Ÿä¸é”™ï¼Œå¾ˆå¹²å‡€ï¼Œåæ¥å‘ç°ä¸€ä¸ªä¸»é¢˜è·Ÿé€‚åˆæˆ‘è¿™ç§æ‡’äººã€‚Pacmanï¼Œæ¯”è¾ƒå–œæ¬¢å®ƒçš„ç•Œé¢å’Œæ–‡æ¡£çš„è‡ªåŠ¨ç›®å½•ç»“æ„ã€‚ Pacmanå®‰è£… ä¸‹è½½Pacman git clone https://github.com/A-limon/pacman.git pacman å¤åˆ¶pacmanæ–‡ä»¶å¤¹åˆ°æ ¹ç›®å½•\\themesä¸‹ ä¿®æ”¹ä½ çš„åšå®¢æ ¹ç›®å½•ä¸‹çš„config.ymlé…ç½®æ–‡ä»¶ä¸­çš„themeå±æ€§ï¼Œå°†å…¶è®¾ç½®ä¸ºpacmanã€‚ å¢åŠ å¯¼èˆªæ æ‰“å¼€æ ¹ç›®å½•\\themes\\pacmançš„_config.ymlæ–‡ä»¶,ä¿®æ”¹menuå¦‚ä¸‹ï¼š menu: é¦–é¡µ: / å­˜æ¡£: /archives é¡¹ç›®: /project å…³äº: /about ä¾‹å¦‚æˆ‘ä»¬è¦å»ºç«‹ä¸€ä¸ªå…³äºçš„å¯¼èˆªï¼Œåªéœ€åœ¨åœ¨æ ¹ç›®å½•\\source\\aboutç›®å½•ä¸­æ–°å»ºä¸€ä¸ªindex.mdæ–‡ä»¶ï¼Œå³å¯æˆåŠŸå®Œæˆå¯¼èˆªã€‚ åŠ å…¥ç¬¬ä¸‰æ–¹javascriptæ–‡ä»¶æœ‰æ—¶éœ€è¦ç¬¬ä¸‰æ–¹çš„javascript,ä¾‹å¦‚æˆ‘éœ€è¦ä¸€ä¸ªè¿”å›é¡¶éƒ¨çš„æŒ‰é’®ã€‚å®˜æ–¹çš„æ–‡æ¡£è¯´æ”¾åˆ°æ ¹ç›®å½•\\themes\\pacman\\scripts,ä¼šè‡ªåŠ¨åŠ è½½ã€‚æˆ‘è¯•äº†ä¸€ä¸‹ä¸æˆåŠŸã€‚æœ€åæ˜¯ä¿®æ”¹æ ¹ç›®å½•\\themes\\pacman\\layout\\_partialç›®å½•ä¸‹çš„after_footer.ejs,å†™åœ¨jqueryæ–‡ä»¶ä¸‹,å¦‚ä¸‹æ‰€ç¤ºï¼š &lt;script src=&quot;&lt;%- config.root %&gt;js/jquery-2.0.3.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;&lt;%- config.root %&gt;js/scrolltopcontrol.js&quot;&gt;&lt;/script&gt; ... æœ€åæ”¾åˆ°$(document).readyçš„å‡½æ•°ä½“ä¸­ï¼Œè¿›è¡Œåˆå§‹åŒ– scrolltotop.offset(350,120); scrolltotop.init(); æ·»åŠ RSShexoæä¾›äº†RSSçš„ç”Ÿæˆæ’ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…å’Œè®¾ç½®ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š å®‰è£…RSSæ’ä»¶åˆ°æœ¬åœ°ï¼šnpm install hexo-generator-feed â€“save å¼€å¯RSSåŠŸèƒ½ï¼šç¼–è¾‘hexo/_config.ymlï¼Œåœ¨æ–‡ä»¶å°¾éƒ¨æ·»åŠ å¦‚ä¸‹ä»£ç ï¼šplugins:- hexo-generator-feed ä¿®æ”¹æ ¹ç›®å½•\\themes\\pacmançš„_config.ymlä¸­ rss: /atom.xml,è¿™æ ·å½“æ‰§è¡Œhexo gåï¼Œåœ¨æ ¹ç›®å½•ä¸‹\\publicä¸‹ï¼Œå‘ç°atom.xml,è¿™å®‰è£…æˆåŠŸã€‚ åœ¨ç«™ç‚¹æ·»åŠ é“¾æ¥,åœ¨themes\\pacman\\layout\\_partialä¿®æ”¹header.ejsä¸­é€‚å½“ä½ç½®åŠ å…¥é“¾æ¥,å¦‚ä¸‹: &lt;% for (var i in theme.menu){ %&gt; &lt;li&gt;&lt;a href=&quot;&lt;%- theme.menu[i] %&gt;&quot;&gt;&lt;%= i %&gt;&lt;/a&gt;&lt;/li&gt; &lt;% } %&gt; &lt;li&gt; &lt;a href=&quot;/atom.xml&quot;&gt;RSS&lt;/a&gt; &lt;/li&gt; åˆ™åœ¨å¤´éƒ¨èœå•åŠ å…¥rssé“¾æ¥ã€‚ livereloadä¸€æ—¦ä¿®æ”¹äº†ç½‘ç«™ä¸­çš„å†…å®¹ï¼Œlivereloadä¼šç«‹é©¬æ£€æµ‹åˆ°å¹¶ä¸”é€šçŸ¥æµè§ˆå™¨åˆ·æ–°é¡µé¢ï¼Œä¸éœ€è¦è‡ªå·±æ‰‹åŠ¨æŒ‰ F5 åˆ·æ–°,å¤ªçˆ½äº†ï¼Œè¾¹å†™æ–‡ç« è¾¹é¢„è§ˆï¼Œä¸‹é¢æ˜¯æ­¥éª¤ï¼š å®‰è£… LiveReload çš„ node.js ç‰ˆæœ¬ï¼š $ npm install -g node-livereload å®‰è£… livereload çš„æµè§ˆå™¨æ’ä»¶ï¼Œä»¥è°·æ­Œæµè§ˆå™¨ä¸ºä¾‹ã€‚ å®Œæˆåï¼Œåˆ°ä½ çš„ Hexo åšå®¢æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼šlivereload -e &quot;.md, .html, .png, .svg, .jpg, .gif, .css, .js, .json&quot; å¯åŠ¨hexoã€‚ æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›å…¥ä½ è¦è®¿é—®çš„é¡µé¢ï¼Œå¹¶ç‚¹å‡»æµè§ˆå™¨ä¸Šæ–¹çš„LiveReloadæ’ä»¶å°å›¾æ ‡ã€‚ ä¿®æ”¹Markdownæºæ–‡ä»¶ï¼Œæµè§ˆå™¨æ˜¯ä¸æ˜¯ç«‹å³åˆ·æ–°ï¼Œå¦‚æœæ˜¯ï¼Œå¤§åŠŸå‘Šæˆã€‚ Q&amp;Aæ€æ ·ä½¿ç”¨æ‘˜è¦ï¼Ÿhexoçš„æ–‡ç« ä¿å­˜åœ¨source/_postç›®å½•ä¸‹ã€‚åœ¨æ–‡æ¡£ä¸­æ’å…¥&lt;!--more--&gt;å°±å¯ä»¥å°†æ–‡ç« åˆ†éš”ï¼Œ&lt;!--more--&gt;ä»¥ä¸Šçš„éƒ¨åˆ†ä¼šå·²æ‘˜è¦çš„å½¢å¼æ˜¾ç¤ºï¼Œå½“æŸ¥çœ‹å…¨æ–‡æ—¶moreä»¥ä¸‹çš„éƒ¨åˆ†æ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚ä¹Ÿå¯ä»¥åœ¨Markdownæ–‡ä»¶ä¸­å®šä¹‰descriptionã€‚ æ€æ ·å®šä¹‰ç‰¹æ®Šå­—ç¬¦?æœ‰äº›å­—ç¬¦ï¼Œæ”¾åœ¨æ–‡ä»¶ä¸­ï¼Œä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ï¼Œåƒï¼Œæœ‰ä¸€æ¬¡æˆ‘çš„æ–‡æ¡£å‡ºç°äº†é—®é¢˜ï¼Œæ‰¾äº†è€åŠå¤©æ‰æŸ¥å‡ºåŸå› ã€‚å¿…é¡»ä½¿ç”¨è½¬ä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š \\{\\{æ–‡æ¡£ä¸­\\}\\} æ€æ ·æ˜¾ç¤ºå›¾ç‰‡?åŒæ ·æ”¾åˆ°sourceç›®ä¸­ä¸‹ã€‚å»ºè®®å¤§å®¶å»ºç«‹ä¸€ä¸ªimageæ–‡ä»¶å¤¹ï¼ŒæŠŠæ–‡ç« ä¸­ä½¿ç”¨åˆ°çš„å›¾ç‰‡ä¸¢åˆ°è¿™é‡Œæ¥ï¼ˆå½“ç„¶å¯ä»¥æŒ‰ç…§ä½ çš„ä¹ æƒ¯è¿›è¡Œåˆ†ç±»ï¼‰ï¼Œä¹‹ååœ¨Markdownæ–‡ä»¶ä¸­æŒ‰ç…§è¿™æ ·çš„è¯­æ³•è¿›è¡Œæ’å…¥å›¾ç‰‡çš„æ“ä½œï¼Œä¾‹å¦‚ã€‚ ![hello]({{BASE_PATH}}image/hello.jpg) å¸¸ç”¨å‘½ä»¤hexo g == hexo generate hexo d == hexo deploy hexo s == hexo server hexo n == hexo new hexo clean ä¸Šä¼ åˆ°githubå¦‚æœä¸€åˆ‡éƒ½é…ç½®å¥½äº†ï¼Œå‘å¸ƒä¸Šä¼ å¾ˆå®¹æ˜“ï¼Œä¸€å¥hexo då°±æå®šï¼Œ é¦–å…ˆï¼Œé…ç½®å¥½ssh keyæ‰¾åˆ°.ssh\\id_rsa.pubæ–‡ä»¶ï¼Œè®°äº‹æœ¬æ‰“å¼€å¹¶å¤åˆ¶é‡Œé¢çš„å†…å®¹ï¼Œæ‰“å¼€ä½ çš„githubä¸»é¡µï¼Œè¿›å…¥ä¸ªäººè®¾ç½® -&gt; SSH and GPG keys -&gt; New SSH keyï¼š å°†åˆšå¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°keyé‚£é‡Œã€‚ ä½¿ç”¨ssh -T git@github.comè¿›è¡Œæµ‹è¯•ï¼Œå‡ºç°You&#39;ve successfully authenticated, but GitHub does not provide shell accessè¡¨ç¤ºæˆåŠŸã€‚ å…¶æ¬¡ï¼Œé…ç½®_config.ymlä¸­æœ‰å…³deployçš„éƒ¨åˆ†ï¼š æ­£ç¡®å†™æ³•ï¼š deploy: type: git repository: git@github.com:klwork/klwork.github.io.git branch: master å‚è€ƒæ–‡çŒ® Hexoç³»åˆ—æ•™ç¨‹ Pacmanä¸»é¢˜ä»‹ç» LiveReload For Hex","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"},{"name":"ç½‘ç«™å¼€å‘","slug":"ç½‘ç«™å¼€å‘","permalink":"http://yoursite.com/tags/ç½‘ç«™å¼€å‘/"}],"keywords":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}]},{"title":"Ubuntué…ç½®Rå¼€å‘ç¯å¢ƒ","slug":"22programming/Ubuntué…ç½®Rå¼€å‘ç¯å¢ƒ","date":"2014-06-27T00:00:00.000Z","updated":"2018-12-10T15:45:40.696Z","comments":true,"path":"2014/06/27/22programming/Ubuntué…ç½®Rå¼€å‘ç¯å¢ƒ/","link":"","permalink":"http://yoursite.com/2014/06/27/22programming/Ubuntué…ç½®Rå¼€å‘ç¯å¢ƒ/","excerpt":"","text":"è¯´æ˜æ¯ä¸ªç¯å¢ƒå®‰è£…Rä¼°è®¡éƒ½ä¸ä¸€æ ·ï¼Œuname -aï¼Œæ˜¾ç¤ºçš„æ˜¯3.13.0-24-genericä½¿ç”¨cat /etc/issueï¼Œæˆ‘çš„æœºå™¨æ˜¾ç¤ºçš„ä¸ºUbuntu 14.04 LTSã€‚ä¸‹é¢çš„æ­¥éª¤å±•ç¤ºå®‰è£…RStudio Serverçš„æ­¥éª¤ å®‰è£…æ­¥éª¤wget http://cran.r-project.org/src/base/R-3/R-3.1.0.tar.gz tar -zxvf R-3.1.0.tar.gz cd R-3.1.0 æŠ¥é”™ï¼šconfigure: error: No F77 compiler foundè¿™æ˜¯å› ä¸ºUbuntuç°åœ¨é»˜è®¤æ²¡æœ‰fortranç¼–è¯‘å™¨ï¼Œéœ€è¦æ‰‹å·¥è£…ä¸€ä¸ªï¼Œæ¯”å¦‚gfortranï¼šsudo apt-get install gfortran ä¸ºäº†é˜²æ­¢å‡ºç°å…¶ä»–é”™è¯¯sudo apt-get install readline-common libxt-dev æ‰§è¡Œ./configure â€“enable-R-shlib â€“with-readline=no â€“with-x=no #å®‰è£… rStdiowget http://download2.rstudio.org/rstudio-server-pro-0.98.945-i386.debsudo gdebi rstudio-server-0.97.551-amd64.deb å¦‚æœå‡ºç°æ²¡æœ‰å®‰è£…python-devæˆ‘çš„å› ä¸ºä»¥å‰å®‰è£…è¿‡python,ç›´æ¥å®‰è£…å‡ºç°python-dev : ä¾èµ–: python (= 2.7.4-0ubuntu1) ä½†æ˜¯ 2.7.5-5ubuntu3 æ­£è¦è¢«å®‰è£…ç”¨aptitude å·¥å…·è¿›è¡Œé™çº§å¤„ç†ã€‚ æ‰§è¡Œ sudo aptitude install python-devç¬¬ä¸€æ¬¡é€‰noï¼Œç¬¬äºŒæ¬¡yesã€‚ ç„¶åï¼šsudo aptitude install python-dev å†æ¬¡ï¼šsudo gdebi rstudio-server-0.97.551-amd64.deb å‡ºç°rstudio-server start/running, process 13342 æ‰§è¡Œps -aux|grep rstudio-serverï¼Œå‘ç°å·²ç»å¯åŠ¨ã€‚ è®¿é—®http://127.0.0.1:8787/ï¼Œä½¿ç”¨ä½ çš„linuxçš„ç”¨æˆ·å/å¯†ç è¿›è¡Œç™»é™†ã€‚å¯ä»¥æˆåŠŸçš„çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ æˆåŠŸï¼Œå°½æƒ…çš„äº«å—å§ï¼ å‚è€ƒæ–‡ç«  http://timex1441.blog.163.com/blog/static/4726719720125410303262/http://www.ningoo.net/page/2 http://jianshu.io/p/2c739a25d20b http://bbs.csdn.net/topics/390462321 åæ¥åˆå‘ç°äº†ä¸€ç‰‡æ–‡ç« å¤šäººåœ¨çº¿åä½œRå¼€å‘RStudio Server http://blog.fens.me/r-rstudio-server/","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"R","slug":"R","permalink":"http://yoursite.com/tags/R/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ä¸­å›½åœ£è´¤çš„ä½¿å‘½","slug":"90æ‚ä¸ƒæ‚å…«/ä½¿å‘½ ","date":"2014-06-21T00:00:00.000Z","updated":"2018-12-10T17:00:19.005Z","comments":true,"path":"2014/06/21/90æ‚ä¸ƒæ‚å…«/ä½¿å‘½ /","link":"","permalink":"http://yoursite.com/2014/06/21/90æ‚ä¸ƒæ‚å…«/ä½¿å‘½ /","excerpt":"","text":"ä»€ä¹ˆæ˜¯ä¸­å›½åœ£è´¤çš„ä½¿å‘½ï¼Ÿ åŒ—å®‹å¤§å„’å¼ æ¨ªæ¸ æœ‰è¨€, ä¸ºå¤©åœ°ç«‹å¿ƒï¼›ä¸ºç”Ÿæ°‘ç«‹å‘½ã€‚ä¸ºå¾€åœ£ç»§ç»å­¦ï¼›ä¸ºä¸‡ä¸–å¼€å¤ªå¹³ã€‚è¿™å¥è¯é“å‡ºäº†ä¸­å›½å„’è€…çš„å¿ƒå£°ã€‚ ã€Šå·¦ä¼ Â·è¥„å…¬äºŒåå››å¹´ã€‹ä¸­å†™é“ï¼šâ€œå¤ªä¸Šæœ‰ç«‹å¾·ï¼Œå…¶æ¬¡æœ‰ç«‹åŠŸï¼Œå…¶æ¬¡æœ‰ç«‹è¨€ï¼›è™½ä¹…ä¸åºŸï¼Œæ­¤ä¹‹è°“ä¸æœ½ã€‚â€ç«‹å¾·ã€ç«‹åŠŸã€ç«‹è¨€ï¼Œè¿™â€œä¸‰ä¸æœ½â€æ˜¯å„’å®¶æœ€é«˜çš„äººç”Ÿç†æƒ³ã€‚ ç«‹å¾·ï¼šæ ‘ç«‹ç¾å¥½çš„å“å¾·ï¼Œæ ‘ç«‹é“å¾·çš„å…¸èŒƒï¼Œè¨€ä¸ºå¸ˆï¼Œè¡Œä¸ºè¡¨ã€‚å­¦é«˜ä¸ºå¸ˆï¼Œå¾·é«˜ä¸ºèŒƒã€‚ç«‹åŠŸï¼šåšä¸å›½å®¶ä¸ç¤¾ä¼šæœ‰ä»·å€¼çš„äº‹æƒ…ï¼Œå¹¶åˆ›é€ ä»·å€¼ ã€‚ç«‹è¨€ï¼šä¸ä»…è‡ªå·±æˆåŠŸäº†ï¼Œä¸ä»…è‡ªå·±å–å¾—æƒ³è¦çš„ç»“æœï¼Œè¿˜è¦æŠŠè‡ªå·±æ€æƒ³ï¼Œè§‚å¿µï¼Œæ™ºæ…§ï¼Œæµä¼ ç»™åäººã€‚ ä¸ºå¤©åœ°ç«‹å¿ƒï¼›ä¸ºç”Ÿæ°‘ç«‹å‘½ã€‚ä¸ºå¾€åœ£ç»§ç»å­¦ï¼›ä¸ºä¸‡ä¸–å¼€å¤ªå¹³ ã€‚ç«‹å¾·ï¼Œç«‹åŠŸï¼Œç«‹è¨€ï¼Œè¿™äº›éƒ½æ˜¯ä¸­å›½åœ£è´¤çš„ä½¿å‘½ï¼Œåœ¨æˆ‘ä»¬å½“ä»Šç°ä»£ï¼Œæ¯”èµ·â€œæ”¹å˜ä¸–ç•Œâ€çš„ä½¿å‘½ï¼Œä¹Ÿæœ‰è¿‡ä¹‹æ— ä¸åŠã€‚ ä¸ºä»€ä¹ˆè¦å¼ºè°ƒä½¿å‘½ï¼Ÿ æˆ‘ä»¬çœ‹çœ‹å¾·é²å…‹ç®¡ç†çš„å®šä¹‰ï¼šâ€œç®¡ç†å°±æ˜¯ç•Œå®šä¼ä¸šçš„ä½¿å‘½ï¼Œå¹¶æ¿€åŠ±å’Œç»„ç»‡äººåŠ›èµ„æºå»å®ç°è¿™ä¸ªä½¿å‘½ã€‚ç•Œå®šä½¿å‘½æ˜¯ä¼ä¸šå®¶çš„ä»»åŠ¡ï¼Œè€Œæ¿€åŠ±ä¸ç»„ç»‡äººåŠ›èµ„æºæ˜¯é¢†å¯¼åŠ›çš„èŒƒç•´ï¼ŒäºŒè€…çš„ç»“åˆå°±æ˜¯ç®¡ç†ã€‚â€æˆ‘ä»¬çœ‹çœ‹é‡Œé¢åŒ…å«çš„å…³é”®è¯â€œç•Œå®šä½¿å‘½â€, â€œæ¿€åŠ±â€,â€œç»„ç»‡â€ï¼Œâ€œå®ç°ä½¿å‘½â€ã€‚ ä¸€ç›´ä»¥æ¥æœ‰ä¸ªå›ºå®šæ€ç»´ï¼Œè¯´è¥¿æ–¹çš„ç®¡ç†ï¼Œå¼ºè°ƒç›®æ ‡ç®¡ç†ï¼Œç›®æ ‡=æˆåŠŸã€‚è€Œä¸­å›½ç®¡ç†çš„åˆ™å¼ºè°ƒä½¿å‘½ï¼Œä½†æˆ‘ä»¬çœ‹çœ‹ä¸Šé¢çš„ç®¡ç†å®šä¹‰ï¼Œå¯ä»¥çœ‹å‡ºè¥¿æ–¹ç°ä»£ç®¡ç†å…¶å®å’Œä¸­å›½å¤ä»£å“²å­¦ä¸€æ ·ï¼Œä¹ŸæŠŠä½¿å‘½æ”¾åœ¨äº†ç¬¬ä¸€ä½ã€‚ ä¸­å›½åœ£è´¤ä½¿å‘½çš„æ€è€ƒ ä¸­å›½å¤ä»£å…ˆå“²ç»™æˆ‘ä»¬ç•™ä¸‹äº†ç‰¹åˆ«çš„å®è´µç²¾ç¥é—äº§ã€‚ä½†åè§‚å¦‚ä»Šæˆ‘ä»¬çš„ä»·å€¼è§‚ï¼Œå´æœ‰ç‚¹ä¸çŸ¥ä½•ä»çš„åœ°æ­¥ã€‚æˆ‘ä»¬å¯¹å¾ˆå¤šä¸œè¥¿æŒæ€€ç–‘çš„æ€åº¦ã€‚æˆ‘ä»¬ä¸ä¿¡ä½›ï¼Œæˆ‘ä»¬ä¸ä¿¡å„’å®¶æ€æƒ³ï¼Œè°è¦æ˜¯åƒä¸ªä¹¦ç”Ÿï¼Œæˆ‘ä»¬ä¼šæŠ•ä»¥é„™å¤·ã€‚æˆ‘ä»¬ä¹Ÿä¸ä¿¡ä¸‰æ°‘ä¸»ä¹‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯¹é©¬å…‹æ€ä¸»ä¹‰äº§ç”Ÿäº†æ€€ç–‘ã€‚æ›´ä¸ç”¨è¯´ä¸€äº›æ‰€è°“çš„â€œä¸“å®¶â€äº†ã€‚ ä½†æˆ‘ä»¬ä»å¤ä»£å…ˆå“²çš„ä½¿å‘½è§‚ä¸­ï¼Œä¹Ÿå¯ä»¥æ‰¾å¯»åˆ°ä¸€äº›æ²»ç—…çš„æ–¹æ³•ã€‚â€œä¸ºå¾€åœ£ç»§ç»å­¦â€ï¼Œä¼˜ç§€çš„ä¸œè¥¿æ˜¯ä¸ä¼šè¿‡æ—¶çš„ï¼Œæ™ºæ…§æ²¡æœ‰é”™ï¼Œé”™çš„æ˜¯ç”¨çš„äººã€‚åŒæ ·è‹±é›„ä¹Ÿä¸åº”é—®å‡ºå¤„ã€‚â€œå¾€åœ£â€å¯ä»¥åŒ…å«å¤ä»Šä¸­å¤–ï¼Œé“æ³•å„’ä½›ï¼Œå¯¹å…¶æ€æƒ³æœ‰æ‰¹åˆ¤çš„ç»§æ‰¿å’Œå‘æ‰¬ã€‚æˆ‘ä»¬åŒæ ·ä¹Ÿå¯è½»æ˜“çš„åˆ¤æ–­é‚£äº›â€œæ„è§é¢†è¢–â€ä»¬ï¼Œä½ ä»¬çš„è¨€è®ºç¬¦åˆâ€œä¸ºå¤©åœ°ç«‹å¿ƒï¼›ä¸ºç”Ÿæ°‘ç«‹å‘½ã€‚ä¸ºå¾€åœ£ç»§ç»å­¦ï¼›ä¸ºä¸‡ä¸–å¼€å¤ªå¹³â€ã€‚å¦åˆ™ï¼Œwhyä¿¡å¥‰ä½ ä»¬ã€‚ é‚£ä¹ˆï¼Œä½ çš„ä½¿å‘½æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}],"tags":[{"name":"å¾·é²å…‹","slug":"å¾·é²å…‹","permalink":"http://yoursite.com/tags/å¾·é²å…‹/"}],"keywords":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}]},{"title":"CSS3çš„@font-faceå’Œå­—ä½“ä»‹ç»","slug":"22programming/html/CSS3çš„@font-faceå’Œå­—ä½“ä»‹ç»","date":"2014-02-06T00:00:00.000Z","updated":"2018-12-10T15:09:52.738Z","comments":true,"path":"2014/02/06/22programming/html/CSS3çš„@font-faceå’Œå­—ä½“ä»‹ç»/","link":"","permalink":"http://yoursite.com/2014/02/06/22programming/html/CSS3çš„@font-faceå’Œå­—ä½“ä»‹ç»/","excerpt":"æœ¬æ–‡å°†ä»‹ç»@font-faceç”¨æ³•ï¼Œä»¥åŠç”¨å­—ä½“æ¥ä»£æ›¿å›¾æ ‡çš„å…·ä½“æ–¹æ³•ã€‚ @font-faceå­¦ä¹ @font-faceæ˜¯CSS3ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œä»–ä¸»è¦æ˜¯æŠŠè‡ªå·±å®šä¹‰çš„Webå­—ä½“åµŒå…¥åˆ°ä½ çš„ç½‘é¡µä¸­,@font-faceçš„å‡ºç°å…è®¸ç”¨æˆ·ä»ç½‘ä¸Šä¸‹è½½å­—ä½“å¹¶ç›´æ¥åœ¨ç”µè„‘ä¸Šè‡ªåŠ¨å®Œæˆå®‰è£…ï¼Œå› æ­¤å¼€å‘è€…ä¸ç”¨æ‹…å¿ƒæŸä¸ªå­—ä½“åœ¨ç”¨æˆ·çš„ç”µè„‘ä¸­æ˜¯å¦å­˜åœ¨çš„é—®é¢˜ã€‚ @font-faceçš„è¯­æ³•è§„åˆ™@font-face { font-family: &lt;YourWebFontName&gt;; src: &lt;source&gt; [&lt;format&gt;][,&lt;source&gt; [&lt;format&gt;]]*; [font-weight: &lt;weight&gt;]; [font-style: &lt;style&gt;]; } YourWebFontName:æ­¤å€¼æŒ‡çš„å°±æ˜¯ä½ è‡ªå®šä¹‰çš„å­—ä½“åç§°ï¼Œæœ€å¥½æ˜¯ä½¿ç”¨ä½ ä¸‹è½½çš„é»˜è®¤å­—ä½“ï¼Œä»–å°†è¢«å¼•ç”¨åˆ°ä½ çš„Webå…ƒç´ ä¸­çš„font-familyã€‚å¦‚font-family:&quot;YourWebFontName&quot;; source:æ­¤å€¼æŒ‡çš„æ˜¯ä½ è‡ªå®šä¹‰çš„å­—ä½“çš„å­˜æ”¾è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç»è·¯å¾„ï¼› formatï¼šæ­¤å€¼æŒ‡çš„æ˜¯ä½ è‡ªå®šä¹‰çš„å­—ä½“çš„æ ¼å¼ï¼Œä¸»è¦ç”¨æ¥å¸®åŠ©æµè§ˆå™¨è¯†åˆ«ï¼Œå…¶å€¼ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼štruetype,opentype,truetype-aat,embedded-opentype,avgç­‰ï¼› weightå’Œstyle:è¿™ä¸¤ä¸ªå€¼å¤§å®¶ä¸€å®šå¾ˆç†Ÿæ‚‰,weightå®šä¹‰å­—ä½“æ˜¯å¦ä¸ºç²—ä½“ï¼Œstyleä¸»è¦å®šä¹‰å­—ä½“æ ·å¼ï¼Œå¦‚æ–œä½“ã€‚","text":"æœ¬æ–‡å°†ä»‹ç»@font-faceç”¨æ³•ï¼Œä»¥åŠç”¨å­—ä½“æ¥ä»£æ›¿å›¾æ ‡çš„å…·ä½“æ–¹æ³•ã€‚ @font-faceå­¦ä¹ @font-faceæ˜¯CSS3ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œä»–ä¸»è¦æ˜¯æŠŠè‡ªå·±å®šä¹‰çš„Webå­—ä½“åµŒå…¥åˆ°ä½ çš„ç½‘é¡µä¸­,@font-faceçš„å‡ºç°å…è®¸ç”¨æˆ·ä»ç½‘ä¸Šä¸‹è½½å­—ä½“å¹¶ç›´æ¥åœ¨ç”µè„‘ä¸Šè‡ªåŠ¨å®Œæˆå®‰è£…ï¼Œå› æ­¤å¼€å‘è€…ä¸ç”¨æ‹…å¿ƒæŸä¸ªå­—ä½“åœ¨ç”¨æˆ·çš„ç”µè„‘ä¸­æ˜¯å¦å­˜åœ¨çš„é—®é¢˜ã€‚ @font-faceçš„è¯­æ³•è§„åˆ™@font-face { font-family: &lt;YourWebFontName&gt;; src: &lt;source&gt; [&lt;format&gt;][,&lt;source&gt; [&lt;format&gt;]]*; [font-weight: &lt;weight&gt;]; [font-style: &lt;style&gt;]; } YourWebFontName:æ­¤å€¼æŒ‡çš„å°±æ˜¯ä½ è‡ªå®šä¹‰çš„å­—ä½“åç§°ï¼Œæœ€å¥½æ˜¯ä½¿ç”¨ä½ ä¸‹è½½çš„é»˜è®¤å­—ä½“ï¼Œä»–å°†è¢«å¼•ç”¨åˆ°ä½ çš„Webå…ƒç´ ä¸­çš„font-familyã€‚å¦‚font-family:&quot;YourWebFontName&quot;; source:æ­¤å€¼æŒ‡çš„æ˜¯ä½ è‡ªå®šä¹‰çš„å­—ä½“çš„å­˜æ”¾è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç»è·¯å¾„ï¼› formatï¼šæ­¤å€¼æŒ‡çš„æ˜¯ä½ è‡ªå®šä¹‰çš„å­—ä½“çš„æ ¼å¼ï¼Œä¸»è¦ç”¨æ¥å¸®åŠ©æµè§ˆå™¨è¯†åˆ«ï¼Œå…¶å€¼ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼štruetype,opentype,truetype-aat,embedded-opentype,avgç­‰ï¼› weightå’Œstyle:è¿™ä¸¤ä¸ªå€¼å¤§å®¶ä¸€å®šå¾ˆç†Ÿæ‚‰,weightå®šä¹‰å­—ä½“æ˜¯å¦ä¸ºç²—ä½“ï¼Œstyleä¸»è¦å®šä¹‰å­—ä½“æ ·å¼ï¼Œå¦‚æ–œä½“ã€‚ ä¸€ä¸ªå…·ä½“çš„ä½¿ç”¨ä¾‹å­htmlä½¿ç”¨å­—ä½“éƒ¨åˆ† &lt;h2 class=&quot;neuesDemo&quot;&gt;Neues Bauen Demo&lt;/h2&gt; æ ·å¼å®šä¹‰å¦‚ä¸‹: h2.neuesDemo { font-family: &apos;NeuesBauenDemo&apos; } NeuesBauenDemoæ˜¯å“ªé‡Œæ¥çš„? ç­”æ¡ˆé€šè¿‡@font-faceæ¥å®šä¹‰è‡ªå·±çš„Web Font: 12345678910 @font-face &#123; font-family: &apos;NeuesBauenDemo&apos;; src: url(&apos;../fonts/neues_bauen_demo-webfont.eot&apos;); src: url(&apos;../fonts/neues_bauen_demo-webfont.eot?#iefix&apos;) format(&apos;embedded-opentype&apos;), url(&apos;../fonts/neues_bauen_demo-webfont.woff&apos;) format(&apos;woff&apos;), url(&apos;../fonts/neues_bauen_demo-webfont.ttf&apos;) format(&apos;truetype&apos;), url(&apos;../fonts/neues_bauen_demo-webfont.svg#NeuesBauenDemo&apos;) format(&apos;svg&apos;); font-weight: normal; font-style: normal;&#125; ä¸ºä»€ä¹ˆè¦ç”¨å¤šä¸ªurl? ä¸»è¦æ˜¯ä¸ºäº†è§£å†³æµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ã€‚åé¢åœ¨è®¨è®ºï¼Œå…ˆäº†è§£ä¸€ä¸‹woff,ttf,svgè¿™äº›å­—ä½“çš„æ ¼å¼ã€‚ å­—ä½“çš„æ ¼å¼ä¸Šé¢è¯´äº†formatï¼šæŒ‡çš„æ˜¯ä½ è‡ªå®šä¹‰çš„å­—ä½“çš„æ ¼å¼ï¼Œå…¶å€¼ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼štruetype,opentype,truetype-aat,embedded-opentype,avgç­‰ï¼›ç°åœ¨ç®€å•çš„åˆ†åˆ«ä»‹ç»ã€‚ TureTpe(.ttf)æ ¼å¼ttfå­—ä½“æ˜¯Windowså’ŒMacçš„æœ€å¸¸è§çš„å­—ä½“ï¼Œæ˜¯ä¸€ç§RAWæ ¼å¼ï¼Œå› æ­¤ä»–ä¸ä¸ºç½‘ç«™ä¼˜åŒ–,æ”¯æŒè¿™ç§å­—ä½“çš„æµè§ˆå™¨æœ‰ã€IE9+,Firefox3.5+,Chrome4+,Safari3+,Opera10+,iOS Mobile Safari4.2+ã€‘ï¼› OpenType(.otf)æ ¼å¼.otfå­—ä½“è¢«è®¤ä¸ºæ˜¯ä¸€ç§åŸå§‹çš„å­—ä½“æ ¼å¼ï¼Œå…¶å†…ç½®åœ¨TureTypeçš„åŸºç¡€ä¸Šï¼Œæ‰€ä»¥ä¹Ÿæä¾›äº†æ›´å¤šçš„åŠŸèƒ½,æ”¯æŒè¿™ç§å­—ä½“çš„æµè§ˆå™¨æœ‰ã€Firefox3.5+,Chrome4.0+,Safari3.1+,Opera10.0+,iOS Mobile Safari4.2+ã€‘ï¼› Web Open Font Format(.woff)æ ¼å¼.woffå­—ä½“æ˜¯Webå­—ä½“ä¸­æœ€ä½³æ ¼å¼ï¼Œä»–æ˜¯ä¸€ä¸ªå¼€æ”¾çš„TrueType/OpenTypeçš„å‹ç¼©ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒå…ƒæ•°æ®åŒ…çš„åˆ†ç¦»,æ”¯æŒè¿™ç§å­—ä½“çš„æµè§ˆå™¨æœ‰ã€IE9+,Firefox3.5+,Chrome6+,Safari3.6+,Opera11.1+ã€‘ï¼› Embedded Open Type(.eot)æ ¼å¼.eotå­—ä½“æ˜¯IEä¸“ç”¨å­—ä½“ï¼Œå¯ä»¥ä»TrueTypeåˆ›å»ºæ­¤æ ¼å¼å­—ä½“,æ”¯æŒè¿™ç§å­—ä½“çš„æµè§ˆå™¨æœ‰ã€IE4+ã€‘ï¼› SVG(.svg)æ ¼å¼.svgå­—ä½“æ˜¯åŸºäºSVGå­—ä½“æ¸²æŸ“çš„ä¸€ç§æ ¼å¼,æ”¯æŒè¿™ç§å­—ä½“çš„æµè§ˆå™¨æœ‰ã€Chrome4+,Safari3.1+,Opera10.0+,iOS Mobile Safari3.2+ã€‘ã€‚ å¤šæµè§ˆå™¨æ”¯æŒæµè§ˆå™¨çš„æ”¯æŒæƒ…å†µï¼š ä»ä¸Šé¢æµè§ˆå™¨å¯¹å­—ä½“æ”¯æŒæƒ…å†µå¯ä»¥å¾—å‡º,ä¸ºäº†è¾¾åˆ°æ›´å¤šæµè§ˆç‰ˆæœ¬çš„æ”¯æŒ,è‡³å°‘éœ€è¦.woff,.eotä¸¤ç§æ ¼å¼å­—ä½“ï¼Œç”šè‡³è¿˜éœ€è¦.svgç­‰å­—ä½“è¾¾åˆ°æ›´å¤šç§æµè§ˆç‰ˆæœ¬çš„æ”¯æŒã€‚ä¸ºäº†ä½¿@font-faceè¾¾åˆ°æ›´å¤šçš„æµè§ˆå™¨æ”¯æŒï¼ŒPaul Irishå†™äº†ä¸€ä¸ªç‹¬ç‰¹çš„@font-faceè¯­æ³•å«Bulletproof @font-face: @font-face { font-family: &apos;YourWebFontName&apos;; src: url(&apos;YourWebFontName.eot?&apos;) format(&apos;eot&apos;);/*IE*/ src:url(&apos;YourWebFontName.woff&apos;) format(&apos;woff&apos;), url(&apos;YourWebFontName.ttf&apos;) format(&apos;truetype&apos;);/*éIE*/ } ä¸ºäº†æ›´å¤šæµè§ˆå™¨æ”¯æŒï¼Œä½ ä¹Ÿå¯ä»¥å†™æˆï¼š @font-face { font-family: &apos;YourWebFontName&apos;; src: url(&apos;YourWebFontName.eot&apos;); /* IE9 Compat Modes */ src: url(&apos;YourWebFontName.eot?#iefix&apos;) format(&apos;embedded-opentype&apos;), /* IE6-IE8 */ url(&apos;YourWebFontName.woff&apos;) format(&apos;woff&apos;), /* Modern Browsers */ url(&apos;YourWebFontName.ttf&apos;) format(&apos;truetype&apos;), /* Safari, Android, iOS */ url(&apos;YourWebFontName.svg#YourWebFontName&apos;) format(&apos;svg&apos;); /* Legacy iOS */ } è¿™å°±æ˜¯æˆ‘ä»¬ä¸Šé¢çœ‹åˆ°çš„å¤šä¸ªurlçš„æ¥å†ã€‚ç°åœ¨çš„é—®é¢˜æ˜¯æ€æ ·è·å–å­—ä½“ï¼Œä»¥åŠæ€æ ·ç”Ÿæˆå‡ ç§ä¸åŒçš„æ ¼å¼ã€‚ å…è´¹å­—ä½“çš„è·å–å’Œå¤„ç†40ä¸ªå¯é€šè¿‡@font-faceä½¿ç”¨çš„å…è´¹å­—ä½“ï¼Œå¯ä»¥æŒ‘é€‰ä½ çš„å­—ä½“ã€‚ä¾‹å¦‚æˆ‘ä»¬åˆ°Google Web Fonts,ä¸‹è½½æˆ‘ä»¬éœ€è¦çš„æ–‡ä»¶,ä¾‹å¦‚æ–‡ä»¶åDuru_Sans.zip,è§£å‹ç¼©ä¼šå‘ç°é‡Œé¢æœ‰ä¸€ä¸ªDuruSans-Regular.ttfæ–‡ä»¶ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦æƒ³åŠæ³•è·å¾—@font-faceæ‰€éœ€çš„.eot,.woff,.ttf,.svgæ‰€æœ‰å­—ä½“æ ¼å¼ã€‚è¦è·å–è¿™äº›å­—ä½“æ ¼å¼ï¼Œæˆ‘ä»¬éœ€è¦ç¬¬ä¸‰æ–¹å·¥å…·æˆ–è€…è½¯ä»¶æ¥å®ç°ã€‚å¯é€šè¿‡è®¿é—®fontsquirrelæ¥ä¸Šä¼ æˆ‘ä»¬çš„DuruSans-Regular.ttfæ–‡ä»¶ï¼Œ ä¸Šè½½æˆåŠŸåï¼Œä¼šå‡ºç°ä¸€ä¸ªä¸‹è½½æŒ‰é’®ï¼Œå¯è¿›è¡Œä¸‹è½½ä¸ºä¸€ä¸ªzipæ–‡ä»¶,è§£å‹ç¼©ååŒ…å«æˆ‘ä»¬æ‰€éœ€çš„å„ç§ç±»å‹å­—ä½“å’Œç”¨æ³•çš„demoï¼Œè§ä¸‹å›¾: æœ‰æ²¡æœ‰æ›´ç®€å•çš„ï¼Ÿå¯ä»¥ä½¿ç”¨æ‰˜ç®¡çš„Webå­—ä½“æœåŠ¡ã€‚ ä½¿ç”¨æ‰˜ç®¡çš„Webå­—ä½“æœåŠ¡ä»¥Google Web FontsæœåŠ¡ä¸ºä¾‹ï¼Œè®¿é—®Google Web Fonts,é€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„å­—ä½“ï¼ˆAdd to collectionï¼‰ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå­—ä½“ï¼ˆUseï¼‰ï¼ŒGoogle Web FontsæœåŠ¡ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€æ®µç±»ä¼¼&lt;link href=&#39;http://fonts.googleapis.com/css?family=Artifika&#39; rel=&#39;stylesheet&#39; type=&#39;text/css&#39;&gt;çš„ä»£ç ,é€šè¿‡è®¿é—®http://fonts.googleapis.com/css?family=Artifikaç”¨ä¸åŒçš„æµè§ˆå™¨çš„è®¿é—®ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä¾‹å¦‚ä½¿ç”¨googleæµè§ˆå™¨ï¼Œ @font-face { font-family: &apos;Artifika&apos;; font-style: normal; font-weight: 400; src: local(&apos;Artifika Medium&apos;), local(&apos;Artifika-Medium&apos;), url(http://themes.googleusercontent.com/static/fonts/artifika/v4/r0NXNnpds-Akyno8nTG0zfesZW2xOQ-xsNqO47m55DA.woff) format(&apos;woff&apos;); } ä½¿ç”¨Safariæµè§ˆå™¨ç‰ˆæœ¬4,ç»“æœå¦‚ä¸‹ï¼š @font-face { font-family: &apos;Artifika&apos;; font-style: normal; font-weight: 400; src: local(&apos;Artifika Medium&apos;), local(&apos;Artifika-Medium&apos;), url(http://themes.googleusercontent.com/static/fonts/artifika/v4/z0sjSaXjDxxgrMTOLI1lSfesZW2xOQ-xsNqO47m55DA.ttf) format(&apos;truetype&apos;); } å¯è§è°·æ­Œå­—ä½“APIå…·æœ‰è·¨æµè§ˆç‰¹æ€§,å…·ä½“çš„ç”¨æ³•å¯è®¿é—®è°·æ­Œå­—ä½“APIä½¿ç”¨æ•™ç¨‹ã€‚ ä½¿ç”¨å­—ä½“æ¥ä»£æ›¿å›¾æ ‡ä½¿ç”¨å­—ä½“æ¥å®ç°å›¾æ ‡,å°ºå¯¸å’Œé¢œè‰²å¯ä»¥ç”¨cssæ¥æ§åˆ¶,è€Œä¸”å­—ä½“æ–‡ä»¶å¾ˆå°,å¯¹æ€§èƒ½ä¼˜åŒ–æœ‰å¥½å¤„ã€‚å…ˆä»‹ç»ä¸€ä¸ªå›¾æ ‡å­—ä½“Font Awesome,ä¸­æ–‡ä»‹ç»å¯ä»¥è®¿é—®http://www.bootcss.com/p/font-awesome/ã€‚Font Awesomeæ˜¯ä¸€å¥—ä¸“ä¸ºTwitter Bootstrapè®¾è®¡çš„å›¾æ ‡å­—ä½“ï¼Œå‡ ä¹å›Šæ‹¬äº†ç½‘é¡µä¸­å¯èƒ½ç”¨åˆ°çš„æ‰€æœ‰å›¾æ ‡ï¼Œè¿™äº›å›¾æ ‡é€šè¿‡Web Fontçš„æ–¹å¼æ¥æ˜¾ç¤ºï¼Œå¯ä»¥è¢«ä»»æ„ç¼©æ”¾ã€æ”¹å˜é¢œè‰²ï¼Œä½ å¯ä»¥åƒä¿®æ”¹æ–‡å­—æ ·å¼é‚£æ ·æ¥ä¿®æ”¹å›¾æ ‡æ ·å¼ã€‚æºç å¯è®¿é—®https://github.com/FortAwesome/Font-Awesome/å‡è®¾æˆ‘è¦æ˜¾ç¤ºä¸€ä¸ªçº¢è‰²çš„é“ƒé“› å®ç°ä»£ç å¦‚ä¸‹ï¼š &lt;!doctype html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./font-awesome/css/font-awesome.css&quot;&gt; &lt;/head&gt; &lt;body&gt; &lt;div&gt; &lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-bell&quot; style=&quot;color:red&quot; &gt;&lt;/i&gt; &lt;/a&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; å‡è®¾font-awesome.csså·²ç»å­˜åœ¨ï¼Œåªç”¨äº†faå’Œfa-bellæ ·å¼å°±å·²ç»æå®šï¼Œçœ‹çœ‹ä»–ä»¬çš„å®šä¹‰: .fa { display: inline-block; font-family: FontAwesome; font-style: normal; font-weight: normal; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } .fa-bell:before { content: &quot;\\f0f3&quot;; } è¿™é‡Œç”¨äº†ä¸€ä¸‹css3çš„ä¼ªå…ƒç´ ï¼Œfaç”¨æ¥è¿›è¡Œå ä½ï¼Œline-height: 1,è¡Œé«˜å®šä¹‰ä¸ºæ•°å­—ï¼Œå®é™…é«˜åº¦éšç€font-sizeå˜åŒ–ã€‚fa-bell:beforetç”¨äºæŠŠiconè¦†ç›–åˆ°å®é™…å…ƒç´ ä¸Šé¢ã€‚\\f0f3ä¸ºé“ƒé“›çš„Unicodeã€‚è¿™ä¸ªç¼–ç æˆ‘ä»¬è®°ä¸ä½ï¼Œå¯ä»¥å€ŸåŠ©å­—ä½“ç¼–è¾‘è½¯ä»¶FontLabï¼Œä½¿ç”¨å…¶æ‰“å¼€fontawesome-webfont.ttfæ–‡ä»¶ï¼Œè¿›è¡Œæœç´¢(ctrl+f5)ï¼Œæ“ä½œç»“æœå¦‚ä¸‹å›¾ï¼š FontLabå¯ä»¥è®¾è®¡è‡ªå·±çš„å­—ä½“æ–‡ä»¶ï¼Œå…·ä½“ä½¿ç”¨å¯å‚è§CSS3 ç”¨å­—ä½“æ¥ä»£æ›¿å›¾æ ‡çš„æ˜¾ç¤ºå®Œå…¨æŒ‡å—ã€‚ å‚è€ƒæ–‡çŒ® å‰ç«¯æ€§èƒ½ä¼˜åŒ–è¿›é˜¶ä¹‹CSSæ— å›¾ç‰‡æŠ€æœ¯ CSS3 @font-face CSS3 ç”¨å­—ä½“æ¥ä»£æ›¿å›¾æ ‡çš„æ˜¾ç¤ºå®Œå…¨æŒ‡å— Webå¼€æ”¾å­—ä½“æ ¼å¼ Webç‰ˆå¼å’Œ@font-faceç®€ä»‹ è°·æ­Œå­—ä½“APIä½¿ç”¨æ•™ç¨‹ 40ä¸ªå¯é€šè¿‡@font-faceä½¿ç”¨çš„å…è´¹å­—ä½“ æ·±å…¥äº†è§£cssçš„è¡Œé«˜Line Heightå±æ€§","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"HTML&CSS","slug":"HTML-CSS","permalink":"http://yoursite.com/tags/HTML-CSS/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Ubuntu 16.04çš„é…ç½®å’Œå®‰è£…","slug":"13åŸºç¡€æŠ€æœ¯/linux/ubuntu/ubuntu16","date":"2013-06-26T00:00:00.000Z","updated":"2018-05-27T09:06:00.058Z","comments":true,"path":"2013/06/26/13åŸºç¡€æŠ€æœ¯/linux/ubuntu/ubuntu16/","link":"","permalink":"http://yoursite.com/2013/06/26/13åŸºç¡€æŠ€æœ¯/linux/ubuntu/ubuntu16/","excerpt":"","text":"å¸¸ç”¨å®‰è£…è®¾ç½®SSHæœåŠ¡apt-get install openssh-server ç¡®è®¤å®‰è£…SSHæœåŠ¡æˆåŠŸä¸å¦ ps -ef | grep sshd çœ‹åˆ°sshdè¡¨æ˜ssh-serverå¯åŠ¨;å¦åˆ™ /etc/init.d/ssh start æ‰‹åŠ¨è¿›è¡Œå¯åŠ¨ ##SSHæ— å¯†ç ç™»å½•è®¾ç½® åœ¨æœ¬åœ°æœºå™¨ä¸Šä½¿ç”¨ssh-keygenäº§ç”Ÿå…¬é’¥ç§é’¥å¯¹ç¡®ä¿æœ¬æœºæœ‰SSHå…¬é’¥ï¼ˆä¸€èˆ¬æ˜¯æ–‡ä»¶~/.ssh/id_rsa.pubï¼‰ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œä½¿ç”¨ssh-keygenå‘½ä»¤ç”Ÿæˆä¸€ä¸ª ssh-keygen -t rsa ç”¨ssh-copy-idå°†å…¬é’¥å¤åˆ¶åˆ°è¿œç¨‹æœºå™¨ä¸­å°†æœ¬æœºçš„å…¬é’¥æ‹·è´åˆ°æœåŠ¡å™¨çš„authorized_keysæ–‡ä»¶ssh-copy-id -i ~/.ssh/id_rsa.pub test@192.168.200.1 å¦‚æœå¯¹æ–¹æœºå™¨sshç«¯å£ä¸æ˜¯22ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ssh-copy-id -i ~/.ssh/id_rsa.pub &quot;-p 20022 test@192.168.200.1&quot; å¦‚æœæ²¡æœ‰ssh-copy,å¯ä»¥ä½¿ç”¨cat ~/.ssh/id_rsa.pub | ssh test@192.168.200.1 &quot;cat - &gt;&gt; ~/.ssh/authorized_keys&quot; ç™»å½•ssh test@192.168.200.1 å®‰è£…unrarsudo apt install unrar å®‰è£…gitå’Œsvnsudo apt-get install gitsudo apt-get install subversion å®‰è£…flashpluginsudo apt-get install flashplugin-installer å®‰è£…Chromeåˆ° https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb ä¸‹è½½æœ€æ–°çš„å®‰è£…æ–‡ä»¶ã€‚ ç„¶å ä»£ç å¦‚ä¸‹: sudo apt-get install libappindicator1 libindicator7 sudo dpkg -i google-chrome-stable_current_amd64.deb sudo apt-get -f install å®‰è£…ä¸­æ–‡manæ‰‹å†Œsudo apt-get install manpages-zh æŸ¥çœ‹man æ‰‹å†Œå®‰è£…åˆ°å“ªé‡Œdpkg -L manpages-zh | less å¸¸ç”¨é…ç½®ç”¨æˆ·é…ç½®æ·»åŠ ç”¨æˆ·ç»„addgroup admin æ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·useradd -d /home/test -s /bin/bash -m test å‚æ•°mè¡¨ç¤ºå¦‚æœè¯¥ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥ç›®å½• è®¾ç½®å¯†ç passwd test å°†æ–°ç”¨æˆ·testæ·»åŠ åˆ°ç”¨æˆ·ç»„adminusermod -a -G admin test ä¸ºæ–°ç”¨æˆ·è®¾å®šsudoæƒé™vi /etc/sudoersæ‰¾åˆ°root ALL=(ALL:ALL) ALLï¼Œä¸‹é¢åœ¨åŠ å…¥ä¸€è¡Œtest ALL=(ALL) NOPASSWD: ALL NOPASSWDè¡¨ç¤ºï¼Œåˆ‡æ¢sudoçš„æ—¶å€™ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç  sudoä¸ç”¨è¾“å…¥å¯†ç çš„æ–¹æ³•ç¡®ä¿ç”¨æˆ·å±äºsudoç»„sudo vi /etc/sudoersç¡®ä¿ä¸‹é¢çš„æ²¡æœ‰è¢«â€œï¼ƒâ€æ³¨é‡Š%sudo ALL=(ALL:ALL) ALLæ·»åŠ ä¸‹é¢æ–°å‘½ä»¤åˆ°æ–‡ä»¶æœ€ä¸‹é¢%sudo ALL=NOPASSWD:ALLwq! ä¿å­˜ä¿®æ”¹ å…è®¸suåˆ°rootUbuntu å®‰è£…åï¼Œrootç”¨æˆ·é»˜è®¤æ˜¯è¢«é”å®šäº†çš„ï¼Œä¸å…è®¸ç™»å½•ï¼Œä¹Ÿä¸å…è®¸â€œsuâ€åˆ° rootã€‚å…è®¸ su åˆ° rootéå¸¸ç®€å•ï¼Œè®¾ç½®å¯†ç å°±å¯ä»¥äº† `sudo passwd` æ›´æ¢å›½å†…è½¯ä»¶æºsudo vi /etc/apt/sources.list åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ ä¸‹é¢çš„ç½‘æ˜“çš„è½¯ä»¶æº deb http://mirrors.163.com/ubuntu/ precise-updates main restricted deb-src http://mirrors.163.com/ubuntu/ precise-updates main restricted deb http://mirrors.163.com/ubuntu/ precise universe deb-src http://mirrors.163.com/ubuntu/ precise universe deb http://mirrors.163.com/ubuntu/ precise-updates universe deb-src http://mirrors.163.com/ubuntu/ precise-updates universe deb http://mirrors.163.com/ubuntu/ precise multiverse deb-src http://mirrors.163.com/ubuntu/ precise multiverse deb http://mirrors.163.com/ubuntu/ precise-updates multiverse deb-src http://mirrors.163.com/ubuntu/ precise-updates multiverse deb http://mirrors.163.com/ubuntu/ precise-backports main restricted universe multiverse deb-src http://mirrors.163.com/ubuntu/ precise-backports main restricted universe multiverse æˆ–è€… # deb cdrom:[Ubuntu 16.04 LTS _Xenial Xerus_ - Release amd64 (20160420.1)]/ xenial main restricted deb-src http://archive.ubuntu.com/ubuntu xenial main restricted #Added by software-properties deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe #Added by software-properties deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-properties deb http://mirrors.aliyun.com/ubuntu/ xenial universe deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-properties deb http://archive.canonical.com/ubuntu xenial partner deb-src http://archive.canonical.com/ubuntu xenial partner deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe #Added by software-properties deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe deb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse æ›´æ–°è½¯ä»¶æºï¼šsudo apt-get update å¦‚æœå‡ºç°é”™è¯¯E: Problem executing scripts APT::Update::Post-Invoke-Successï¼Œå¯ä»¥å…ˆæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ sudo apt-get remove libappstream3","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/tags/Ubuntu/"}],"keywords":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}]},{"title":"ubuntu14ä¸‹å®‰è£…mysql5.6","slug":"22programming/db/mysql/ubuntu14ä¸‹å®‰è£…mysql","date":"2013-06-26T00:00:00.000Z","updated":"2018-12-10T15:17:19.628Z","comments":true,"path":"2013/06/26/22programming/db/mysql/ubuntu14ä¸‹å®‰è£…mysql/","link":"","permalink":"http://yoursite.com/2013/06/26/22programming/db/mysql/ubuntu14ä¸‹å®‰è£…mysql/","excerpt":"","text":"å®‰è£…mysql å®‰è£…mysqlä¾èµ–åŒ… å®‰è£…ä¾èµ–åŒ…libaio1.so sudo apt-get install libaio1 å…¶ä»–ä¾èµ–ï¼Œè‹¥å·²å®‰è£…å¯çœç•¥ sudo apt-get install cmake libncurses5-dev bison g++ ä¸‹è½½å¹¶å®‰è£… åœ¨å®˜æ–¹ç½‘ç«™ä¸‹è½½mysql-apt-config_0.2.1-1ubuntu14.04_all.deb æ‰§è¡Œ sudo dpkg -i mysql-apt-config_0.2.1-1ubuntu14.04_all.deb åœ¨å‡ºç°çš„ç•Œé¢é€‰æ‹©MySQL 5.6ï¼Œæ¥ç€æ‰§è¡Œä¸‹é¢å‘½ä»¤ sudo apt-get update å®‰è£…mysql-server sudo apt-get install mysql-server æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ mysql -uroot -p è¾“å…¥å‰é¢å®‰è£…æ—¶è®¾ç½®çš„rootå¯†ç ï¼Œå¦‚æœè¿›å…¥æˆåŠŸåˆ™å®‰è£…å®Œæˆ #mysqlç®¡ç†# ç›®å½•çš„åˆ›å»º sudo mkdir -p /usr/local/mysql/data ç»„åŠç”¨æˆ·åˆ›å»º sudo groupadd mysql #æ·»åŠ ç»„ sudo useradd -g mysql mysql -s /bin/false #åˆ›å»ºç”¨æˆ·mysqlå¹¶åŠ å…¥åˆ°mysqlç»„ï¼Œä¸å…è®¸mysqlç”¨æˆ·ç›´æ¥ç™»å½•ç³»ç»Ÿ å¯åŠ¨/åœæ­¢ Mysql sudo /etc/init.d/mysql startsudo /etc/init.d/mysql stop å¸¸ç”¨å‘½ä»¤load data infile â€˜/home/ww/mydata/big-test/weblog_entries.txtâ€™ into table weblogs fields terminated by â€˜\\tâ€™ terminated by â€˜\\r\\nâ€™; ALTER TABLE weblogs MODIFY COLUMN md5 VARCHAR(50); å‚è€ƒhttp://blog.csdn.net/linsanhua/article/details/17608269http://wkm.iteye.com/blog/2018192http://www.cnblogs.com/wuhou/archive/2008/09/28/1301071.html /usr/my.cnf cd /usr ; /usr/bin/mysqld_safe &amp;Windowsæ“ä½œç³»ç»Ÿæœ€åçš„æ¢è¡Œç¬¦æ˜¯\\r\\nï¼Œunixæ˜¯\\n","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/tags/Ubuntu/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"ä»å¤é¾™æ­¦ä¾ çœ‹ç®¡ç†","slug":"90æ‚ä¸ƒæ‚å…«/æ­¦ä¾ çœ‹ç®¡ç†","date":"2013-06-11T00:00:00.000Z","updated":"2018-12-10T17:00:35.009Z","comments":true,"path":"2013/06/11/90æ‚ä¸ƒæ‚å…«/æ­¦ä¾ çœ‹ç®¡ç†/","link":"","permalink":"http://yoursite.com/2013/06/11/90æ‚ä¸ƒæ‚å…«/æ­¦ä¾ çœ‹ç®¡ç†/","excerpt":"","text":"å¼•è¨€å‘ç°å°æ—¶å€™çœ‹å¤é¾™çš„å°è¯´å½“æ—¶è¿˜çœŸæ²¡çœ‹æ‡‚ï¼Œåªè§‰å¾—ä¸»è§’æ€ä¹ˆé‚£ä¹ˆè‹¦ï¼Œä¸è¿‡ç°åœ¨åœ¨å›å¿†ä¸€ä¸‹ï¼Œå‘ç°å¤é¾™ç«Ÿç„¶æŠŠä¸€ä¸ªä¸€ä¸ªçš„åœºæ™¯å°åœ¨äº†æˆ‘çš„è„‘æµ·ä¸­ï¼Œå°è±¡æ¯”è¾ƒæ·±åˆ»çš„æœ‰ï¼Œä½¿ç”¨å­”é›€ç¿çš„åœºæ™¯ï¼Œé˜¿é£ä¸€æ­¥ä¸€æ­¥è·Ÿåœ¨ä¸Šå®˜æƒŠè™¹çš„åŠæ­¥ä¹‹é—´ï¼Œå‚…çº¢é›ªä¸åœç»ƒä¹ ä¸€ä¸ªæ‹”åˆ€å§¿åŠ¿ï¼Œ èƒ¡é“èŠ±åœ¨é…’é¦†é‡Œçš„ç¦»å¼€å¯¡å¦‡çš„é‚£ä¸€å¹•ï¼Œæå¯»æ¬¢å’Œä¸Šå®˜æƒŠè™¹çš„å¯¹å³™ï¼Œæ°¸è¿œå‚ç€å¤´çš„å¸ˆçˆ·ï¼Œè€ä¼¯åºŠåº•ä¸‹çš„è€å¥´ã€‚å¤é¾™å…¶å®æŠŠä¸€äº›ç”Ÿæ´»çš„å“²å­¦ï¼Œèå…¥åˆ°æ­¦ä¾ ä¸­ï¼Œä»Šå¤©çº¦è°ˆä¸€ä¸‹æ­¦ä¾ ä¸­å¯¹ç®¡ç†çš„ä¸€äº›å¯å‘ã€‚ ä»æ­¦ä¾ çœ‹äººæ‰å¥½çš„æ€æ‰‹åº”è¯¥åˆ†æˆä¸¤ç§,ä¸€ç§æ˜¯é¡¶çº§çš„,ä¸€ç§æ˜¯ä¼˜ç§€çš„ã€‚ä»€ä¹ˆæ˜¯é¡¶çº§çš„ï¼Ÿè¿™ç§äººæ­¦åŠŸå·²ç»è¾¾åˆ°åŒ–å¢ƒï¼Œè¿™æ˜¯ä¸€ä¸ªä»€ä¹ˆçš„å¢ƒç•Œï¼Ÿä¹Ÿå°±æ˜¯è¯´å¯¹äºä»–æ¥è¯´ï¼Œå·²ç»æ²¡æœ‰æ‹›å¼å¯è¨€,ä½ å¯ä»¥æƒ³æƒ³å¼ ä¸‰ä¸°ã€æ‰«åœ°åƒ§ã€é£æ¸…æ‰¬çš„æ ·å­ã€‚ è·¯ä¸Šçš„ä¸€ç‰‡æ ‘å¶ã€æ ‘æã€çŸ³å¤´ä»€ä¹ˆçš„ï¼Œè¶³ä»¥ä½¿å¯¹æ‰‹æ¯™å‘½ï¼Œè€æ¿ä»¬æœ€å–œæ¬¢çš„æ˜¯è¿™ç±»äººæ‰ï¼Œä½†æ˜¯å¯é‡ä¸å¯æ±‚ã€‚ è¿˜æœ‰çš„å°±æ˜¯ä¼˜ç§€çš„äººæ‰ï¼Œè¿™ç§äººåº”è¯¥ä¸å°‘,ä»–ä»¬çš„æ­¦åŠŸä¹Ÿå¾ˆé«˜ï¼Œä¸”å¤šæœ‰ä¸€é¢—å¯æ€€æ‰ä¸é‡çš„å¿ƒï¼Œäº¤ä»£çš„äº‹æƒ…ä¸€èˆ¬éƒ½èƒ½æå®šã€‚ä½†æ˜¯å‡ºä»»åŠ¡å‰ï¼Œè€æ¿ä¼šç»™ä»–åŒ¹é…ç›¸åº”çš„å›¢é˜Ÿï¼Œå¯èƒ½è¦å®å˜±ä»–ä¸€ä¸‹å“ªäº›å±é™©çš„åœ°æ–¹ï¼Œå»ºè®®ä»–ç”¨ä»€ä¹ˆæ‹›å¼ç­‰ç­‰,ä¸ç„¶æœ‰å¯èƒ½å›ä¸æ¥äº†ã€‚è¿™ç§äººè¿˜æœ‰ä¸ªè‡´å‘½çš„ç¼ºé™·ï¼Œä»–ä¸€ç›´ä»¥ä¸ºè‡ªå·±æ˜¯ä¸ªé¡¶çº§æ€æ‰‹ã€‚æ›´è¦å‘½çš„æ˜¯è€æ¿ä¹ŸæŠŠä»–å½“æˆäº†ç¬¬ä¸€ç§äººã€‚ ä»æ­¦ä¾ çœ‹æ‰§è¡ŒåŠ›ä¸Šæ¬¡è¯´ï¼Œæ­¦ä¾ ä¸­åŒ–å¢ƒï¼Œå…¶å®æ˜¯æ¯”å–»ä¸€ä¸ªäººçš„æ‰§è¡ŒåŠ›å¾ˆå¼ºï¼Œåœ¨ç®¡ç†ä¸Šï¼Œå…¶å®ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªæ­¦åŠŸä¿®ä¸ºæ¥æ¯”å–»ï¼Œé‚£å°±æ˜¯â€äººåˆ€åˆä¸€â€ã€‚æˆ‘çš„è§‚å¿µæ˜¯ç®¡ç†æ–¹å¼ä¸€å®šè¦å’Œä¸ªäººæ°”è´¨ï¼Œä¹ æƒ¯,èƒ½åŠ›è¦åŒ¹é…ã€‚æƒ³æƒ³ä¸€ä¸ªä¼™è®¡ï¼Œæ­¦åŠŸä¸é«˜ï¼Œå´åˆ°å¤„æ‹¿ç€â€å± é¾™åˆ€â€,è¡Œèµ°æ±Ÿæ¹–ä¼šæ€ä¹ˆæ ·?ä½†è¿™ç§äººå¾ˆå¤šï¼Œå¦‚æœä¸€ä¸ªäººè¯´ä»–ç”¨å¾·é²å…‹ç®¡ç†æ–¹å¼æˆ–è€…ä»–è¯´ç”¨çš„æ•æ·çš„ç®¡ç†æµç¨‹ï¼Œä½ ä¸€å®šè¦æ€€ç–‘ä»–æ‹¿ç€çš„æ˜¯ä¸æ˜¯â€å± é¾™åˆ€â€ã€‚","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}],"tags":[{"name":"æ­¦ä¾ ","slug":"æ­¦ä¾ ","permalink":"http://yoursite.com/tags/æ­¦ä¾ /"}],"keywords":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://yoursite.com/categories/æ‚ä¸ƒæ‚å…«/"}]},{"title":"PostgreSQL 9.2åœ¨CentOS 6.3ä¸‹çš„å®‰è£…å’Œwindosä¸‹çš„æµ‹è¯•","slug":"22programming/db/postgres/setup","date":"2013-05-01T00:00:00.000Z","updated":"2018-12-10T15:17:09.834Z","comments":true,"path":"2013/05/01/22programming/db/postgres/setup/","link":"","permalink":"http://yoursite.com/2013/05/01/22programming/db/postgres/setup/","excerpt":"","text":"å¼€å§‹åœ¨æœåŠ¡å™¨ç«¯ï¼Œæˆ‘ä»¬å¸¸å¸¸å°†PostgreSQLå®‰è£…åœ¨linuxç«¯,è€Œåœ¨æœ¬æœºæµ‹è¯•æ—¶ï¼Œæœ¬ç¨‹åºçŒ¿è¿˜æ˜¯å–œæ¬¢å®‰è£…åœ¨windowç«¯ã€‚ Linuxå®‰è£…æ­¥éª¤å®‰è£…ç¼–è¯‘æºç æ‰€éœ€çš„å·¥å…·å’Œåº“yum -y install wget gcc readline-devel zlib-devel make ä¸‹è½½æºç å‹ç¼©å’Œè§£å‹è¿›å…¥æºç å‹ç¼©åŒ…ä¸‹è½½ç›®å½• cd /usr/src ä¸‹è½½ wget http://ftp.postgresql.org/pub/source/v9.2.4/postgresql-9.2.4.tar.bz2 è§£å‹ tar jxvf ./postgresql-9.2.4.tar.bz2 æ‰§è¡Œæºç ç¼–è¯‘é…ç½®è„šæœ¬è¿›å…¥è§£å‹ç¼©æºç ç›®å½• cd ./postgresql-9.2.4 ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹è„šæœ¬,è¿›è¡Œæºç ç¼–è¯‘å®‰è£… ./configure make make install æ–°å¢ç”¨æˆ·å’Œç”¨æˆ·ç»„,åˆå§‹åŒ–æ•°æ®åº“æ•°æ®æ–‡ä»¶ç›®å½•æ–°å¢ç”¨æˆ·ç»„ groupadd postgres æ–°å¢ç”¨æˆ· useradd postgres -M -g postgres æ–°å»ºæ•°æ®åº“æ‰§è¡Œæ–‡ä»¶ç›®å½• mkdir -p /usr/local/pgsql æ–°å»ºæ•°æ®åº“æ•°æ®æ–‡ä»¶ç›®å½• mkdir -p /data/pgsql/data ä¿®æ”¹ç›®å½•æ‹¥æœ‰è€… chown -R postgres /usr/local/pgsql/. chown -R postgres /data/pgsql/data chown -R postgres /data/pgsql/data/. ç¼–è¾‘PATHæœç´¢è·¯å¾„ vi /etc/profileåœ¨æ–‡ä»¶çš„æœ€å PATH=/usr/local/pgsql/bin:$PATH export PATH ç”Ÿæ•ˆPATHæœç´¢è·¯å¾„ source /etc/profile æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬å˜æ›´ç™»å½•ç”¨æˆ· su postgres æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ /usr/local/pgsql/bin/initdb --encoding=utf8 -D /data/pgsql/data é€€å‡ºå˜æ›´ç™»å½•,å›åˆ°rootæƒé™ exit å¤åˆ¶PostgreSQLæ‰§è¡Œè„šæœ¬ cp /usr/src/postgresql-9.2.4/contrib/start-scripts/linux /etc/init.d/postgresql å¢åŠ æ‰§è¡Œæƒé™ chmod +x /etc/init.d/postgresql ç¼–è¾‘PostgreSQLæ‰§è¡Œè„šæœ¬ï¼ŒæŒ‡å®šæ•°æ®åº“æ–‡ä»¶ç›®å½• vi /etc/init.d/postgresql ä¿®æ”¹å…¶ä¸­çš„PGDATA=&quot;/data/pgsql/data&quot; ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œé…ç½®å¯è®¿é—®æ•°æ®åº“çš„ç½‘ç»œåœ°å€ vi /data/pgsql/data/postgresql.conf listen_addresses = â€˜*â€™ å¯åŠ¨PostgreSQLæœåŠ¡å¯åŠ¨PostgreSQL service postgresql start é‡å¯æ•°æ®åº“æœåŠ¡ service postgresql restart è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨æœåŠ¡chkconfig postgresql on ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®å¯†ç md5éªŒè¯vi /data/pgsql/data/pg_hba.conf ä¿®æ”¹å™¨å†…å®¹å¦‚ä¸‹ # &quot;local&quot; is for Unix domain socket connections only local all all md5 # IPv4 local connections: #host all all 127.0.0.1/32 trust host all all all md5 trustä¸ºæ˜æ–‡ï¼Œè¿™æ ·æ˜¯å±é™©çš„ï¼Œä¸€èˆ¬æ”¹æˆmd5ã€‚ ç”¨æˆ·å’Œæ•°æ®åº“çš„åˆ›å»ºåˆ›å»ºç”¨æˆ· éœ€è¦å…ˆå¯åŠ¨æ•°æ®åº“åï¼Œæ‰èƒ½æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ createuser -W -h 127.0.0.1 testUser åˆ›å»ºç”¨æˆ·testUser,-Wè¡¨ç¤ºéœ€è¦è¾“å…¥å¯†ç ã€‚ åˆ›å»ºæ•°æ®åº“ createdb -U testUser mydb -Uè¡¨ç¤ºç”¨æˆ·ï¼Œmydbä¸ºæ•°æ®åº“åã€‚ é˜²ç«å¢™è®¾ç½®æœ‰æ—¶å®¢æˆ·ç«¯è®¿é—®ä¸äº†æ•°æ®åº“ï¼Œå¯èƒ½æ˜¯é˜²ç«å¢™çš„é—®é¢˜ï¼Œ,postgresqlé»˜è®¤çš„è®¿é—®ç«¯å£ä¸º5432,æ“ä½œå¦‚ä¸‹: /sbin/iptables -I INPUT -p tcp --dport 5432 -j ACCEPT /etc/rc.d/init.d/iptables save #ä¿å­˜é…ç½® /etc/rc.d/init.d/iptables restart #é‡å¯æœåŠ¡ å…¶ä»–ç›¸å…³å‘½ä»¤å¦‚ä¸‹ï¼šservice iptables stop #å…³æ‰é˜²ç«å¢™chkconfig iptables off #æ°¸ä¹…å…³é—­é˜²ç«å¢™ windowså®‰è£…æ­¥éª¤ä¸‹è½½http://www.enterprisedb.com/products-services-training/pgbindownloadä¸‹è½½ä¸€ä¸ªå…å®‰è£…ç‰ˆæœ¬ï¼Œè§£å‹ç¼©åˆ°D:\\pgsqlã€‚ è®¾ç½®ç¯å¢ƒå˜é‡è®¾ç½®ç¯å¢ƒå˜é‡,å†™ä¸€ä¸ªæ‰¹å¤„ç†,setEnv.cmd,å†…å®¹å¦‚ä¸‹ set PGHOME=d:\\pgsql set PATH=%PGHOME%\\bin;%path% set PGHOST=localhost set PGLIB=%PGHOME%\\lib set PGDATA=%PGHOME%\\data start åˆå§‹åŒ–æ•°æ®åº“initdb -D &quot;D:\\pgsql\\data-new&quot; --encoding=utf8 --locale=C è‹¥ä¸ä½¿ç”¨-U pgsqlUser,åˆ™æ•°æ®åº“é‡Œè‡ªåŠ¨æ·»åŠ å½“å‰windowsç”¨æˆ·ä¸ºæ•°æ®åº“å¸å·pgsqlUserå¯ä»¥é€šè¿‡net user pgsqlUser 123456 /add,ä½†æœ‰çš„ç³»ç»Ÿå¯èƒ½ä¸æ”¯æŒã€‚å°±ä¸è¦æå¤æ‚äº†ã€‚ å¯åŠ¨æ•°æ®åº“D:\\pgsql&gt;pg_ctl start ä¸Šé¢å‘½ä»¤åœ¨setEnv.cmdæ‰§è¡Œåæ‰§è¡Œ å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦æŒ‡å®šPGDATA,è¿›è¡ŒD:\\pgsql\\bin,æ‰§è¡Œ pg_ctl -D &quot;D:\\pgsql\\data-new&quot; -l logfile start åœæ­¢æ•°æ®åº“pg_ctl -D &quot;D:\\pgsql\\data&quot; stop åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·å’Œlinuxç±»ä¼¼,éœ€è¦å…ˆå¯åŠ¨æ•°æ®åº“ createuser -s -W -h 127.0.0.1 test sè¡¨ç¤ºä¸ºè¶…çº§ç”¨æˆ·ï¼Œ-Wæç¤ºè¾“å…¥å¯†ç  åˆ é™¤ï¼Œæ‰§è¡Œdropuser -h 127.0.0.1 test åˆ›å»ºæ•°æ®åº“ createdb -h 127.0.0.1 -U test mydb å‘½ä»¤è¡Œè®¿é—®æ•°æ®åº“ psql -h 127.0.0.1 -U test -d mydb åœ¨psqlä¸­è¿›è¡Œå¯†ç ä¿®æ”¹ ALTER USER test PASSWORD &apos;goodluck&apos;; psqlçš„å…¶ä»–åŸºæœ¬ç”¨æ³• æ˜¾ç¤ºå½“å‰æ—¥æœŸ select current_date;è®¡ç®—md5 åŠ å¯† select md5(â€˜123456â€™);æ‰§è¡Œsqlè¯­å¥ PostgreSQLæ•°æ®åº“å¤‡ä»½ä¸æ¢å¤å¤‡ä»½å¤‡ä»½æ•´ä¸ªåº“ pg_dump -h 127.0.0.1 -C -U test mydb &gt; mydb.bak å¤‡ä»½æ•´ä¸ªåº“è¡¨ç»“æ„ pg_dump -h 127.0.0.1 -C -s -U test mydb &gt; mydb.sql å¤‡ä»½å•ä¸ªè¡¨ç»“æ„ pg_dump -h 127.0.0.1 -C -t my_calendar_event -t outsourcing_project -s -U test mydb &gt; mydb.sql ä¸Šé¢æ˜¯å¤‡ä»½ä¸¤ä¸ªè¡¨çš„ç»“æ„ï¼Œ-tæŒ‡å®šã€‚ æ¢å¤psql -h 127.0.0.1 -U test -d mydb &lt; testdb.bak å­¦ä¹ ç½‘ç«™ http://www.postgres.org.cn/http://bbs.pgsqldb.com","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yoursite.com/tags/æ•°æ®åº“/"},{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"http://yoursite.com/tags/PostgreSQL/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]},{"title":"Ubuntu 14.04 LTS å®‰è£…Oracle 11","slug":"22programming/db/oracle/linuxä¸‹çš„å®‰è£…","date":"2013-05-01T00:00:00.000Z","updated":"2018-12-10T15:16:53.461Z","comments":true,"path":"2013/05/01/22programming/db/oracle/linuxä¸‹çš„å®‰è£…/","link":"","permalink":"http://yoursite.com/2013/05/01/22programming/db/oracle/linuxä¸‹çš„å®‰è£…/","excerpt":"","text":"å®‰è£…å¿…è¦çš„åŒ…ä»¥ä¸‹å®‰è£…é’ˆå¯¹æˆ‘çš„å¹³å°ï¼Œ sudo apt-get install kshsudo apt-get install libstdc++5sudo apt-get install zlibc å‡ºé”™sudo apt-get install elfutilssudo apt-get install expat åˆ›å»ºç”¨æˆ·å’Œç»„sudo groupadd oinstallsudo groupadd dbasudo useradd -g oinstall -G dba -d /opt/oracle -s /bin/bash oraclesudo passwd oracle //è®¾ç½®å¯†ç ä¹Ÿä¸ºoracle #ä¿®æ”¹å†…æ ¸å‚æ•°#åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œä¿®æ”¹ /etc/sysctl.conf æ–‡ä»¶ï¼ŒåŠ ä¸Šå¦‚ä¸‹å‚æ•° fs.aio-max-nr = 1048576fs.file-max = 6815744kernel.shmall = 2097152kernel.shmmax = 536870912kernel.shmmni = 4096kernel.sem = 250 32000 100 128net.ipv4.ip_local_port_range = 9000 65500net.core.rmem_default = 262144net.core.rmem_max = 4194304net.core.wmem_default = 262144net.core.wmem_max = 1048586 ä¸ºä½¿ä¸Šè¿°é…ç½®ç”Ÿæ•ˆï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°é”™è¯¯ï¼Œå°±æˆåŠŸ /sbin/sysctl -pä¿®æ”¹ç”¨æˆ·é™åˆ¶vi /etc/security/limits.confï¼Œåœ¨æ–‡ä»¶ä¸­åŠ å…¥ oracle soft nproc 2047oracle hard nproc 16384oracle soft nofile 1024oracle hard nofile 65536oracle soft stack 10240 ä¿®æ”¹ç”¨æˆ·éªŒè¯é€‰é¡¹rootç”¨æˆ·ä¸‹ï¼šä¿®æ”¹/etc/pam.d/loginæ–‡ä»¶åŠ ä¸Šå¦‚ä¸‹å‚æ•° ä¿®æ”¹ç”¨æˆ·é…ç½®æ–‡ä»¶ä¿®æ”¹/etc/profileæ–‡ä»¶åŠ å…¥å¦‚ä¸‹å‚æ•°if [ $USER = â€œoracleâ€ ]; then if [ $SHELL = â€œ/bin/kshâ€ ]; then ulimit -p 16384 ulimit -n 65536 else ulimit -u 16384 -n 65536 fifi åˆ›å»ºéœ€è¦çš„æ–‡ä»¶å¤¹ï¼ˆç”¨äºå®‰è£…oracleï¼‰å¹¶è®¾ç½®å…¶æ‰€æœ‰æƒ mkdir -p /opt/oraclemkdir -p /opt/oraInventorychown -R oracle:oinstall /opt/oraclechown -R oracle:oinstall /opt/oraInventory ä¸ºOracleé…ç½®ç¯å¢ƒå˜é‡su oraclecd ~vi .bash_profile åœ¨æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ export ORACLE_BASE=/opt/oracle #è¿™ä¸ªåé¢å¯ä»¥éšä¾¿å¡«å†™export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/dbhome_1 #æ•°æ®åº“çš„sidexport ORACLE_SID=orclexport ORACLE_UNQNAME=orcl #é»˜è®¤å­—ç¬¦é›†export NLS_LANG=.AL32UTF8export PATH=${PATH}:${ORACLE_HOME}/bin/; oracleæœ¬èº«å¹¶ä¸æ”¯æŒubuntuæ¥å®‰è£…ï¼Œæ‰€ä»¥è¦è¿›è¡Œæ¬ºéª—oracleçš„å®‰è£…ç¨‹åºï¼ˆsudoæ‰§è¡Œï¼‰ï¼šåœ¨rootç”¨æˆ·ä¸‹æ‰§è¡Œï¼š ln -s /etc /etc/rc.dln -s /lib/i386-linux-gnu/libgcc_s.so.1 /lib/ln -s /usr/bin/awk /bin/awkln -s /usr/bin/basename /bin/basenameln -s /usr/bin/rpm /bin/rpmln -s /usr/lib/i386-linux-gnu/libpthread_nonshared.a /usr/lib/libpthread_nonshared.aln -s /usr/lib/i386-linux-gnu/libc_nonshared.a /usr/lib/libc_nonshared.aln -s /usr/lib/i386-linux-gnu/libstdc++.so.6 /lib/ln -s /usr/lib/i386-linux-gnu/libstdc++.so.6 /usr/lib/ln -s /usr/lib/i386-linux-gnu/libstdc++.so.5 /lib/ln -s /usr/lib/i386-linux-gnu/libstdc++.so.5 /usr/lib/ echo â€˜Red Hat Linux release 5â€™ &gt; /etc/redhat-release ä¸‹è½½oracleæ–‡ä»¶åˆ°/opt/oracleä¸‹ï¼ˆä»¥å‰å»ºç«‹çš„home)ä½¿ç”¨oracleç”¨æˆ·ç™»å½•ï¼Œç„¶åè§£å‹ç¼©Oracleå®‰è£…æ–‡ä»¶unzip linux_11gR2_database_1of2.zipè§£å‹å®Œæˆåï¼Œä¼šåœ¨å…¶ä¸‹å»ºç«‹æ–‡ä»¶databaseã€‚ cd databasechmod 777 runInstaller å®‰è£…oracleæ— æ³•ä½¿ç”¨å‘½ä»¤/usr/bin/xdpyinfoè‡ªåŠ¨æ£€æŸ¥æ˜¾ç¤ºå™¨é¢œè‰² åœ¨rootä¸‹æ‰§è¡Œ #xdpyinfo è®°å½•ä¸‹name of displayï¼šåçš„å­—ç¬¦ä¸²ï¼Œå¦‚ 127.0.0.1ï¼š1.0ï¼ˆä¹Ÿå¯æ‰§è¡Œxdpyinfo | grep â€˜name of displayâ€™ï¼‰ #xhost +è¿”å›ä¿¡æ¯ä¸ºï¼š access control disabled,clients can connect from any host 3.åˆ‡æ¢åˆ°Oracleç”¨æˆ· #su - oracle 4.åœ¨Oracleç”¨æˆ·ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œæ³¨æ„ï¼šä¸€å®šè¦å’Œrootä¸‹çš„ä¸€è‡´ã€‚export DISPLAY=:1.0 5.åœ¨Oracleä¸‹æ‰§è¡Œxdpyinfoå‘½ä»¤ï¼Œå¦‚æœèƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œè¯´æ˜è®¾ç½®æˆåŠŸ ä¹±ç é—®é¢˜å…³é—­è¯¥ç•Œé¢ï¼Œå…ˆåœ¨ç»ˆç«¯è¾“å…¥ï¼šexport LANG=zh_CN.gbkç„¶åå†æ‰§è¡Œï¼š./runInstaller oracle 11gå‡ºç°â€æœªæ‰¾åˆ°æ–‡ä»¶ E:\\development_tools\\database\\oracle\\install_d\\dbhome\\owb\\external\\oc4j_applications\\applications\\WFMLRSVCApp.earâ€ 2of2\\database\\stage\\Componentsé‡Œæ–‡ä»¶å¤åˆ¶åˆ°cp -r Components/ /opt/oracle/database/stage/Component/ é‡å¤å®‰è£…æ¸…ç©º/opt/oraInventory é­é‡Error in invoking target â€˜agent nmhsâ€™ of makefile vi $ORACLE_HOME/sysman/lib/ins_emagent.mk Search for the line$(MK_EMAGENT_NMECTL)Change it to:$(MK_EMAGENT_NMECTL) -lnnz11 http://www.postgres.org.cn/http://bbs.pgsqldb.com æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œè¾“å…¥å¦‚ä¸‹å››ä¸ªå‘½ä»¤ï¼šsed -i â€˜s/^(TNSLSNR_LINKLINE.\\$(TNSLSNR_OFILES)) (\\$(LINKTTLIBS))/\\1 -Wl,â€“no-as-needed \\2/gâ€™ $ORACLE_HOME/network/lib/env_network.mksed -i â€˜s/^(ORACLE_LINKLINE.\\$(ORACLE_LINKER)) (\\$(PL_FLAGS))/\\1 -Wl,â€“no-as-needed \\2/gâ€™ $ORACLE_HOME/rdbms/lib/env_rdbms.mksed -i â€˜s/^(\\$LD \\$LD_RUNTIME) (\\$LD_OPT)/\\1 -Wl,â€“no-as-needed \\2/gâ€™ $ORACLE_HOME/bin/genorasdkshsed -i â€˜s/^(\\s*)(\\$(OCRLIBS_DEFAULT))/\\1 -Wl,â€“no-as-needed \\2/gâ€™ $ORACLE_HOME/srvm/lib/ins_srvm.mkç„¶ååœ¨å›¾å½¢ç•Œé¢ç‚¹å‡»â€˜Retryâ€™å°±èƒ½ç»§ç»­å®‰è£…äº†ã€‚ æœ€ååº”è¯¥å°±é¡ºåˆ©å®Œæˆäº†ï¼ŒæŒ‰ç…§å®‰è£…ç¨‹åºæç¤ºæœ€åæ‰§è¡Œä¸¤ä¸ªè„šæœ¬:sudo /opt/oraInventory/orainstRoot.shsudo /opt/oracle/product/11.2.0/dbhome_1/root.sh æ²¡æœ‰sudoæƒé™ linux oracle No protocol specified åœ¨rootç”¨æˆ·ä¸‹æ‰§è¡Œecho â€˜oracle ALL=(ALL) ALLâ€™ &gt;&gt; /etc/sudoers ä½¿ç”¨netcaæ¥é…ç½®ç›‘å¬ ä½¿ç”¨dbcaæ¥åˆ›å»ºæ•°æ®åº“ http://www.linuxidc.com/Linux/2011-12/50092.htmhttp://www.xuebuyuan.com/1598278.html http://blog.csdn.net/idber/article/details/9039857http://www.2cto.com/database/201302/189368.htmlhttp://www.th7.cn/db/Oracle/201406/58542.shtml","categories":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}],"tags":[{"name":"Oracle","slug":"Oracle","permalink":"http://yoursite.com/tags/Oracle/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://yoursite.com/tags/æ•°æ®åº“/"}],"keywords":[{"name":"Programming","slug":"Programming","permalink":"http://yoursite.com/categories/Programming/"}]}]}